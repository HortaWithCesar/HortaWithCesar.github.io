<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Horta with César — Walking Tours no Faial</title>
  <meta name="description" content="Walking tours e trilhos no Faial com guia local. City tour Horta, Entre Montes, Caldeira e mais. Reserve já!" />
  <link rel="icon" type="image/png" href="logotipo1.png" />
  <style>
    @keyframes fadeIn {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}
header img {
  animation: fadeIn 1.4s ease forwards;
}
footer img {
  animation: fadeIn 1.8s ease forwards;
}
    /* Altura e alinhamento do menu */
nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;            /* altura total da barra */
}

/* Espaçamento interno do header */
header .wrap {
  padding: 8px 18px;       /* pequeno respiro vertical */
}

/* ===== HEADER FIXO ===== */
header{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: rgba(255,255,255,.9);
  backdrop-filter: saturate(150%) blur(6px);
  border-bottom: 1px solid var(--line);
  z-index: 999;
  transition: box-shadow .3s ease;
}

/* Sombra quando há scroll */
header.scrolled{
  box-shadow: 0 4px 10px rgba(0,0,0,.08);
}

/* Grelha base para centralizar conteúdo */
.wrap{
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 18px;
}


    :root{
      --bg:#ffffff; --fg:#0f172a; --muted:#475569; --brand:#0ea5e9; --brand2:#10b981;
      --card:#f8fafc; --line:#e2e8f0;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body {
  margin: 0;
  padding-top: 80px; /* sobe de 70 → 110px, para compensar a altura real */
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  color: var(--fg);
  background: var(--bg);
}

    nav a{color:var(--fg);text-decoration:none;margin-left:18px;font-weight:600}
    nav a:hover{color:var(--brand)}
    .lang-toggle{display:inline-flex;gap:6px;background:var(--card);border:1px solid var(--line);padding:6px;border-radius:999px}
    .lang-toggle button{border:0;background:transparent;padding:6px 10px;border-radius:999px;font-weight:700;cursor:pointer}
    .lang-toggle button.active{background:var(--brand);color:#fff}

    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center;padding:56px 0}
    .hero .media{min-height:260px;border:2px dashed var(--line);border-radius:16px;display:grid;place-items:center;font-weight:700;color:var(--muted)}
    h1{font-size:clamp(28px,4vw,44px);line-height:1.1;margin:0 0 8px}
    p.lead{font-size:clamp(16px,2.3vw,20px);color:var(--muted);margin:0 0 18px}
    .cta{display:flex;gap:12px;flex-wrap:wrap}
    .btn{appearance:none;border:0;border-radius:999px;padding:12px 18px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--brand);color:#fff}
    .btn-outline{background:#fff;border:2px solid var(--brand);color:var(--brand)}

    section{padding:40px 0;border-top:1px solid var(--line)}
    h2{font-size:clamp(22px,3vw,32px);margin:0 0 16px}
    /* Sobre mim: largura própria, sem grelha */
.about{
  display:block;           /* sai da grid de 2 colunas */
  max-width:1000px;        /* mais largo que antes, mas só aqui */
  margin:40px auto;        /* centra a secção e dá respiro */
  line-height:1.65;
  font-size:18px;
}
/* controla o comprimento das linhas para ficar legível */
.about p{max-width:80ch}

/* garante que a imagem flutuante não “empurra” o rodapé */
.about::after{content:"";display:block;clear:both}

    .ph{min-height:220px;border:2px dashed var(--line);border-radius:14px;display:grid;place-items:center;color:var(--muted);font-weight:700}

    .tours{display:grid;gap:22px}
    .tour-card{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;background:var(--card);border:1px solid var(--line);border-radius:16px;padding:18px}
    .tour-media{display:grid;gap:10px}
    .vid{height:160px;border:2px dashed var(--line);border-radius:12px;display:grid;place-items:center;color:var(--muted);font-weight:700}
    .gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
    .shot{height:80px;border:2px dashed var(--line);border-radius:10px;display:grid;place-items:center;color:var(--muted);font-size:12px}
    .facts{display:grid;gap:10px}
    .pill{display:inline-block;background:#fff;border:1px solid var(--line);border-radius:999px;padding:6px 10px;margin-right:8px;font-size:14px}
    .reserve{margin-top:8px}

    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:22px}
    form{display:grid;gap:10px}
    label{font-size:14px;color:var(--muted)}
    input,select,textarea{width:100%;padding:12px;border:1px solid var(--line);border-radius:10px;font:inherit}
    textarea{min-height:110px}
    .map{min-height:220px;border:2px dashed var(--line);border-radius:12px;display:grid;place-items:center;color:var(--muted);font-weight:700}

    footer{padding:32px 0;color:var(--muted);text-align:center;border-top:1px solid var(--line)}
    footer img{height:40px;display:block;margin:0 auto 10px}
    .small{font-size:12px;color:var(--muted)}

    @media (max-width:900px){
      .hero{grid-template-columns:1fr}
      .about{grid-template-columns:1fr}
      .tour-card{grid-template-columns:1fr}
      .gallery{grid-template-columns:repeat(2,1fr)}
    }
    .about .photo-wrap {
  position: relative;
  float: right;
  max-width: 420px;          /* tamanho máximo da imagem */
  margin: 8px 0 16px 36px;   /* empurra o texto à esquerda */
  border-radius: 16px;
  overflow: hidden;
}

.about .photo-wrap::before {
  content: "";
  position: absolute;
  top: -12%;
  left: -8%;
  width: 150%;
  height: 150%;
  background: radial-gradient(
    circle at center,
    rgba(16,185,129,0.25) 0%,
    rgba(34,197,94,0.18) 40%,
    rgba(101,163,13,0.10) 80%,
    transparent 100%
  );
  z-index: 0;
}

.about .photo-wrap img {
  position: relative;
  z-index: 1;
  width: 100%;
  height: auto;
  display: block;
  border-radius: inherit;
}


/* Garante que o conteúdo fica por cima do fundo */
.wrap, footer { position: relative; z-index: 1; }
/* Secção Sobre mim com camada de acento ao fundo */
#about{ position:relative; }
#about > *{ position:relative; z-index:2; }          /* conteúdo acima do fundo */
#about .accent{
  position:absolute; inset:0;
  z-index:1; pointer-events:none;
}

/* controla a posição/tamanho do grafismo */
#about .accent svg{
  position:absolute; right:6%; top:6%;
  width:min(520px,45vw); height:auto;
  opacity:.18;                                        /* intensidade do desenho */
  filter: drop-shadow(0 10px 24px rgba(0,0,0,.06));
}

/* mancha verde suave por baixo do SVG (para dar “glow”) */
#about .accent::before{
  content:""; position:absolute; right:0; top:0; bottom:-10%;
  width:50%; border-bottom-left-radius:60% 80%;
  background: radial-gradient(70% 60% at 65% 35%,
    rgba(34,197,94,.18) 0%,
    rgba(16,185,129,.12) 40%,
    rgba(16,185,129,.06) 70%,
    transparent 100%);
}
#about {
  position: relative;
}

#about > * {
  position: relative;
  z-index: 2;
}

#about .accent {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* posição e tamanho da folha */
#about .accent svg {
  position: absolute;
  right: 4%;
  top: 8%;
  width: min(460px, 38vw);
  opacity: .12;
  filter: drop-shadow(0 8px 18px rgba(0,0,0,.05));
}
/* posicionamento das camadas na secção */
#about{ position:relative; }
#about > *{ position:relative; z-index:2; }     /* conteúdo por cima do fundo */

/* a camada do grafismo fica por baixo e não é clicável */
#about .accent{
  position:absolute; inset:0; z-index:1; pointer-events:none;
}

/* posição/escala do SVG (ajusta aqui para “assentar” na foto) */
#about .accent svg{
  position:absolute;
  right:4%;           /* aproxima/afasta da direita */
  top:8%;             /* desce/sobe o desenho */
  width:min(460px,38vw);
  opacity:.12;        /* 0.10 mais suave | 0.16 mais visível */
  filter:drop-shadow(0 8px 18px rgba(0,0,0,.05));
}
/* Foto flutuante à direita + halo suave */
.photo-float{
  float: right;
  max-width: 420px;          /* tamanho da foto */
  margin: 8px 0 16px 36px;   /* espaço entre foto e texto à esquerda */
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}
.photo-float img{
  width: 100%;
  height: auto;
  display: block;
  border-radius: inherit;
}

/* Opcional: glow verde muito discreto por trás da foto */
.photo-float::before{
  content:"";
  position:absolute; inset:-12% -8% auto auto;
  width:150%; height:150%;
  background: radial-gradient(circle at 60% 40%,
    rgba(16,185,129,.22) 0%,
    rgba(34,197,94,.14) 45%,
    rgba(101,163,13,.08) 80%,
    transparent 100%);
  z-index:0;
}
.photo-float{ position:relative; } /* para o ::before funcionar */
.photo-float img{ position:relative; z-index:1; }

/* Mobile */
@media (max-width: 820px){
  .photo-float{ float:none; margin:20px auto; max-width:80%; }
}
/* ===== TRILHOS ===== */
#tours{
  padding: 60px 0;
  border-top: 1px solid var(--line);
}

.tours-head{
  display:flex; align-items:center; justify-content:space-between; gap:18px;
  margin-bottom: 18px;
}
.tours-head h2{ margin:0 }
.scroll-cue{
  appearance:none; border:0; border-radius:999px; padding:10px 14px;
  background:var(--brand); color:#fff; font-weight:700; cursor:pointer;
  display:inline-flex; align-items:center; gap:8px;
  box-shadow:0 6px 18px rgba(2,132,199,.25);
}
.scroll-cue:hover{ transform:translateY(1px); }

.tours-grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(12, 1fr);
}
.trail-card{
  grid-column: span 6;
  background:var(--card); border:1px solid var(--line);
  border-radius:16px; overflow:hidden; display:grid; grid-template-rows: 180px auto;
  transition: box-shadow .2s ease;
}
    /* Estilo especial para o primeiro card destacado */
.trail-card-featured {
  grid-template-columns: 1fr; /* foto e texto empilhados, não lado a lado */
  text-align: center;
}

/* força todos os botões a ter a mesma altura e alinhamento */
.trail-actions a {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 48px;
}

/* corrige o WhatsApp (ícone redondo) para alinhar no meio */
.trail-actions .btn-whatsapp,
.trail-actions .brand-round {
  width: 46px;
  height: 46px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
}

/* pequeno efeito premium opcional */
.trail-actions a:hover {
  transform: translateY(-2px);
  transition: transform 0.2s ease;
}


/* Opcional: ligeiramente mais largo e com sombra suave */
.trail-card-featured {
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.05);
  padding: 28px;
}
.trail-card-featured p {
  max-width: 80%;
  margin: 0 auto;
  line-height: 1.6;
}

.trail-card:hover{ box-shadow: 0 14px 28px rgba(2,6,23,.08) }

.trail-media{
  background:#eef6ff; display:grid; place-items:center; font-weight:700; color:var(--muted);
}
.trail-body{ padding:16px; display:grid; gap:10px }
.trail-title{ margin:0; font-size:clamp(18px,2.6vw,22px) }
.trail-meta{ display:flex; flex-wrap:wrap; gap:8px }
.pill{
  display:inline-block; background:#fff; border:1px solid var(--line);
  border-radius:999px; padding:6px 10px; font-size:14px
}
.btn{ appearance:none; border:0; border-radius:999px; padding:10px 14px; font-weight:700; cursor:pointer }
.btn-primary{ background:var(--brand); color:#fff }
.btn-outline{ background:#fff; border:2px solid var(--brand); color:var(--brand) }
/* Botão WhatsApp - cor oficial */
.btn-whatsapp {
  background-color: #25D366;
  color: #fff;
  border: none;
  padding: 12px 24px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 16px;
  text-decoration: none;
  transition: background-color 0.3s ease, transform 0.2s ease;
  display: inline-block;
}

.btn-whatsapp:hover {
  background-color: #1ebe5b;
  transform: translateY(-2px);
}

/* Botão Ver Condições - azul com fundo branco */
.btn-conditions {
  color: #007bff;
  background-color: #fff;
  border: 2px solid #007bff;
  padding: 12px 24px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 16px;
  text-decoration: none;
  transition: all 0.3s ease;
  display: inline-block;
}

.btn-conditions:hover {
  background-color: #007bff;
  color: #fff;
  transform: translateY(-2px);
}

/* Efeito hover geral */
.trail-actions a:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Reservar (azul sólido) */
.btn-reservar {
  background: #0ea5e9;
  color: #fff;
  border: none;
}

/* WhatsApp (verde app) */
.btn-whatsapp {
  background: #25D366;
  color: #fff;
  border: none;
}

/* Ver condições (borda azul, fundo branco) */
.btn-conditions {
  background: #fff;
  color: #0ea5e9;
  border: 2px solid #0ea5e9;
}


/* animação de entrada */
.reveal{ opacity:0; transform: translateY(14px); }
.reveal.in{ opacity:1; transform:none; transition: all .55s ease }

/* layout responsivo */
@media (max-width: 980px){
  .trail-card{ grid-column: span 12; }
}
select {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #fff;
  font: inherit;
  appearance: none;
  background-image: linear-gradient(45deg, transparent 50%, #888 50%), 
                    linear-gradient(135deg, #888 50%, transparent 50%);
  background-position: calc(100% - 20px) calc(1em + 4px),
                       calc(100% - 15px) calc(1em + 4px);
  background-size: 5px 5px;
  background-repeat: no-repeat;
}
 /* ===== MODAL “VER CONDIÇÕES” (fix) ===== */
.modal-backdrop{
  position:fixed; inset:0;
  background:rgba(2,6,23,.55);
  backdrop-filter: blur(2px);
  display:none;                 /* escondido por omissão */
  z-index:9999;
}
.modal-backdrop.open{
  display:flex;                 /* centra o modal */
  align-items:flex-start;       /* topo confortável */
  justify-content:center;
  overflow:auto;                /* se for alto em mobile, permite scroll no próprio backdrop */
  padding:6vh 16px;             /* respiro nas margens */
}
.modal{
  width:100%;
  max-width:760px;
  background:#fff;
  border-radius:16px;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
  padding:20px 20px 16px;
  animation: modalIn .2s ease;
}
@keyframes modalIn{ from{ transform:translateY(10px); opacity:0 } to{ transform:none; opacity:1 } }
.modal h3{margin:0;font-size:22px}
.modal .muted{color:var(--muted);font-size:14px}
.modal .grid{display:grid;gap:14px;margin-top:12px}
.modal .box{border:1px solid var(--line);border-radius:12px;padding:12px;background:#fff}
.modal .box h4{margin:0 0 6px;font-size:16px}
.modal .actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;margin-top:14px}
.modal .btn-ghost{background:#fff;border:1px solid var(--line);color:var(--fg)}
.modal .close-x{appearance:none;border:0;background:#fff;border:1px solid var(--line);width:36px;height:36px;border-radius:10px;cursor:pointer}
@media (max-width:820px){ .modal{max-width:92vw} }

/* impedir scroll do body quando o modal está aberto */
body.modal-open{ overflow:hidden; }

    /* ===== Cabeçalho bonito do modal ===== */
.modal header{
  position: relative;
  display: block;                  /* deixa o conteúdo em coluna */
  text-align: center;              /* centra título e subtítulo */
  padding: 14px 56px 12px;         /* espaço; 56px para não colidir com o X */
  margin: -8px -8px 10px;          /* encosta ao bordo da caixa */
  border-radius: 14px 14px 0 0;
  background:
    linear-gradient(135deg,
      rgba(14,165,233,.12) 0%,
      rgba(16,185,129,.12) 100%);
  border-bottom: 1px solid rgba(2,6,23,.08);
}
.modal header::after{              /* linha suave decorativa */
  content:"";
  display:block;
  height:3px;
  margin:10px auto 0;
  width:120px;
  border-radius:999px;
  background: linear-gradient(90deg,#0ea5e9 0%, #10b981 100%);
  opacity:.5;
}

.modal h3{
  margin:0;
  font-size:22px;
  color:#0f172a;
}
.modal .muted{
  color:#475569;
  font-size:14px;
}

/* Botão X fixo no canto direito, alinhado verticalmente */
.modal .close-x{
  position:absolute;
  top:10px;                        /* alinha com o título */
  right:10px;
  width:38px; height:38px;
  border-radius:12px;
  border:1px solid rgba(2,6,23,.12);
  background:#fff;
  box-shadow:0 2px 8px rgba(2,6,23,.06);
}
.modal .close-x:hover{
  transform: translateY(-1px);
  box-shadow:0 6px 14px rgba(2,6,23,.10);
}
.modal .close-x svg {
  transition: stroke .2s ease;
}
.modal .close-x:hover svg {
  stroke: #0ea5e9; /* muda a cor do X para azul no hover */
}

/* Mobile: um pouco menos de padding para caber tudo */
@media (max-width:520px){
  .modal header{ padding:16px 48px 12px; }
  .modal .close-x{ right:8px; }
}

/* ===== CONTACTOS ===== */
.contact{ padding:60px 0 }
.contact-grid{
  display:grid; grid-template-columns:1.1fr .9fr; gap:24px; align-items:start;
}
.contact-card{
  background:#fff; border:1px solid var(--line); border-radius:16px; padding:18px;
  box-shadow:0 10px 24px rgba(2,6,23,.05);
}
.contact-list{ list-style:none; margin:0; padding:0; display:grid; gap:12px }
.contact-list li{
  display:grid; grid-template-columns:28px 110px 1fr; align-items:center; gap:10px;
  padding:10px; border:1px solid var(--line); border-radius:12px; background:#f9fbfd;
}
.contact-list .chip{
  justify-self:start; display:inline-block; padding:6px 10px; border-radius:999px;
  border:1.5px solid #0ea5e9; color:#0ea5e9; text-decoration:none; font-weight:700;
}
.contact-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px }

.contact-photo{
  margin:0; border-radius:18px; overflow:hidden; background:
    radial-gradient(120% 80% at 70% 10%, rgba(16,185,129,.12), rgba(14,165,233,.12));
  box-shadow:0 14px 28px rgba(2,6,23,.08);
}
.contact-photo img{ display:block; width:100%; height:auto }
.contact-photo figcaption{ padding:8px 12px }

@media (max-width: 980px){
  .contact-grid{ grid-template-columns:1fr; }
}
/* Impede o SVG decorativo do #about de sair da secção */
#about{ overflow: hidden; }

/* Garante que os marcadores (•) nunca aparecem na lista */
.contact-list, .contact-list li{ list-style: none; padding-left: 0; }

/* Ícones dos contactos — tamanho fixo */
.contact-list li > svg{
  width:18px; height:18px; flex:0 0 18px;
  color:#0ea5e9; display:block;
}
    .contact-photo{ max-width:520px; }
.contact-photo img{
  display:block; width:100%; height:auto;
  object-fit:cover; max-height:360px; border-radius:18px;
}

#about{ overflow:hidden; }
/* ===== Contactos – versão Pro ===== */

/* grid geral */
.contact-grid{
  display:grid; grid-template-columns: 1.05fr .95fr; gap:28px; align-items:start;
}

/* cartão */
.contact-card{
  background:#fff; border:1px solid var(--line); border-radius:18px; padding:18px;
  box-shadow:0 12px 28px rgba(2,6,23,.06);
}

/* linhas */
.contact-list{ list-style:none; margin:0; padding:0; display:grid; gap:12px }
.contact-list li{
  display:grid;
  grid-template-columns: 42px 1fr auto;        /* ícone | rótulo+valor | chip */
  align-items:center; gap:12px;
  padding:12px; border:1px solid var(--line); border-radius:14px; background:#fbfdff;
  transition: box-shadow .15s ease, transform .1s ease;
}
.contact-list li:hover{ box-shadow:0 6px 16px rgba(2,6,23,.08); transform:translateY(-1px); }

/* ícone com “aura” */
.contact-list .ico{
  width:42px; height:42px; border-radius:12px;
  display:grid; place-items:center;
  background:linear-gradient(135deg, rgba(14,165,233,.12), rgba(16,185,129,.12));
  border:1px solid rgba(2,6,23,.06);
}
.contact-list .ico svg{ width:18px; height:18px; color:#0ea5e9; display:block }

/* rótulo + valor */
.contact-list .label span{ display:block; font-size:12px; color:#64748b; line-height:1.1 }
.contact-list .label strong{ display:block; color:#0f172a; line-height:1.25 }

/* ação (chip à direita) */
.contact-list .chip{
  justify-self:end;
  padding:8px 12px; border-radius:999px; line-height:1;
  border:1.5px solid #0ea5e9; color:#0ea5e9; text-decoration:none; font-weight:700;
  background:#fff;
}
.contact-list .chip:hover{ background:rgba(14,165,233,.06) }

/* foto com overlay e sombra */
.contact-photo{
  margin:0; position:relative; border-radius:20px; overflow:hidden;
  box-shadow:0 18px 40px rgba(2,6,23,.12);
  background:#eaf7f3;
}
.contact-photo img{
  width:100%; height:auto; display:block; object-fit:cover; max-height:360px;
}
.photo-caption{
  position:absolute; left:12px; right:12px; bottom:12px;
  background:linear-gradient(135deg, rgba(14,165,233,.12), rgba(16,185,129,.12));
  border:1px solid rgba(2,6,23,.08); color:#0f172a;
  padding:10px 14px; border-radius:12px; backdrop-filter:saturate(120%) blur(2px);
}
/* segunda foto por baixo da principal */
.contact-photo--secondary{
  margin-top:15px;
  max-height:300px;
}
.contact-photo--secondary img{
  width:100%; height:auto; object-fit:cover;
}

/* botões ao fim */
.contact-actions{ display:flex; gap:12px; flex-wrap:wrap; margin-top:12px }

/* mobile */
@media (max-width: 980px){
  .contact-grid{ grid-template-columns:1fr; }
  .contact-list .chip{ justify-self:start; margin-top:6px }
}
/* Cores de marca dos ícones */
.ico{ width:42px; height:42px; border-radius:12px; display:grid; place-items:center;
      background:linear-gradient(135deg, rgba(14,165,233,.10), rgba(16,185,129,.10));
      border:1px solid rgba(2,6,23,.06); }
.ico svg{ width:18px; height:18px; display:block; color:#0ea5e9; }

/* específicas */
.ico--wa{ background:#25D36622; }      .ico--wa svg{ color:#25D366; }
.ico--ig{ background:#c1358422; }      .ico--ig svg{ color:#c13584; }
.ico--gmail{ background:#ea433522; }   .ico--gmail svg{ color:#ea4335; }  /* vermelho Gmail */
.ico--tel{ background:#0ea5e922; }     .ico--tel svg{ color:#0ea5e9; }
.ico--map{ background:#10b98122; }     .ico--map svg{ color:#10b981; }
.ico--clock{ background:#64748b22; }   .ico--clock svg{ color:#64748b; }

/* Legendas por baixo das fotos (sem overlay) */
.photo-caption-below {
  background: transparent;      /* remove a caixa verde extra */
  color: #0f1a20;               /* mantém o texto visível */
  font-weight: 500;
  font-size: 1rem;
  margin-top: 8px;
  text-align: center;
}

/* Força as fotos dos contactos a ficarem na coluna 2 (direita) */
.contact-grid > .contact-photo{ grid-column: 2; }
.contact-grid > .contact-photo + .contact-photo{ margin-top:8px; } /* espaçamento entre as duas */

   /* ===== WHATSAPP OFICIAL ===== */
.wa-icon{
  width:56px;
  height:56px;
  border-radius:50%;
  display:inline-grid;
  place-items:center;
  background:transparent;
  overflow:hidden;
  box-shadow:0 8px 20px rgba(37,211,102,.35);
  border:none;
  transition: transform .2s ease, filter .2s ease;
}
.wa-icon:hover{
  transform:translateY(-1px);
  filter:brightness(1.05);
}

/* usa a imagem do logo */
.wa-icon img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* versão vertical (modal: ícone + texto) */
.wa-stack{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  text-decoration:none;
}
.wa-stack small{
  color:#0f172a;
  font-weight:600;
  opacity:.85;
}
/* ===== Brand icons (PNG) ===== */
.ico.brand {                      /* caixinha do lado esquerdo na lista */
  width:42px; height:42px; border-radius:12px;
  display:grid; place-items:center;
  background:#fff; border:1px solid var(--line);
}
.ico.brand img {
  width: 40px !important;   /* aumenta o tamanho real do logo */
  height: 40px !important;
  object-fit: contain;
  display: block;
}


/* ===== Ajuste final do logótipo oficial do WhatsApp ===== */

/* versão usada nos trilhos e contactos */
.brand-round, .btn-whatsapp {
  width:46px;            /* tamanho fixo mais pequeno */
  height:46px;
  border-radius:50%;
  display:inline-grid;
  place-items:center;
  background:#fff;
  border:1px solid rgba(2,6,23,.08);
  overflow:hidden;
  box-shadow:0 6px 14px rgba(2,6,23,.06);
  transition:transform .2s ease, filter .2s ease;
  padding:0 !important;
}
.brand-round:hover, .btn-whatsapp:hover {
  transform:translateY(-1px);
  filter:brightness(1.05);
}

/* imagem do logotipo */
.brand-round img, .btn-whatsapp img {
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}

/* modal: ícone + texto */
.brand-stack {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  text-decoration:none;
}
.brand-stack small {
  color:#0f172a;
  font-weight:600;
  opacity:.85;
}

.brand-round:hover{ transform:translateY(-1px); filter:brightness(1.03); }
.brand-round img{ width:100%; height:100%; object-fit:contain; }

/* Versão vertical do modal (ícone + texto) */
.brand-stack{ display:flex; flex-direction:column; align-items:center; gap:6px; text-decoration:none; }
.brand-stack small{ color:#0f172a; font-weight:600; opacity:.85; }

    /* ===== Ajuste do espaço entre as fotos ===== */
.contact-media{
  display: grid;
  gap: 16px; /* espaço uniforme entre as duas */
  margin: 0; /* remove qualquer margem extra */
  padding: 0;
}

.contact-photo{
  margin: 0; /* remove margem vertical antiga */
}

.contact-photo--secondary{
  margin-top: 0 !important; /* impede empurrar demasiado */
}
.contact-photo + .contact-photo{
  margin-top: 10px !important;
}
    /* ===== Alinhamento perfeito dos botões de ação ===== */
.trail-actions{
  display:flex;
  justify-content:center;   /* centra os 3 botões na horizontal */
  align-items:center;        /* alinha-os pela altura */
  gap:14px;                  /* espaço igual entre os botões */
  margin-top:20px;
  flex-wrap:wrap;            /* garante que se ajusta no mobile */
}

/* garante que os botões não esticam em alturas diferentes */
.trail-actions a{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:48px;
}
/* ===== CONTACTOS – correção final das fotos ===== */

/* garante que as duas fotos ficam agrupadas na coluna da direita */
.contact-media {
  display: flex;
  flex-direction: column;
  gap: 12px;           /* pequeno espaçamento fixo */
  margin: 0;
  padding: 0;
}

/* remove margens residuais dos figures */
.contact-photo {
  margin: 0 !important;
  padding: 0;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(2,6,23,.12);
}

/* garante que a segunda não “salta” */
.contact-photo--secondary {
  margin-top: 0 !important;
}

/* imagens responsivas e encaixadas */
.contact-photo img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
  max-height: 360px;
}

/* legenda por baixo */
.photo-caption-below {
  margin: 8px 0 0;
  font-weight: 600;
  color: #0f172a;
  background: linear-gradient(135deg, rgba(14,165,233,.10), rgba(16,185,129,.10));
  border: 1px solid rgba(2,6,23,.08);
  border-radius: 10px;
  padding: 8px 12px;
  display: inline-block;
}

/* Remover o fundo verde do caption (mantendo o verde do bloco da foto) */
.contact-media .contact-photo figcaption.photo-caption-below,
.contact-photo figcaption.photo-caption-below{
  background: transparent !important;   /* retira o fundo/pill */
  border: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  padding: 10px 14px 0 !important;      /* só espaçamento do texto */
  color: #0f172a !important;            /* texto bem legível */
  font-weight: 600;
}

/* Se algum “pill” estiver a ser desenhado com pseudo-elementos */
.photo-caption-below::before,
.photo-caption-below::after{
  content: none !important;
}
/* ===== MODAL PRIVACIDADE ===== */
#modal-privacy .modal {
  max-width: 800px;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  padding: 20px 24px;
}

#modal-privacy header {
  background: linear-gradient(90deg, #25D366, #0077ff);
  color: #fff;
  padding: 16px 20px;
  border-radius: 12px 12px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#modal-privacy h3 {
  margin: 0;
  font-size: 1.3rem;
}

#modal-privacy h4 {
  margin-top: 1.4em;
  color: #003a57;
  font-size: 1.05rem;
}
/* ==== LIMITA ALTURA DO MODAL DE PRIVACIDADE E ATIVA SCROLL ==== */

#modal-privacy .modal {
  max-height: 90vh;        /* limita à altura do ecrã */
  overflow-y: auto;        /* ativa scroll vertical no modal */
  overflow-x: hidden;      /* esconde apenas scroll horizontal */
  display: block;          /* não precisamos de flex aqui */
}

/* onde está o texto longo */
#modal-privacy .modal__body {
  overflow-y: auto;        /* scroll só no texto, não na página */
  padding: 20px 24px;
}

/* footer fixo e visível */
#modal-privacy .modal__footer {
  padding: 16px 24px;
  border-top: 1px solid rgba(0,0,0,0.1);
  background: #fff;
}

/* Aumentar ícones dentro das caixas de contacto */
.contact-info img,
.contact-info svg {
  width: 28px !important;      /* antes devia estar 18–22px */
  height: 28px !important;
  object-fit: contain;         /* mantém proporção */
}

/* Garante que as caixas se ajustam */
.contact-info-icon {
  width: 64px !important;
  height: 64px !important;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 14px;
  background: #eef6ff;         /* tom suave azul */
}

/* Espaçamento e equilíbrio visual */
.contact-info {
  gap: 14px;
}
/* ===== Ajuste visual das legendas das fotos (contactos) ===== */
.photo-caption-below {
  font-size: 0.9rem;           /* ligeiramente mais pequeno */
  font-style: italic;          /* texto em itálico */
  color: #6b7280;              /* cinzento suave */
  font-weight: 400;            /* peso leve */
  margin-top: 6px;
  background: transparent !important; /* remove qualquer fundo residual */
  border: none !important;
  box-shadow: none !important;
  padding: 4px 0 !important;   /* espaço mínimo */
  text-align: center;
}
/* ===== EFECTUAR RESERVA – layout */
.booking-box { 
  margin-top: 24px; 
}

.h2 { 
  font-size: 28px; 
  margin: 12px 0 16px; 
}

.reserve-grid {
  display:grid;
  grid-template-columns: repeat(5,1fr);
  gap:16px;
  margin: 8px 0 18px;
}
@media (max-width: 1000px){
  .reserve-grid{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .reserve-grid{ grid-template-columns: 1fr; }
}

.reserve-field label{
  display:block; 
  font-weight:700; 
  margin:0 0 6px;
}
.rv-read{
  background:#fff; 
  border:1px solid var(--line, #cfe8fb); 
  border-radius:12px; 
  padding:12px 14px;
}

.tag{
  display:inline-block; 
  padding:8px 12px; 
  border-radius:999px; 
  font-weight:700;
}
.tag-muted{ background: #eef7ff; color:#2a5a7a; }
.tag-ok    { background: #e6fbef; color:#237a4a; }
.tag-warn  { background: #fff5e6; color:#8a5a00; }
.tag-bad   { background: #ffe9e9; color:#8a1a1a; }

.price-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:18px;
  margin: 4px 0 12px;
}
@media (max-width: 640px){
  .price-grid{ grid-template-columns:1fr; }
}
.amount{
  background:#fff; 
  border:1px solid var(--line, #cfe8fb); 
  border-radius:16px; 
  padding:18px; 
  font-weight:800; 
  font-size:26px;
}
.amount-accent{
  border-color:#bde5c8; 
  background: #f6fffa;
}
.note{ color:#6c7e8b; font-size:12px; }

.reserve-actions{
  display:flex; 
  justify-content:flex-start; 
  margin: 14px 0 6px; 
  gap:12px;
}
.btn[disabled]{ 
  opacity:.5; 
  cursor:not-allowed;
}

/* Bloqueia qualquer control dentro do modal (por precaução) */
.rv-lock input,
.rv-lock select,
.rv-lock textarea,
.rv-lock button[disabled] {
  pointer-events: none;
}

/* Botão desativado via aria-disabled */
a[aria-disabled="true"] {
  opacity: .5;
  pointer-events: none;
}

/* Layout das linhas no modal (segue o teu “reserve-grid”/“reserve-field”) */
.reserve-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}
.reserve-field--full { grid-column: 1 / -1; }

@media (max-width: 900px) {
  .reserve-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px) {
  .reserve-grid { grid-template-columns: 1fr; }
}
/* Centraliza o modal na tela */
.modal-backdrop {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.modal-backdrop[style*="display:flex"] {
  display: flex !important;
}

/* Caixa do modal (ajuste para centralização perfeita) */
.modal.box {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.15);
  width: 90%;
  max-width: 680px;
  margin: auto;
  overflow: hidden;
  animation: fadeInUp .3s ease;
}
/* ===== Modal genérico (backdrop) ===== */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: none;                /* fica hidden por defeito */
  justify-content: center;      /* centra horizontal */
  align-items: center;          /* centra vertical */
  z-index: 9999;
}

/* Quando o JS mete display:flex ele centra a caixa */
.modal-backdrop .modal {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, .25);
  max-width: 800px;
  width: 100%;
  max-height: 90vh;             /* NÃO deixa passar da janela */
  overflow-y: auto;             /* aparece scroll se o texto for grande */
}

/* ===== Específico do modal de Privacidade ===== */
#modal-privacy .modal {
  padding: 0;                   /* header tem o seu padding próprio */
}

/* Header do modal de privacidade */
#modal-privacy header {
  background: linear-gradient(90deg, #25D366, #0077ff);
  color: #fff;
  padding: 16px 20px;
  border-radius: 16px 16px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Título principal */
#modal-privacy h3 {
  margin: 0;
  font-size: 1.3rem;
}

/* Sub-títulos numerados (1. Introdução, 2. Dados…) */
#modal-privacy h4 {
  margin-top: 1.4em;
  color: #003a57;
  font-size: 1.05rem;
}

/* Conteúdo do corpo do modal */
#modal-privacy .modal-body {
  padding: 20px 24px 24px;
  font-size: 0.95rem;
  line-height: 1.6;
}

/* Botão “Fechar” dentro do modal de privacidade */
#modal-privacy .btn-ghost {
  margin-top: 16px;
}

/* Suave transição */
@keyframes fadeInUp {
  from { transform: translateY(30px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
/* Pill de disponibilidade */
.avail-pill{
  display:inline-flex;
  min-width:140px;
  justify-content:center;
  align-items:center;
  padding:10px 14px;
  border-radius:20px;
  background:#eef7ff;
  color:#0b466b;
  font-weight:700;
}
.avail-pill.is-free{ background:#e9fbef; color:#0a6e3d; }
.avail-pill.is-busy{ background:#fdecec; color:#933; }
.link {
  color: var(--brand, #0aa3e6);
  text-decoration: underline;
}
.link:hover { text-decoration: none; }
/* Disponibilidade compacta, por baixo da data */
.availability-inline{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:10px;
}

.availability-inline .label{
  font-size:14px;
  color:var(--muted);
}

/* badge mais pequena que a antiga */
.availability-badge{
  display:inline-grid;
  place-items:center;
  min-width:88px;
  height:44px;
  padding:0 14px;
  border-radius:18px;
  background:#eef7ff;                 /* neutro */
  color:#0b3954;
  font-weight:700;
  box-shadow: inset 0 0 0 2px rgba(12,130,200,.08);
}

/* estados (se já usas outros, mantém) */
.availability-badge[data-state="ok"]{
  background:#eafff1;
  color:#0b5330;
  box-shadow: inset 0 0 0 2px rgba(20,160,80,.14);
}
.availability-badge[data-state="busy"]{
  background:#fff3f2;
  color:#8c1f1f;
  box-shadow: inset 0 0 0 2px rgba(220,70,70,.14);
}

/* Ajusta o tamanho da badge */
.availability-badge {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  min-width: 80px;
  height: 42px;
  background: #eef7ff;
  border-radius: 20px;
  font-weight: 600;
  color: #0b3d91;
}
/* Alinhar disponibilidade com a coluna da data prevista */
.reserve-field .availability-inline {
  margin-left: 495px;   /* aumenta progressivamente até ficar perfeito */
  margin-top: 10px;
}

@media (max-width: 900px) {
  .reserve-field .availability-inline {
    margin-left: 0;   /* volta ao normal em ecrãs pequenos */
    margin-top: 0;
  }
}

  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <div style="display:flex;align-items:center;gap:12px">
          <img src="logotipo1.png" alt="Horta with César logo" style="height:52px;margin-top:0" />
          <span class="small">Faial • Açores</span>
        </div>
        <div style="display:flex;align-items:center;gap:14px">
          <a href="#about" data-i18n="nav.about">Sobre mim</a>
          <a href="#tours" data-i18n="nav.tours">Trilhos</a>
          <a href="#booking" data-i18n="nav.booking">Reservas</a>
          <a href="#contact" data-i18n="nav.contact">Contactos</a>
          <div class="lang-toggle" role="group" aria-label="Language switcher">
            <button id="btn-pt" class="active" onclick="setLang('pt')">PT</button>
            <button id="btn-en" onclick="setLang('en')">EN</button>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <section class="wrap about" id="about">
       <div class="accent" aria-hidden="true">
    <!-- folha abstrata minimal (SVG) -->
    <svg viewBox="0 0 600 600" fill="none">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0" stop-color="#10b981"/>
          <stop offset="1" stop-color="#22c55e"/>
        </linearGradient>
      </defs>
      <path d="M520 210c-40-95-160-150-250-120S105 210 90 300c-15 90 40 150 120 175 95 30 190-10 260-95 25-30 65-85 50-170Z"
            fill="url(#g)" opacity=".15"/>
      <path d="M110 320c120-25 245-25 370 0" stroke="#059669" stroke-opacity=".25" stroke-width="2" />
      <path d="M140 360c110-22 220-22 330 0" stroke="#10b981" stroke-opacity=".18" stroke-width="2" />
      <path d="M170 400c95-18 190-18 285 0" stroke="#16a34a" stroke-opacity=".15" stroke-width="2" />
    </svg>
  </div>
<div>
  <h2>Sobre mim</h2>

<div class="photo-float">
  <img src="foto-perfil.jpg" alt="Foto de César, guia local no Faial">
</div>
<p>Sou o César, guia local no Faial e criador do projeto <strong>Horta with César</strong>. Desde cedo aprendi a valorizar as pequenas coisas — o som do vento na Caldeira, o cheiro da terra molhada e o sorriso de quem vive com o mar à porta.</p>
<p>Comecei na área da restauração, onde descobri o prazer de trabalhar com produtos locais e de partilhar sabores genuínos. Hoje, levo esse mesmo espírito para os trilhos e para cada história que conto.</p>
<p class="vision">Acredito que guiar é mais do que mostrar paisagens: é criar experiências autênticas que liguem pessoas e natureza.</p>
<p>Nos meus passeios, não há pressas. Caminha-se com tempo, conversa-se com naturalidade e ri-se com frequência. Se te juntares a mim, prometo-te uma experiência simples, sincera e cheia de alma — como a própria ilha.</p>
</div>
</section>
<section id="tours">
  <div class="wrap">
    <div class="tours-head">
      <h2>Trilhos & Walking Tours</h2>
      <!-- Botão “descer” (também podes esconder se não quiseres) -->
      <a class="scroll-cue" href="#tours">Explorar trilhos ↓</a>
    </div>

     <!-- CITY WALK HORTA -->
        <article class="trail-card trail-card-featured reveal">
        <div class="trail-media">FOTO • City Walk</div>
        <div class="trail-body">
          <h3 class="trail-title">City Walk • Horta a pé</h3>
          <div class="trail-meta">
            <span class="pill">~3 km</span>
            <span class="pill">~2h</span>
            <span class="pill">Dificuldade: Fácil</span>
          </div>
          <p>Centro histórico, Marina, Peter, fortes e histórias de cabo submarino. Passeio urbano com paragens fotográficas e notas de gastronomia local.</p>
          <!-- Ações do trilho -->
<div class="trail-actions">
  <!-- Reservar (abre o inquérito com o trilho pré-selecionado) -->
  <button type="button"
    class="btn btn-primary js-reserve"
    data-trail="City Walk • Horta a pé">
    Reservar
  </button>

  <!-- WhatsApp -->
  <a
  class="btn-whatsapp wa-icon"
  target="_blank"
  rel="noopener noreferrer"
    href="https://wa.me/351964616199?text=Ol%C3%A1%20C%C3%A9sar!%20Quero%20informa%C3%A7%C3%A3o%20sobre%20o%20trilho%20City%20Walk%20-%20Horta%20a%20pé.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <!-- Ver condições -->
  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

        </div>
      </article>
    
    <div class="tours-grid">
      <!-- ENTRE MONTES -->
      <article class="trail-card reveal"
  data-trail="Entre Montes (Horta)"
  data-price-from="40€ / px"
  data-brief="Percurso circular. Preço base para 1 pessoa. Para grupos, pede cotação.">
        <div class="trail-media">FOTO • Entre Montes</div>
        <div class="trail-body">
          <h3 class="trail-title">Entre Montes (Horta)</h3>
          <div class="trail-meta">
            <span class="pill">3.5–4 km</span>
            <span class="pill">▲ +120 m</span>
            <span class="pill">~2h30</span>
            <span class="pill">Dificuldade: Moderado</span>
          </div>
          <p>Percurso circular entre as duas elevações vulcânicas muito destintas. Vista da baía da Horta, história local e cantos escondidos na Horta.</p>
         <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Entre Montes ">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Entre%20Montes.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>


        </div>
      </article>

      <!-- MIRADOURO DO NEPTUNO -->
      <article class="trail-card reveal"
  data-trail="Miradouro do Neptuno"
  data-price-from="35€ / px"
  data-brief="Ideal para fotografia. Valor por pessoa varia com nº de participantes.">

        <div class="trail-media">FOTO • Miradouro do Neptuno</div>
        <div class="trail-body">
          <h3 class="trail-title">Miradouro do Neptuno</h3>
          <div class="trail-meta">
            <span class="pill">~3 km</span>
            <span class="pill">▲ +100 m</span>
            <span class="pill">~1h30</span>
            <span class="pill">Dificuldade: Fácil</span>
          </div>
          <p>Costeira com vistas mar/lajido e o famoso Neptuno. Ideal para quem quer fotografia e paisagem dramática e respeitante.</p>
          <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Miradouro do Neptuno">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Miradouro%20do%20Neptuno.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>
        </div>
      </article>
      <!-- CALDEIRA (perímetro) -->
      <article class="trail-card reveal"
  data-trail="Caldeira — perímetro"
  data-price-from="75€ / px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo.">
        <div class="trail-media">FOTO • Caldeira</div>
        <div class="trail-body">
          <h3 class="trail-title">Caldeira — perímetro</h3>
          <div class="trail-meta">
            <span class="pill">~8 km</span>
            <span class="pill">▲ +300 m</span>
            <span class="pill">~3h</span>
            <span class="pill">Dificuldade: Moderada</span>
          </div>
          <p>Trilho icónico no coroamento da Caldeira do Faial. 360º de vistas, geologia e botânica endémica. Dias limpos: Pico em grande plano.</p>
         <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Caldeira — perímetro">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Caldeira%20Perímetro.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>
        </div>
      </article>
       <!-- Descida à Caldeira -->
      <article class="trail-card reveal"
  data-trail="Caldeira Descida"
  data-price-from="130€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo.">
        <div class="trail-media">FOTO • Fundo da Caldeira</div>
        <div class="trail-body">
          <h3 class="trail-title">Caldeira Descida • Santuário da fauna local</h3>
          <div class="trail-meta">
            <span class="pill">~3 km</span>
            <span class="pill">~3h30</span>
            <span class="pill">Dificuldade: Moderado</span>
          </div>
          <p>Zona protegida pelo Parque Natural dos Açores. Requer guia certificado! Paisagens fantásticas quando o tempo permite.</p>
         <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Caldeira Descida • Santuário da fauna local">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Caldeira%20Descida.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

        </div>
      </article>
      <!-- ROCHA DA FAJÃ -->
<article class="trail-card reveal"
  data-trail="Rocha da Fajã"
  data-price-from="90€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo.">
  <div class="trail-media">FOTO • Rocha da Fajã</div>
  <div class="trail-body">
    <h3 class="trail-title">Rocha da Fajã</h3>
    <div class="trail-meta">
      <span class="pill">4 km</span>
      <span class="pill">▲ +180 m</span>
      <span class="pill">~1h30</span>
      <span class="pill">Dificuldade: Moderada</span>
    </div>
    <p>Trilho circular entre formações vulcânicas e falésias, com vistas sobre o mar e vegetação costeira do Faial.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Rocha da Fajã">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Rocha%20da%20Fajã.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

  </div>
</article>
      <!-- FAROL DA RIBEIRINHA -->
<article class="trail-card reveal"
  data-trail="Farol da Ribeirinha"
  data-price-from="90€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo.">
  <div class="trail-media">FOTO • Farol da Ribeirinha</div>
  <div class="trail-body">
    <h3 class="trail-title">Farol da Ribeirinha</h3>
    <div class="trail-meta">
      <span class="pill">5 km</span>
      <span class="pill">▲ +220 m</span>
      <span class="pill">~2h</span>
      <span class="pill">Dificuldade: Difícil</span>
    </div>
    <p>Percurso com subidas exigentes até ao antigo farol destruído pelo sismo de 1998, com vista privilegiada sobre a costa norte.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Farol da Ribeirinha">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Farol%20da%20Ribirinha.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

  </div>
</article>
      <!-- LEVADAS AO CABEÇO DOS TRINTA -->
<article class="trail-card reveal"
  data-trail="Levadas ao Cabeço dos Trinta"
  data-price-from="150€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo.">
  <div class="trail-media">FOTO • Levadas ao Cabeço dos Trinta</div>
  <div class="trail-body">
    <h3 class="trail-title">Levadas ao Cabeço dos Trinta</h3>
    <div class="trail-meta">
      <span class="pill">6 km</span>
      <span class="pill">▲ +150 m</span>
      <span class="pill">~2h</span>
      <span class="pill">Dificuldade: Moderada</span>
    </div>
    <p>Trilho florestal com sombra e frescura, acompanhando a levada até ao Cabeço dos Trinta. Ideal para dias quentes.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button type="button"
    class="btn btn-primary js-reserve"
    data-trail="Levadas ao Cabeço dos Trinta">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Levadas.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

  </div>
</article>
      <!-- CAPELO → CAPELINHOS -->
<article class="trail-card reveal"
  data-trail="Capelo → Capelinhos "
  data-price-from="100€ /px, Museu 130€ /px"
  data-brief="Entrada no Centro de Interpretação do Vulcão dos Capelinhos facultativa.">
  <div class="trail-media">FOTO • Capelo → Capelinhos (</div>
  <div class="trail-body">
    <h3 class="trail-title">Capelo → Capelinhos </h3>
    <div class="trail-meta">
      <span class="pill">8 km</span>
      <span class="pill">▲ +300 m</span>
      <span class="pill">~3h</span>
      <span class="pill">Dificuldade: Moderada</span>
    </div>
    <p>Trilho icónico que termina no Vulcão dos Capelinhos, com paragem opcional no Museu interpretativo. Paisagens áridas e únicas.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Capelo → Capelinhos ">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
 <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Capelo%20Capelinhos.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

  </div>
</article>
      <!-- MIRADOURO DA BRAÇA -->
<article class="trail-card reveal"
  data-trail="Miradouro da Braça"
  data-price-from="90€ / px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo.">
  <div class="trail-media">FOTO • Miradouro da Braça</div>
  <div class="trail-body">
    <h3 class="trail-title">Miradouro da Braça</h3>
    <div class="trail-meta">
      <span class="pill">4 km</span>
      <span class="pill">▲ +120 m</span>
      <span class="pill">~1h30</span>
      <span class="pill">Dificuldade: Fácil</span>
    </div>
    <p>Trilho leve e acessível, com vistas magníficas sobre a Fajã e as ilhas vizinhas. Perfeito para quem procura uma experiência tranquila.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
    <button type="button"
    class="btn btn-primary js-reserve"
    data-trail="Miradouro da Braça">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Miradouro%20da%20Braça.">
       <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condições</button>

</div>

  </div>
</article>
    </div>
  </div>
</section>
<section id="booking" class="wrap about" aria-label="Efectuar Reserva">
  <h2 style="margin-bottom:10px">Efectuar Reserva</h2>
  <p class="small" id="booking-subtitle" style="margin-top:0;color:var(--muted)">
    Preenche o pedido abaixo. O trilho selecionado aparece em “Trilho”.
  </p>

  <form
    action="https://formsubmit.co/hortawithcesar@gmail.com"
    method="POST"
    class="reserve-form"
    autocomplete="on"
    novalidate>

    <!-- ⚙️ FormSubmit opções -->
    <input type="hidden" name="_subject" value="Nova reserva - Horta with César">
    <input type="hidden" name="_template" value="box">
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_next" value="https://hortawithcesar.github.io/#booking">

    <!-- Anti-spam -->
    <input type="text" name="_honey" style="display:none">

    <div class="grid-2">
      <!-- Trilho (bloqueado, vem do botão) -->
      <div>
        <label for="trail">Trilho</label>
        <input id="trail" name="Trilho" type="text" readonly required
               placeholder="Escolhe ‘Reservar’ num trilho">
      </div>

      <div>
        <label for="name">Nome</label>
        <input id="name" name="Nome" type="text" required
               placeholder="O teu nome completo">
      </div>

      <div>
  <label for="country">País</label>
  <select id="country" name="País" required>
    <option value="">Seleciona o teu país</option>

    <!-- EUROPA -->
    <option>🇵🇹 Portugal</option>
    <option>🇪🇸 Espanha</option>
    <option>🇫🇷 França</option>
    <option>🇩🇪 Alemanha</option>
    <option>🇮🇹 Itália</option>
    <option>🇳🇱 Países Baixos</option>
    <option>🇧🇪 Bélgica</option>
    <option>🇱🇺 Luxemburgo</option>
    <option>🇨🇭 Suíça</option>
    <option>🇦🇹 Áustria</option>
    <option>🇬🇧 Reino Unido</option>
    <option>🇮🇪 Irlanda</option>
    <option>🇩🇰 Dinamarca</option>
    <option>🇳🇴 Noruega</option>
    <option>🇸🇪 Suécia</option>
    <option>🇫🇮 Finlândia</option>
    <option>🇮🇸 Islândia</option>
    <option>🇬🇷 Grécia</option>
    <option>🇨🇾 Chipre</option>
    <option>🇲🇹 Malta</option>
    <option>🇵🇱 Polónia</option>
    <option>🇨🇿 República Checa</option>
    <option>🇸🇰 Eslováquia</option>
    <option>🇸🇮 Eslovénia</option>
    <option>🇭🇷 Croácia</option>
    <option>🇭🇺 Hungria</option>
    <option>🇷🇴 Roménia</option>
    <option>🇧🇬 Bulgária</option>
    <option>🇷🇸 Sérvia</option>
    <option>🇧🇦 Bósnia e Herzegovina</option>
    <option>🇲🇪 Montenegro</option>
    <option>🇦🇱 Albânia</option>
    <option>🇲🇰 Macedónia do Norte</option>
    <option>🇽🇰 Kosovo</option>
    <option>🇺🇦 Ucrânia</option>
    <option>🇲🇩 Moldávia</option>
    <option>🇧🇾 Bielorrússia</option>
    <option>🇷🇺 Rússia</option>

    <!-- ÁSIA -->
    <option>🇹🇷 Turquia</option>
    <option>🇮🇱 Israel</option>
    <option>🇸🇦 Arábia Saudita</option>
    <option>🇦🇪 Emirados Árabes Unidos</option>
    <option>🇮🇳 Índia</option>
    <option>🇨🇳 China</option>
    <option>🇯🇵 Japão</option>
    <option>🇰🇷 Coreia do Sul</option>
    <option>🇹🇭 Tailândia</option>
    <option>🇮🇩 Indonésia</option>
    <option>🇲🇾 Malásia</option>
    <option>🇻🇳 Vietname</option>
    <option>🇵🇭 Filipinas</option>
    <option>🇸🇬 Singapura</option>
    <option>🇳🇵 Nepal</option>
    <option>🇱🇰 Sri Lanka</option>

    <!-- OCEANIA -->
    <option>🇦🇺 Austrália</option>
    <option>🇳🇿 Nova Zelândia</option>
    <option>🇫🇯 Fiji</option>

    <!-- ÁFRICA -->
    <option>🇿🇦 África do Sul</option>
    <option>🇦🇴 Angola</option>
    <option>🇲🇿 Moçambique</option>
    <option>🇨🇻 Cabo Verde</option>
    <option>🇬🇼 Guiné-Bissau</option>
    <option>🇸🇹 São Tomé e Príncipe</option>
    <option>🇲🇦 Marrocos</option>
    <option>🇹🇳 Tunísia</option>
    <option>🇩🇿 Argélia</option>
    <option>🇪🇬 Egito</option>
    <option>🇰🇪 Quénia</option>
    <option>🇹🇿 Tanzânia</option>
    <option>🇳🇬 Nigéria</option>
    <option>🇬🇭 Gana</option>
    <option>🇸🇳 Senegal</option>
    <option>🇳🇦 Namíbia</option>
    <option>🇧🇼 Botsuana</option>
    <option>🇪🇹 Etiópia</option>
    <option>🇿🇲 Zâmbia</option>
    <option>🇿🇼 Zimbabué</option>

    <!-- AMÉRICA (extra) -->
    <option>🇧🇷 Brasil</option>
    <option>🇺🇸 Estados Unidos</option>
    <option>🇨🇦 Canadá</option>
    <option>🇲🇽 México</option>
    <option>🇦🇷 Argentina</option>
    <option>🇨🇱 Chile</option>
    <option>🇺🇾 Uruguai</option>
  </select>
</div>


      <div>
        <label for="email">E-mail</label>
        <input id="email" name="Email" type="email" required
               placeholder="nome@exemplo.com">
      </div>

      <div>
        <label for="people">Nº de pessoas</label>
        <input id="people" name="Nº de pessoas" type="number" min="1" max="35" required
               placeholder="1">
      </div>

      <div class="grid-2" style="gap:10px">
  <div>
    <label for="date_from">Data prevista</label>
    <input id="date_from" name="Data prevista" type="date" required>
  </div>

  <div>
    <label for="period">Período do dia</label>
    <select id="period" name="Período do dia" required>
      <option value="">Selecionar...</option>
      <option value="Manhã">🌅 Manhã</option>
      <option value="Tarde">🌇 Tarde</option>
    </select>
  </div>
</div>

    </div>
<!-- Disponibilidade (debaixo da data) -->
<div class="reserve-field">
  <div class="availability-inline">
    <span class="label">Disponibilidade</span>
    <span id="rv-availability" class="availability-badge" data-state="pending">—</span>
  </div>
</div>



    <div>
      <label for="message">Mensagem (opcional)</label>
      <textarea id="message" name="Mensagem" rows="4"
                placeholder="Preferências, restrições, horários…"></textarea>
    </div>

    <div class="booking-actions">
  <button id="btn-send" class="btn btn-primary" type="submit">Enviar pedido</button>
  <button id="btn-open-reserve" class="btn btn-ghost" type="button">Efectuar reserva</button>
</div>

</section>


  </form>
</section>


  <!-- (conteúdo igual ao protótipo anterior) -->
<!-- CONTACTOS -->
<section id="contact" class="wrap contact">
  <h2>Contactos</h2>

  <div class="contact-grid">
    <!-- Lado A: informação -->
    <div class="contact-card">
      <ul class="contact-list">
  <!-- Telefone -->
  <li>
    <i class="ico ico--tel">
      <!-- ícone telefone -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1.5 1.5 0 0 1 1.5-.37 12 12 0 0 0 3.8.62 1.5 1.5 0 0 1 1.5 1.5V20a1.5 1.5 0 0 1-1.5 1.5A17.5 17.5 0 0 1 3 7.5 1.5 1.5 0 0 1 4.5 6H7a1.5 1.5 0 0 1 1.5 1.5c0 1.3.21 2.6.62 3.8a1.5 1.5 0 0 1-.37 1.5z" fill="currentColor"/></svg>
    </i>
    <div class="label">
      <span>Telefone</span>
      <strong><a class="chip" href="tel:+351964616199">+351 964 616 199</a></strong>
    </div>
  </li>

  <!-- E-mail (Gmail oficial) -->
  <li>
    <i class="ico brand"><img src="Gmail-Logo.png" alt="Gmail"></i>
    <div class="label">
      <span>E-mail</span>
      <strong><a class="chip" href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a></strong>
    </div>
  </li>

  <!-- WhatsApp (vais trocar pelo teu logótipo/ícone) -->
  <li>
    <i class="ico brand"><img src="whatsapp-logo.png" alt="WhatsApp"></i>
    <div class="label">
      <span>WhatsApp</span>
      <strong><a class="chip" target="_blank" rel="noopener"
        href="https://wa.me/351964616199?text=Olá%20César!%20Gostava%20de%20marcar%20um%20trilho.">+351 964 616 199</a></strong>
    </div>
  </li>

  <!-- Instagram -->
  <li>
    <i class="ico brand"><img src="instagram-logo.png" alt="Instagram"></i>
    <div class="label">
      <span>Instagram</span>
      <strong>@hortawithcesar</strong>
    </div>
    <a class="chip" target="_blank" rel="noopener" href="https://www.instagram.com/horta.with.cesar">Abrir</a>
  </li>

  <!-- Base -->
  <li>
    <i class="ico ico--map" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M12 22s7-7.06 7-12a7 7 0 1 0-14 0c0 4.94 7 12 7 12z" fill="currentColor"/><circle cx="12" cy="10" r="2" fill="#fff"/></svg>
    </i>
    <div class="label">
      <span>Base</span>
      <strong>Horta · Ilha do Faial, Açores</strong>
    </div>
    <a class="chip" target="_blank" rel="noopener" href="https://maps.google.com/?q=Horta,+Faial,+Açores">Ver no mapa</a>
  </li>

  <!-- Horário -->
  <li>
    <i class="ico ico--clock" aria-hidden="true">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
    </i>
    <div class="label">
      <span>Horário</span>
      <strong>Seg-Dom · 08h-20h </strong>
    </div>
  </li>
</ul>


      <div class="contact-actions">
        <a class="wa-icon" target="_blank" rel="noopener"
   href="https://wa.me/351964616199?text=Olá%20César!%20Gostava%20de%20marcar%20um%20trilho.">
  <img src="whatsapp-logo.png" alt="WhatsApp">
</a>


        <a class="btn btn-outline" href="#booking">Reservar no site</a>
      </div>

      <p class="small" style="margin-top:8px">
         contactos usados apenas para responder e gerir marcações. 
<a href="#" class="link js-open-privacy">Política de Privacidade.</a>
      </p>
    </div>

   <!-- Lado B: fotos agrupadas -->
<div class="contact-media">
  <figure class="contact-photo">
    <img src="foto-contacto.jpg"
         onerror="this.onerror=null;this.src='foto-contacto.jpg';"
         alt="César, guia local na Horta">
    <figcaption class="photo-caption-below">Horta with César</figcaption>
  </figure>

  <figure class="contact-photo contact-photo--secondary">
    <img src="Foto.Pico"
         onerror="this.onerror=null;this.src='Foto.Pico.jpg';"
         alt="Pico visto do Faial ao pôr do sol">
    <figcaption class="photo-caption-below">O paraíso tem nome....</figcaption>
  </figure>
</div>

</section>

  <footer>
    <div class="wrap">
      <img src="logotipo1.png" alt="Horta with César logo" style="height:130px;margin-top:15px" />
      <div class="small">© <span id="year"></span> Horta with César · Faial, Açores — PT/EN</div>
    </div>
    <div class="small">
<a href="https://www.livroreclamacoes.pt/inicio" class="link" target="_blank">Livro de Reclamações</a> ·
<a href="#" class="link js-open-cancel">Política de Cancelamento</a> ·
<a href="#" class="link js-open-privacy">Política de Privacidade</a>

</div>

  </footer>

  <!-- 🔽 MODAL “VER CONDIÇÕES” -->
<div class="modal-backdrop" id="cond-modal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="cond-title">
    <header>
      <div>
        <h3 id="cond-title">Condições — Trilho</h3>
        <div class="muted" id="cond-sub">Preços, seguros e termos</div>
      </div>
      <button class="close-x" id="cond-close" aria-label="Fechar">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
       fill="none" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
       style="width:18px;height:18px;">
    <line x1="18" y1="6" x2="6" y2="18"></line>
    <line x1="6" y1="6" x2="18" y2="18"></line>
  </svg>
</button>

    </header>

    <div class="grid">
      <!-- Caixa dinâmica por trilho -->
      <div class="box" id="cond-dynamic">
        <h4 id="cond-trail">Trilho</h4>
        <p id="cond-price" style="font-weight:700;margin:.2rem 0">Desde —</p>
        <p id="cond-brief" class="muted">…</p>
        <p class="muted">💬 O preço por pessoa pode mudar consoante o número de pessoas, época e logística. Para grupos e parcerias, pede orçamento.</p>
      </div>

      <!-- Caixa legal comum -->
      <div class="box" id="cond-legal">
        <h4>Informação legal & condições</h4>
        <ul style="margin:0; padding-left:18px">
          <li><strong>Equipamento & cuidados:</strong> usar <em>roupa e calçado adequados</em> ao trilho; aplicar <em>protetor solar</em>; levar <em>chapéu</em> e/ou <em>capa de chuva</em> conforme a previsão meteorológica. Recomenda-se ainda água suficiente, pequeno snack e telemóvel carregado.</li>
          <li><strong>Seguros:</strong> atividade coberta por <em>Seguro de Responsabilidade Civil</em> e <em>Seguro de Acidentes Pessoais</em> durante o passeio.</li>
          <li><strong>Reserva & Pagamento:</strong> sinal de <strong>20%</strong> no ato da reserva (deduzido ao valor final). Restante no dia do passeio, antes do início.</li>
          <li><strong>Cancelamentos do cliente:</strong> reembolso total até <strong>48h</strong> antes. Após esse prazo, <strong>não há reembolso</strong>.</li>
          <li><strong>Cancelamentos pelo guia/força maior:</strong> reembolso integral do sinal ou remarcação, à escolha do cliente.</li>
          <li><strong>Livro de Reclamações:</strong> disponível online <a href="https://www.livroreclamacoes.pt/Inicio/" target="_blank" rel="noopener">aqui</a>.</li>
          <li><strong>Dados pessoais (RGPD):</strong> usados apenas para gerir reservas e executar o serviço (base legal: contrato); conservação até 12 meses após o passeio; direitos: acesso/retificação/apagamento/limitação/oposição via <em>hortawithcesar@gmail.com</em>; sem cedência a terceiros salvo obrigação legal.</li>
        </ul>
      </div>
    </div>

    <div class="actions">
      <a id="cond-whatsapp" class="wa-stack" target="_blank" rel="noopener">
  <span class="wa-icon">
    <img src="whatsapp-logo.png" alt="WhatsApp">
  </span>
  <small>Fale comigo!</small>
</a>


      <button class="btn btn-ghost" id="cond-close-2">Fechar</button>
    </div>
  </div>
</div>
<!-- 🔼 FIM DO MODAL -->

  <!-- ===== MODAL POLÍTICA DE PRIVACIDADE ===== -->
<div id="modal-privacy" class="modal-backdrop" style="display:none;">
  <div class="modal">
    <header>
      <h3>Política de Privacidade</h3>
      <button class="close-x" type="button" id="close-privacy" aria-label="Fechar">×</button>
    </header>

    <div class="modal-body">
      <h4>1. Introdução</h4>
      <p>
        A Horta with César respeita a sua privacidade e está empenhada em proteger os seus dados pessoais. Esta política explica como recolhemos, usamos e salvaguardamos as suas informações.
      </p>

      <h4>2. Dados Recolhidos</h4>
      <p>
        Recolhemos apenas os dados essenciais ao funcionamento dos nossos serviços, nomeadamente:
        nome, contacto (telefone/e-mail) e dados relacionados com a reserva. 
        Não partilhamos informações pessoais com terceiros sem o seu consentimento.
      </p>

      <h4>3. Finalidade do Tratamento</h4>
      <p>
        Os dados são utilizados apenas para gerir reservas, prestar informações sobre os serviços e cumprir obrigações legais.
      </p>

      <h4>4. Conservação dos Dados</h4>
      <p>
        Os dados pessoais são conservados apenas pelo tempo necessário à finalidade que motivou a recolha, ou conforme exigido por lei.
      </p>

      <h4>5. Direitos do Titular</h4>
      <p>
        Pode, a qualquer momento, solicitar o acesso, retificação, eliminação, limitação ou portabilidade dos seus dados pessoais, através do e-mail:
        <a href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a>.
      </p>

      <h4>6. Segurança</h4>
      <p>
        Implementamos medidas técnicas e organizativas adequadas para proteger os seus dados contra acesso não autorizado, perda ou destruição.
      </p>

      <h4>7. Cookies</h4>
      <p>
        Este site utiliza cookies apenas para melhorar a experiência do utilizador. Pode desativar os cookies nas definições do seu navegador.
      </p>

      <h4>8. Alterações</h4>
      <p>
        A Horta with César reserva-se o direito de atualizar esta política de privacidade sempre que necessário. Recomenda-se a consulta periódica desta página.
      </p>

      <h4>9. Contacto</h4>
      <p>
        Para qualquer questão sobre esta política, contacte-nos em:
        <a href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a>.
      </p>
    </div>

    <div class="actions">
      <button class="btn btn-ghost" type="button" id="close-privacy-footer">Fechar</button>
    </div>
  </div>
</div>

  <script>
  // reveal on scroll
  const els = document.querySelectorAll('.reveal');
  const obs = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target); }
    });
  },{ threshold:.2 });
  els.forEach(el=>obs.observe(el));
</script>
<script>
  // Smooth-scroll para reservas + preencher o "Trilho"
  const reserveButtons = document.querySelectorAll('.js-reserve');
  const bookingSection = document.querySelector('#booking');
  const trailInput = document.querySelector('#trail');
  const subtitle = document.querySelector('#booking-subtitle');

  reserveButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const trailName = btn.getAttribute('data-trail') || 'Trilho';
      if (trailInput) {
        trailInput.value = trailName;
      }
      if (subtitle) {
        subtitle.textContent = `Trilho selecionado: ${trailName}`;
      }
      bookingSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // foca o "Nome" após o scroll
      setTimeout(() => {
        document.querySelector('#name')?.focus();
      }, 500);
    });
  });

  // Ajusta a data mínima para hoje
  const today = new Date().toISOString().split('T')[0];
  document.querySelector('#date_from')?.setAttribute('min', today);
  document.querySelector('#date_to')?.setAttribute('min', today);

  // Validar que fim >= início (se preenchido)
  const dateFrom = document.querySelector('#date_from');
  const dateTo = document.querySelector('#date_to');

  function syncDateLimits(){
    if (!dateFrom || !dateTo) return;
    dateTo.min = dateFrom.value || today;
    if (dateTo.value && dateTo.value < dateTo.min) {
      dateTo.value = dateTo.min;
    }
  }
  dateFrom?.addEventListener('change', syncDateLimits);
  syncDateLimits();
</script>

<script>
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 20) header.classList.add('scrolled');
    else header.classList.remove('scrolled');
  });
</script>
  <script>
(function(){
  const modal = document.getElementById('cond-modal');
  const close1 = document.getElementById('cond-close');
  const close2 = document.getElementById('cond-close-2');
  const title = document.getElementById('cond-title');
  const sub = document.getElementById('cond-sub');
  const trailEl = document.getElementById('cond-trail');
  const priceEl = document.getElementById('cond-price');
  const briefEl = document.getElementById('cond-brief');
  const waBtn = document.getElementById('cond-whatsapp');

  // abrir
  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('.btn-conditions');
    if(!btn) return;
    e.preventDefault();

    const card = btn.closest('.trail-card');
    const trail = card?.dataset.trail || 'Trilho';
    const priceFrom = card?.dataset.priceFrom || 'sob consulta';
    const brief = card?.dataset.brief || 'Preço base para 1 pessoa. Para grupos, pede cotação.';

    title.textContent = `Condições — ${trail}`;
    sub.textContent   = 'Preços, seguros e termos';
    trailEl.textContent = trail;
    priceEl.textContent = `Desde ${priceFrom} (1 px)`;
    briefEl.textContent = brief;

    const msg = encodeURIComponent(`Olá César! Quero saber as condições/preço para: ${trail}.`);
    waBtn.href = `https://wa.me/351964616199?text=${msg}`;

    modal.classList.add('open');
    document.body.classList.add('modal-open'); // ❗ bloqueia scroll do body
    setTimeout(()=> waBtn.focus(), 50);
  });

  function closeModal(){
    modal.classList.remove('open');
    document.body.classList.remove('modal-open'); // ❗ volta a permitir scroll
  }

  [close1, close2].forEach(b=> b && b.addEventListener('click', closeModal));

  // clicar fora fecha
  modal.addEventListener('click', (e)=>{
    if(e.target === modal) closeModal();
  });

  // tecla Esc fecha
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape' && modal.classList.contains('open')) closeModal();
  });
})();
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TouristInformationCenter",
  "name": "Horta with César",
  "areaServed": "Faial, Açores",
  "address": { "@type": "PostalAddress", "addressLocality": "Horta", "addressRegion": "Açores", "addressCountry": "PT" },
  "telephone": "+351964616199",
  "email": "hortawithcesar@gmail.com",
  "url": "https://hortawithcesar.github.io/",
  "sameAs": []
}
</script>

<script>
/* ===== Tabela de Preços Trilhos 2026 =====
   (conforme .data-trail e documento oficial) */

const PRICE_TABLE = {
  "City Walk • Horta a pé":             { type: "perPerson", tiers: [ { max:4, price:30 },  ] },
  "Entre Montes (Horta)":               { type: "perPerson", tiers: [ { max:4, price:40 }, { max:99, price:45 } ] },
  "Caldeira Descida • Santuário da fauna local": { type: "perGroup", tiers: [ { max:4, price:130 }, { max:99, price:90 } ] },
  "Caldeira — perímetro":               { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] },
  "Rocha da Fajã":                      { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] },
  "Farol da Ribeirinha":                { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:85 } ] },
  "Levadas ao Cabeço dos Trinta":       { type: "perPerson", tiers: [ { max:4, price:150 }, { max:99, price:120 } ] },
  "Capelo → Capelinhos ":               { type: "perPerson", tiers: [ { max:4, price:100 }, { max:99, price:90 } ] },
  "Miradouro do Neptuno":               { type: "perPerson", tiers: [ { max:4, price:35 }, { max:99, price:35 } ] },
  "Miradouro da Braça":                 { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] }
};

const DEPOSIT_RATE = 0.20; // 20%
const MIN_DEPOSIT  = 10;   // sinal mínimo

function getPrice(trail, people){
  const data = PRICE_TABLE[trail];
  if(!data){ return { onRequest:true }; }

  // encontrar tier correta
  const t = data.tiers.find(x => people <= x.max) || data.tiers.at(-1);
  const total = (data.type === "perGroup") ? t.price : (t.price * people);
  const deposit = Math.max(MIN_DEPOSIT, +(total * DEPOSIT_RATE).toFixed(2));
  return { total, deposit, unit: t.price, onRequest:false };
}

function eur(v){ return v == null ? "—" : v.toLocaleString('pt-PT',{style:'currency',currency:'EUR'}); }


</script>

<script>
/* ===== Disponibilidade por blocos (manhã/tarde) via Google Calendar ===== */
/* Requer: calendário público (livre/ocupado) + API key restrita ao teu domínio */

const GCAL_ID  = 'hortawithcesar@gmail.com';        // teu calendário
const GCAL_KEY = 'AIzaSyBJ79Q2R7X7tpzr8XnY3VCBcu6i45Cujc8'; // <-- substitui pela nova chave

// elementos já existentes no teu formulário
const $date  = document.getElementById('bk-date') || document.getElementById('date_from') || document.getElementById('date');
const $avail = document.getElementById('rv-availability');   // <— novo ID
const $pay   = document.getElementById('bk-pay');            // podes deixar assim mesmo, não faz mal

// (ajusta aqui os teus horários de trabalho se quiseres)
const MORNING = { hStart: 8,  hEnd: 12 };  // 08:00–12:00
const AFTERNOON = { hStart: 14, hEnd: 18 }; // 14:00–18:00

function ymd(d){ const p=n=>String(n).padStart(2,'0'); return `${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())}`; }
function toISOAt(d, h=0, m=0, s=0){
  const x = new Date(d.getFullYear(), d.getMonth(), d.getDate(), h, m, s);
  return x.toISOString();
}

// verifica sobreposição entre [a1,a2) e [b1,b2)
function overlaps(aStart, aEnd, bStart, bEnd){
  return aStart < bEnd && bStart < aEnd;
}

async function fetchDayEvents(yyyy_mm_dd){
  // janela do dia: [00:00, 24:00) hora local
  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const timeMin = toISOAt(day, 0, 0, 0);
  const endDay = new Date(Y, M-1, D+1);
  const timeMax = endDay.toISOString();

  const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(GCAL_ID)}/events`
    + `?key=${encodeURIComponent(GCAL_KEY)}`
    + `&timeMin=${encodeURIComponent(timeMin)}`
    + `&timeMax=${encodeURIComponent(timeMax)}`
    + `&singleEvents=true&orderBy=startTime`;

  const res = await fetch(url);
  if(!res.ok){ console.error('Calendar API', await res.text()); return []; }
  const data = await res.json();
  return data.items || [];
}

// devolve { morningFree, afternoonFree, allDayBusy }
async function checkDaySlots(yyyy_mm_dd){
  const events = await fetchDayEvents(yyyy_mm_dd);

  // intervalos do dia alvo
  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const morningStart = new Date(Y, M-1, D, MORNING.hStart, 0, 0);
  const morningEnd   = new Date(Y, M-1, D, MORNING.hEnd,   0, 0);
  const afternoonStart = new Date(Y, M-1, D, AFTERNOON.hStart, 0, 0);
  const afternoonEnd   = new Date(Y, M-1, D, AFTERNOON.hEnd,   0, 0);

  let morningBusy = false;
  let afternoonBusy = false;
  let allDayBusy = false;

  for(const ev of events){
    const sISO = ev.start?.dateTime || ev.start?.date;
    const eISO = ev.end?.dateTime   || ev.end?.date;
    if(!sISO || !eISO) continue;

    // all-day: start/end em formato 'YYYY-MM-DD'
    const isAllDay = (ev.start?.date && ev.end?.date);
    if(isAllDay){
      allDayBusy = true; break; // o dia todo indisponível
    }

    const s = new Date(sISO);
    const e = new Date(eISO);

    if(overlaps(s, e, morningStart, morningEnd))   morningBusy = true;
    if(overlaps(s, e, afternoonStart, afternoonEnd)) afternoonBusy = true;

    if(morningBusy && afternoonBusy) break;
  }

  return {
    morningFree: !morningBusy && !allDayBusy,
    afternoonFree: !afternoonBusy && !allDayBusy,
    allDayBusy
  };
}

// devolve { morningFree, afternoonFree, allDayBusy }
async function checkDaySlots(yyyy_mm_dd){
  const events = await fetchDayEvents(yyyy_mm_dd);

  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const morningStart   = new Date(Y, M-1, D, MORNING.hStart,   0, 0);
  const morningEnd     = new Date(Y, M-1, D, MORNING.hEnd,     0, 0);
  const afternoonStart = new Date(Y, M-1, D, AFTERNOON.hStart, 0, 0);
  const afternoonEnd   = new Date(Y, M-1, D, AFTERNOON.hEnd,   0, 0);

  let morningBusy = false;
  let afternoonBusy = false;
  let allDayBusy = false;

  for (const ev of events){
    const sISO = ev.start?.dateTime || ev.start?.date;
    const eISO = ev.end?.dateTime   || ev.end?.date;
    if(!sISO || !eISO) continue;

    const isAllDay = (ev.start?.date && ev.end?.date);
    if(isAllDay){
      allDayBusy = true;
      break;
    }

    const s = new Date(sISO);
    const e = new Date(eISO);

    if (overlaps(s, e, morningStart,   morningEnd))   morningBusy   = true;
    if (overlaps(s, e, afternoonStart, afternoonEnd)) afternoonBusy = true;

    if (morningBusy && afternoonBusy) break;
  }

  return {
    morningFree:   !morningBusy   && !allDayBusy,
    afternoonFree: !afternoonBusy && !allDayBusy,
    allDayBusy
  };
}

// === Atualiza badge de disponibilidade ===
async function checkAvailability(){
  if (!$date || !$avail) return;

  const val = $date.value;
  if (!val){
    $avail.textContent = '—';
    $avail.dataset.state = 'pending';
    $pay && ($pay.disabled = true);
    return;
  }

  try{
    const slots = await checkDaySlots(val);

    if (slots.allDayBusy){
      $avail.textContent = 'Indisponível';
      $avail.dataset.state = 'busy';
      $pay && ($pay.disabled = true);
      return;
    }

    if (slots.morningFree && slots.afternoonFree){
      $avail.textContent = 'Disponível: manhã e tarde';
      $avail.dataset.state = 'ok';
    } else if (slots.morningFree){
      $avail.textContent = 'Disponível: manhã';
      $avail.dataset.state = 'ok';
    } else if (slots.afternoonFree){
      $avail.textContent = 'Disponível: tarde';
      $avail.dataset.state = 'ok';
    } else {
      $avail.textContent = 'Indisponível';
      $avail.dataset.state = 'busy';
    }

    // aqui não bloqueamos o pagamento, quem decide é a validação em baixo
  } catch (err){
    console.error(err);
    $avail.textContent = 'Não foi possível verificar';
    $avail.dataset.state = 'pending';
  }
}

$date && $date.addEventListener('change', checkAvailability);

</script>
<script>
(() => {
  // ===== 1) Mapeia os elementos do teu formulário de cima =====
  const elTrail  = document.querySelector('#bk-trail');   // select do trilho (o teu ID)
  const elPax    = document.querySelector('#bk-pax, #nPessoas, [name="pax"], [name="pessoas"]') 
                  || { value: '' };
  const elDate   = document.querySelector('#bk-date, #date, [name="date"]') 
                  || { value: '' };
  const elSlot   = document.querySelector('#bk-slot, #periodo, [name="slot"]') 
                  || { value: '' };

  // Campos de leitura (bloco "Efectuar Reserva")
  const outTrail = document.querySelector('#rv-trail');
  const outPax   = document.querySelector('#rv-pax');
  const outDate  = document.querySelector('#rv-date');
  const outSlot  = document.querySelector('#rv-slot');

  // Disponibilidade e valores
  const outAvail = document.querySelector('#rv-availability');
  const outTotal = document.querySelector('#rv-total');
  const outDepos = document.querySelector('#rv-deposit');

  const btnPay   = document.querySelector('#btn-pay-20');

  // ===== 2) Tabela fallback (se não encontrar nos cartões) =====
  // Ajusta conforme a tua "Tabela de preços Trilhos 2026"
  const priceTable = {
    'city-walk'     : 25,  // exemplo
    'entre-montes'  : 35,
    'neptuno'       : 30,
    'caldeira-circ' : 45,  // Caldeira perímetro
    'caldeira-desc' : 55   // Caldeira descida
  };

  // ===== 3) Localiza preço por pessoa a partir dos próprios cartões de trilho =====
  function getTrailPrice(trailId){
    if(!trailId) return null;
    // tenta achar no DOM um card com data-trail e data-price
    const card = document.querySelector(`[data-trail="${trailId}"]`);
    if(card && card.dataset && card.dataset.price){
      const p = parseFloat(card.dataset.price);
      if(!isNaN(p)) return p;
    }
    // fallback
    return priceTable[trailId] ?? null;
  }

  

  // ===== 5) Calcula e atualiza UI =====
  function refreshUI(){
    // espelha os campos de cima
    const trailId = (elTrail?.value || '').trim();
    const trailTxt = elTrail?.options?.[elTrail.selectedIndex]?.text || '—';
    const pax   = parseInt(elPax?.value || '0', 10);
    const date  = (elDate?.value || '').trim();
    const slot  = (elSlot?.value || '').trim();

    outTrail.textContent = trailTxt || '—';
    outPax.textContent   = pax ? String(pax) : '—';
    outDate.textContent  = date || '—';
    outSlot.textContent  = slot || '—';

    // preço
    const pp = getTrailPrice(trailId);
    const total  = (pp && pax > 0) ? (pp * pax) : NaN;
    const deposit = isNaN(total) ? NaN : total * 0.20;

    outTotal.textContent = money(total);
    outDepos.textContent = money(deposit);

    // Disponibilidade — aqui liga ao teu script do Calendar se já tens a info:
    // EXEMPLO simples: se não há data ou slot, ainda não se sabe
    if(!date || !slot){
      setAvailability('desconhecido');
    } else {
      // Se tens uma função global que já apura disponibilidade, chama-a.
      // Ex.: window.checkSlot(date, slot) -> 'ok' | 'no'
      if (typeof window.checkSlot === 'function'){
        const st = window.checkSlot(date, slot); // devolve 'ok' | 'no' | 'maybe'
        if (st === 'ok')      setAvailability(slot === 'manhã' ? 'ok-manha' : 'ok-tarde');
        else if (st === 'no') setAvailability('indisponivel');
        else                  setAvailability('desconhecido');
      } else {
        // até ligares ao Calendar, assume "desconhecido"
        setAvailability('desconhecido');
      }
    }

    // desbloqueia botão se tiver tudo válido
    const canPay = (
      !!trailId &&
      pax > 0 &&
      !!date &&
      !!slot &&
      !isNaN(total) &&
      total > 0
    );
    btnPay.disabled = !canPay;
  }

  // ===== 6) Listeners nos campos do formulário de cima =====
  ['change','input'].forEach(ev=>{
    elTrail?.addEventListener(ev, refreshUI);
    elPax?.addEventListener(ev, refreshUI);
    elDate?.addEventListener(ev, refreshUI);
    elSlot?.addEventListener(ev, refreshUI);
  });

  // ===== 7) Click “Pagar sinal 20%” – aqui integras o link Revolut/checkout =====
  btnPay.addEventListener('click', () => {
    // Podes construir a referência para o pagamento (ex.: nome+data+trilho)
    const trailTxt = outTrail.textContent.trim();
    const dep = outDepos.textContent.replace(' €','');
    // TODO: integrar com Revolut Checkout ou Payment Link gerado dinamicamente.
    // Por agora, só damos um feedback.
    alert(`A avançar para pagamento do sinal (${dep} €) para: ${trailTxt}.`);
    // window.location.href = 'URL_DO_CHECKOUT_REVOLUT?amount=...&reference=...';
  });

  // arranque
  refreshUI();
})();
</script>
<!-- ===== Modal: Efectuar Reserva ===== -->
<div id="rv-modal" class="modal-backdrop" style="display:none">
  <div class="modal box" role="dialog" aria-modal="true" aria-labelledby="rv-title">
    <header class="modal__header">
      <h3 id="rv-title" class="h3">Resumo da reserva</h3>
      <button id="rv-close" class="close-x" aria-label="Fechar">×</button>
    </header>

    <div class="modal__body rv-lock">
      <div class="reserve-grid">
        <div class="reserve-field">
          <label>Trilho</label>
          <div id="rv-trail" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
          <label>Nº de pessoas</label>
          <div id="rv-people" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
          <label>Data</label>
          <div id="rv-date" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
          <label>Período</label>
          <div id="rv-period" class="rv-read">—</div>
        </div>

        <div class="reserve-field reserve-field--full">
          <label>Total estimado</label>
          <div id="rv-total-m" class="amount">—</div>
          <small class="muted">Valor calculado com base no trilho e nº de pessoas. Poderá ajustar consoante logística.</small>
        </div>

        <div class="reserve-field reserve-field--full">
          <label>Sinal 20%</label>
          <div id="rv-deposit-m" class="amount amount-accent">—</div>
          <small class="muted">
  Deduzido ao valor final.
  <a href="#politica-cancelamento" class="link" id="open-cancel-policy">
    Política de Cancelamento
  </a>.
  Ao confirmar a reserva, assume que leu e concorda com as
  condições gerais do serviço e com a política de privacidade do site.
</small>

        </div>
      </div>
    </div>

    <footer class="modal__footer actions">
      <a id="rv-pay-20" class="btn btn-primary" 
   target="_blank" rel="noopener" aria-disabled="true">
   Confirmar reserva
</a>


      <button id="rv-close-2" class="btn btn-ghost" type="button">Fechar</button>
    </footer>
  </div>
</div>
<!-- ===== /Modal ===== -->

<script>
(() => {
  const REVOLUT_LINK_BASE = 'https://revolut.me/hortawithcesar';

  const $    = (sel, ctx = document) => ctx.querySelector(sel);
  const text = el => ((el && el.textContent) || '').trim();

  // normaliza texto para comparar "disponivel" sem acentos
  function norm(s) {
    return (s || '')
      .toLowerCase()
      .normalize('NFD')
      .replace(/\p{Diacritic}/gu, '');
  }

  // "€ 123,45" -> 123.45
  function parseMoney(str) {
    if (!str || str === '—') return NaN;
    const s = String(str)
      .replace(/[^\d,.-]/g, '')
      .replace(/\.(?=\d{3}\b)/g, '')   // tira separadores de milhar
      .replace(',', '.');
    return parseFloat(s);
  }

  // Lê o formulário principal
    // Lê o formulário principal + calcula total/sinal
  function readBookingForm() {
    const trailEl   = $('#trail');
    const peopleEl  = $('#people');
    const dateEl    = $('#date_from');
    const periodSel = $('#period');

    const trail  = trailEl?.value || '—';
    const people = peopleEl?.value || '—';
    const date   = dateEl?.value || '—';
    const period = periodSel?.options?.[periodSel.selectedIndex]?.text || '—';

    // texto da badge de disponibilidade
    const availability = text($('#rv-availability')) || '—';

    // calcula total e sinal usando a PRICE_TABLE
    let totalStr = '—';
    let depositStr = '—';

    const peopleNum = parseInt(peopleEl?.value || '0', 10);
    if (trail && trail !== '—' && !isNaN(peopleNum) && peopleNum > 0 && PRICE_TABLE[trail]) {
      const priceInfo = getPrice(trail, peopleNum);
      if (!priceInfo.onRequest) {
        totalStr   = eur(priceInfo.total);
        depositStr = eur(priceInfo.deposit);
      }
    }

    return { trail, people, date, period, availability, totalStr, depositStr };
  }


  // Disponibilidade ok se tiver data-state="ok" OU texto com “dispon”
  function isAvailabilityOK() {
    const badge = $('#rv-availability');
    if (!badge) return false;
    if (badge.dataset.state === 'ok') return true;
    return /dispon/i.test(norm(badge.textContent));
  }

  // Atualiza resumo do modal + link Revolut
  function syncReserveSummary() {
    const f = readBookingForm();

    // Campos do resumo
    $('#rv-trail').textContent  = f.trail;
    $('#rv-people').textContent = f.people;
    $('#rv-date').textContent   = f.date;
    $('#rv-period').textContent = f.period;

    $('#rv-total-m').textContent   = f.totalStr   || '—';
    $('#rv-deposit-m').textContent = f.depositStr || '—';

    // Link do Revolut
    const payBtn = $('#rv-pay-20');
    const depNum = parseMoney(f.depositStr);
    const availOK = isAvailabilityOK();

    if (payBtn) {
      if (isFinite(depNum) && depNum > 0 && availOK) {
        const url = `${REVOLUT_LINK_BASE}?amount=${depNum.toFixed(2)}&currency=EUR`;
        payBtn.setAttribute('href', url);
        payBtn.removeAttribute('aria-disabled');
      } else {
        payBtn.removeAttribute('href');
        payBtn.setAttribute('aria-disabled', 'true');
      }
    }
  }

  // Valida campos para desbloquear o botão “Efectuar reserva”
  function validateBooking() {
    const f = readBookingForm();

    const hasTrail  = !!f.trail  && f.trail  !== '—';
    const hasPeople = +f.people > 0;
    const hasDate   = !!f.date  && f.date  !== '—';
    const hasPeriod = !!f.period && f.period !== '—';
    const hasAvail  = isAvailabilityOK();

    const ok = hasTrail && hasPeople && hasDate && hasPeriod && hasAvail;

    const openBtn = $('#btn-open-reserve');
    if (openBtn) {
      openBtn.disabled = !ok;
      openBtn.classList.toggle('btn-disabled', !ok);
    }

    return { ok, hasTrail, hasPeople, hasDate, hasPeriod, hasAvail };
  }

  // Modal
  function openReserveModal(e) {
    const { ok } = validateBooking();
    if (!ok) {
      e?.preventDefault?.();
      return;
    }

    syncReserveSummary();

    const modal = $('#rv-modal');
    if (modal) {
      modal.style.display = 'flex';
      document.body.classList.add('modal-open');
    }
  }

  function closeReserveModal() {
    const modal = $('#rv-modal');
    if (modal) {
      modal.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  }

  // Liga eventos aos campos do formulário para revalidar
  ['#trail', '#people', '#date_from', '#period', '#rv-availability'].forEach(sel => {
    const el = $(sel);
    if (!el) return;
    ['change', 'input'].forEach(evt => {
      el.addEventListener(evt, validateBooking);
    });
  });

  // Botões abrir / fechar modal
  $('#btn-open-reserve')?.addEventListener('click', openReserveModal);
  $('#rv-close')?.addEventListener('click', closeReserveModal);
  $('#rv-close-2')?.addEventListener('click', closeReserveModal);

  // Fecha ao clicar fora da caixa do modal
  $('#rv-modal')?.addEventListener('click', ev => {
    if (ev.target === ev.currentTarget) closeReserveModal();
  });

  // Botão "Enviar pedido" dentro do modal
  $('#rv-send')?.addEventListener('click', () => {
    $('#booking-form')?.requestSubmit?.();
    closeReserveModal();
  });

  // Validação inicial ao carregar a página
  validateBooking();
})();
  
</script>
  <script>
(() => {
  const $ = (sel, ctx = document) => ctx.querySelector(sel);

  const cancelModal   = $('#modal-cancel-policy');
  const openCancel    = $('#open-cancel-policy');   // link dentro do modal de reserva
  const closeCancel   = $('#cancel-modal-close');

  if (!cancelModal || !openCancel) return;

  function openCancelModal(ev) {
    ev.preventDefault();
    cancelModal.style.display = 'flex';
    document.body.classList.add('modal-open');
  }

  function closeCancelModal(ev) {
    ev && ev.preventDefault && ev.preventDefault();
    cancelModal.style.display = 'none';
    document.body.classList.remove('modal-open');
  }

  openCancel.addEventListener('click', openCancelModal);
  closeCancel?.addEventListener('click', closeCancelModal);

  cancelModal.addEventListener('click', (ev) => {
    if (ev.target === cancelModal) {
      closeCancelModal(ev);
    }
  });
})();
</script>

<!-- ===== Modal: Política de Cancelamento ===== -->
<section id="modal-cancel-policy" class="modal-backdrop" style="display:none;">
  <div class="modal modal-policy">
    <header class="modal__header">
      <h3>Política de Cancelamento</h3>
      <button type="button" class="close-x" id="cancel-modal-close" aria-label="Fechar">×</button>
    </header>

    <div class="modal__body">
      <p>
        • O sinal de 20% é reembolsável em cancelamentos feitos até <strong>48h antes</strong> do início do trilho.
      </p>
      <p>
        • Em cancelamentos com menos de <strong>48h</strong>, ou em caso de <strong>não comparência</strong>,
        o sinal não é devolvido.
      </p>
      <p>
        • Caso o passeio seja cancelado por motivos de segurança, condições meteorológicas
        adversas ou outra decisão do guia, o sinal será <strong>reembolsado na totalidade</strong>
        ou poderá ser reagendado, conforme a tua preferência e disponibilidade.
      </p>
      <p>
        • Alterações de data e horário estão sempre sujeitas à disponibilidade do calendário.
      </p>
    </div>
  </div>
</section>
<script>
// abre modal de Política de Privacidade a partir de QUALQUER link com essa classe
document.querySelectorAll('.js-open-privacy').forEach(el => {
  el.addEventListener('click', function (e) {
    e.preventDefault();                 // evita o scroll por causa do href="#"
    const modal = document.getElementById('modal-privacy');
    if (!modal) return;
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
  });
});

// abre modal de Política de Cancelamento a partir de QUALQUER link com essa classe
document.querySelectorAll('.js-open-cancel').forEach(el => {
  el.addEventListener('click', function (e) {
    e.preventDefault();                 // também evita o scroll
    const modal = document.getElementById('modal-cancel-policy');
    if (!modal) return;
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
  });
});

// fecha modal de privacidade (ajusta os IDs de acordo com o teu HTML)
document.getElementById('close-privacy')?.addEventListener('click', () => {
  const m = document.getElementById('modal-privacy');
  if (m) {
    m.style.display = 'none';
    document.body.classList.remove('modal-open');
  }
});
document.getElementById('close-privacy-footer')?.addEventListener('click', () => {
  const m = document.getElementById('modal-privacy');
  if (m) {
    m.style.display = 'none';
    document.body.classList.remove('modal-open');
  }
});

// fecha modal de cancelamento (botão X + botão "Fechar")
['close-cancel-policy', 'close-cancel-policy-2'].forEach(id => {
  document.getElementById(id)?.addEventListener('click', () => {
    const m = document.getElementById('modal-cancel-policy');
    if (m) {
      m.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  });
});

// fechar se clicar fora da box (para os dois modais)
['modal-privacy', 'modal-cancel-policy'].forEach(id => {
  const m = document.getElementById(id);
  if (!m) return;
  m.addEventListener('click', ev => {
    if (ev.target === ev.currentTarget) {
      m.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  });
});
</script>


</body>
</html>
