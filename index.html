<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Horta with CÃ©sar â€” Walking Tours no Faial</title>
  <meta name="description" content="Walking tours e trilhos no Faial com guia local. City tour Horta, Entre Montes, Caldeira e mais. Reserve jÃ¡!" />
  <link rel="icon" type="image/png" href="logotipo1.png" />
  <style>
    @keyframes fadeIn {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}
header img {
  animation: fadeIn 1.4s ease forwards;
}

/* Reset bÃ¡sico e layout */
:root{
      --bg:#020617;
      --fg:#0f172a;
      --muted:#64748b;
      --card:#f8fafc; --line:#e2e8f0;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body {
  margin: 0;
  padding-top: 80px; /* sobe de 70 â†’ 110px, para compensar a altura real */
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  color: var(--fg);
  background: var(--bg);
}

    nav a{color:var(--fg);text-decoration:none;margin-left:18px;font-weight:600}
    nav a:hover{color:var(--brand)}
    .wrap{
      max-width:1080px;
      margin:0 auto;
      padding:0 16px;
    }
    header{
      position:fixed;
      top:0;left:0;right:0;
      backdrop-filter:blur(16px);
      background:rgba(15,23,42,.92);
      border-bottom:1px solid rgba(148,163,184,.4);
      z-index:20;
    }
    header .wrap{
      display:flex;
      align-items:center;
      justify-content:space-between;
      height:80px;
    }
    header nav{display:flex;align-items:center;justify-content:space-between;width:100%}
    h1,h2,h3{margin:0 0 12px;font-weight:700;color:#0f172a}
    h1{font-size:clamp(28px,4vw,38px)}
    h2{font-size:clamp(24px,3vw,30px)}
    h3{font-size:20px}
    p{line-height:1.6;margin:0 0 12px}
    a{color:#0f172a}
    a:hover{color:#0ea5e9}
    .small{font-size:12px;color:#64748b}

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      border-radius:999px;
      padding:10px 18px;
      font-size:14px;
      font-weight:600;
      border:none;
      cursor:pointer;
      transition:all .18s ease-out;
      text-decoration:none;
      white-space:nowrap;
    }
    .btn-primary{
      background:#22c55e;
      color:#022c22;
      box-shadow:0 10px 25px rgba(34,197,94,.35);
    }
    .btn-primary:hover{
      background:#16a34a;
      box-shadow:0 12px 30px rgba(34,197,94,.45);
      transform:translateY(-1px);
    }
    .btn-ghost{
      background:transparent;
      color:#0f172a;
      border:1px solid rgba(148,163,184,.7);
    }
    .btn-ghost:hover{
      border-color:#0f172a;
      background:rgba(15,23,42,.03);
    }
    .btn-outline{
      background:#0f172a;
      color:#e5e7eb;
      border:1px solid #0f172a;
    }
    .btn-outline:hover{
      background:#020617;
    }
    .btn-sm{
      padding:6px 12px;
      font-size:12px;
    }

    section{
      padding:56px 0;
    }

    .about{
      position:relative;
      overflow:hidden;
    }
    .about .accent{
      position:absolute;
      inset:-80px 50% auto auto;
      width:360px;
      opacity:.7;
      pointer-events:none;
    }
    .about .accent svg{
      width:100%;
      height:auto;
    }
    .about > div{
      position:relative;
      max-width:700px;
    }

    .photo-float{
      float:right;
      margin:0 0 14px 24px;
      shape-outside:circle();
      border-radius:999px;
      width:140px;
      height:140px;
      overflow:hidden;
      box-shadow:0 18px 45px rgba(15,23,42,.32);
    }
    .photo-float img{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    .vision{
      padding:10px 14px;
      border-radius:12px;
      background:rgba(34,197,94,.07);
      border:1px solid rgba(34,197,94,.25);
      font-weight:500;
      margin:16px 0;
    }

    .tours-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:24px;
    }
    .scroll-cue{
      font-size:13px;
      color:#0f172a;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .scroll-cue::after{
      content:"";
      width:30px;
      height:1px;
      background:#0f172a;
      opacity:.5;
    }

    .tours-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:20px;
    }

    .trail-card{
      background:#f8fafc;
      border-radius:18px;
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:12px;
      box-shadow:0 14px 40px rgba(15,23,42,.18);
      border:1px solid rgba(148,163,184,.35);
      position:relative;
      overflow:hidden;
    }

    .trail-card-featured{
      display:grid;
      grid-template-columns: minmax(0,1.05fr) minmax(0,1fr);
      gap:18px;
      align-items:stretch;
    }

    .trail-media{
      border-radius:16px;
      overflow:hidden;
      background:#020617;
      min-height:220px;
      position:relative;
    }

    .trail-body{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .trail-title{
      font-size:18px;
      margin-bottom:6px;
    }

    .trail-meta,
    .trail-meta--center{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
    }

    .trail-meta--center{
      justify-content:flex-start;
    }

    .pill{
      border-radius:999px;
      padding:4px 10px;
      font-size:12px;
      background:#e2e8f0;
      color:#020617;
    }

    .trail-actions{
      display:flex;
      align-items:center;
      gap:8px;
      margin-top:8px;
      flex-wrap:wrap;
    }

    .btn-whatsapp{
      padding:0;
      border-radius:999px;
      width:40px;
      height:40px;
      border:none;
      cursor:pointer;
      background:#22c55e;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 10px 25px rgba(34,197,94,.4);
    }

    .btn-whatsapp img{
      width:24px;
      height:24px;
      display:block;
    }

    .lang-toggle{
      display:inline-flex;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.6);
      overflow:hidden;
      margin-left:10px;
    }
    .lang-toggle button{
      border:none;
      background:transparent;
      padding:4px 10px;
      font-size:11px;
      font-weight:600;
      cursor:pointer;
      color:#e5e7eb;
    }
    .lang-toggle button.active{
      background:#e5e7eb;
      color:#0f172a;
    }

    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(15,23,42,.75);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:40;
    }
    .modal-backdrop.is-open{display:flex}
    .modal{
      background:#f8fafc;
      border-radius:18px;
      max-width:520px;
      width:100%;
      max-height:90vh;
      overflow:auto;
      padding:18px 18px 20px;
      box-shadow:0 22px 60px rgba(15,23,42,.55);
      border:1px solid rgba(148,163,184,.6);
    }
    .modal h2{
      margin-bottom:4px;
      font-size:20px;
    }
    .modal__header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      margin-bottom:12px;
    }

    .close-x{
      border:none;
      background:transparent;
      font-size:20px;
      cursor:pointer;
      color:#64748b;
    }

    form{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    label{
      font-size:13px;
      color:#475569;
      margin-bottom:2px;
      display:block;
    }
    input,select,textarea{
      width:100%;
      border-radius:10px;
      border:1px solid #cbd5f5;
      padding:7px 10px;
      font-size:14px;
      font-family:inherit;
    }
    textarea{
      min-height:70px;
      resize:vertical;
    }

    .field-row{
      display:flex;
      gap:10px;
    }
    .field-row > div{flex:1}

    .contact-grid{
      display:grid;
      grid-template-columns:2fr 1.2fr;
      gap:28px;
      align-items:flex-start;
    }

    .contact-card{
      background:#f8fafc;
      border-radius:18px;
      padding:16px 16px 12px;
      border:1px solid rgba(148,163,184,.45);
      box-shadow:0 18px 45px rgba(15,23,42,.22);
    }

    .contact-card h3{
      margin-bottom:6px;
    }

    .contact-list{
      margin:10px 0 0;
      padding:0;
      list-style:none;
      font-size:14px;
      color:#0f172a;
    }

    .contact-list li{
      margin-bottom:8px;
      display:flex;
      gap:8px;
      align-items:flex-start;
    }

    .contact-list span.label{
      display:inline-block;
      min-width:80px;
      font-weight:600;
      color:#475569;
    }

    .contact-list a{
      color:#0f172a;
      text-decoration:none;
    }

    .contact-list a:hover{
      text-decoration:underline;
    }

    .contact-note{
      font-size:12px;
      color:#64748b;
      margin-top:8px;
    }

    .contact-note a{
      color:#0f172a;
      text-decoration:underline;
    }

    footer{
      padding:24px 0 40px;
      font-size:12px;
      color:#94a3b8;
    }

    footer .wrap{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }

    footer a{
      color:#e5e7eb;
      text-decoration:none;
    }

    footer a:hover{
      text-decoration:underline;
    }

    .reveal{
      opacity:0;
      transform:translateY(10px);
      transition:all .4s ease-out;
    }
    .reveal.in{
      opacity:1;
      transform:translateY(0);
    }

    .btn-conditions{
      font-size:12px;
      padding:6px 12px;
      border-radius:999px;
      border:1px dashed rgba(148,163,184,.8);
      background:rgba(15,23,42,.01);
    }

    .conditions_text{
      font-size:12px;
      color:#0f172a;
      margin:4px 0 0;
    }

    .damage-note{
      font-size:11px;
      color:#0f172a;
      margin-top:8px;
    }

    .modal-conditions p{
      font-size:13px;
      margin-bottom:8px;
    }

    .modal-conditions ul{
      font-size:13px;
      padding-left:18px;
    }

    .modal-conditions li{
      margin-bottom:4px;
    }

    .city-slider{
      position:relative;
      width:100%;
      height:100%;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .city-main{
      flex:1;
      border-radius:14px;
      overflow:hidden;
      background:#020617;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .city-main img,
    .city-main video{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .city-thumbs{
      display:flex;
      gap:6px;
      flex-wrap:wrap;
    }

    .city-thumb{
      border:none;
      border-radius:10px;
      overflow:hidden;
      padding:0;
      cursor:pointer;
      flex:1 1 80px;
      max-width:calc(33% - 4px);
      position:relative;
      isolation:isolate;
    }

    .city-thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      filter:brightness(.9);
      transition:filter .2s ease-out, transform .2s ease-out;
    }

    .city-thumb span{
      position:absolute;
      inset:auto 6px 6px 6px;
      font-size:11px;
      font-weight:600;
      padding:4px 6px;
      border-radius:999px;
      background:rgba(15,23,42,.85);
      color:#e5e7eb;
      text-align:center;
    }

    .city-thumb.is-active img{
      filter:brightness(1.05);
      transform:translateY(-1px);
      box-shadow:0 10px 25px rgba(15,23,42,.7);
    }

    .city-thumb.is-active span{
      background:#22c55e;
      color:#022c22;
    }

    .loop-slider{
      position:relative;
      width:100%;
      height:100%;
      min-height:220px;
      border-radius:14px;
      overflow:hidden;
      background:#020617;
    }

    .loop-main{
      width:100%;
      height:100%;
    }

    .loop-main img,
    .loop-main video{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .loop-items{
      display:none;
    }

    .contact-hero{
      font-size:13px;
      color:#0f172a;
      margin-bottom:10px;
    }

    .whatsapp-inline{
      display:inline-flex;
      align-items:center;
      gap:6px;
    }

    .whatsapp-inline img{
      width:18px;
      height:18px;
      display:block;
    }

    .damage-note strong{
      font-weight:600;
    }

    .privacy-link{
      color:#0f172a;
      font-weight:600;
      text-decoration:underline;
      cursor:pointer;
    }

    .hero-trails{
      display:flex;
      gap:40px;
      flex-wrap:wrap;
      margin-top:32px;
    }

    .hero-col{
      flex:1 1 280px;
      min-width:260px;
    }

    .hero-col ul{
      list-style:none;
      padding:0;
      margin:0;
      font-size:14px;
      color:#0f172a;
    }

    .hero-col li{
      margin-bottom:8px;
    }

    .hero-col li strong{
      font-weight:600;
    }

    .hero-note{
      font-size:12px;
      color:#64748b;
      margin-top:8px;
    }

    .damage-note a{
      color:#0f172a;
      text-decoration:underline;
    }

    .privacy-modal{
      font-size:13px;
    }

    .privacy-modal h3{
      margin-top:0;
      margin-bottom:8px;
    }

    .privacy-modal p{
      margin-bottom:8px;
    }

    .privacy-modal ul{
      margin:0 0 8px 16px;
      padding:0;
    }

    .privacy-modal li{
      margin-bottom:4px;
    }

    .modal-footer{
      margin-top:10px;
      font-size:12px;
      color:#64748b;
    }

    .modal-footer a{
      color:#0f172a;
      text-decoration:underline;
    }

    .hero-intro{
      font-size:14px;
      color:#0f172a;
      margin-bottom:16px;
    }

    .hero-intro strong{
      font-weight:700;
    }

    .hero-highlight{
      font-size:13px;
      color:#0f172a;
      margin:8px 0 0;
    }

    .damage-note em{
      font-style:italic;
    }

    .hero-intro em{
      font-style:italic;
    }

    .hero-badges{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:10px;
    }

    .hero-badges .pill{
      background:#e0f2fe;
      color:#0f172a;
      font-size:11px;
    }

    .hero-badges .pill strong{
      font-weight:700;
    }

    .hero-badges .pill svg{
      margin-right:4px;
    }

    .damage-note strong{
      font-weight:600;
    }

    .trail-picker{
      margin-top:6px;
      width:100%;
      border-radius:999px;
      border:1px solid var(--line);
      padding:8px 14px;
      font-size:14px;
      background:#fff;
    }


  </style>
</head>

<body>
  <header>
    <div class="wrap">
      <nav>
        <div style="display:flex;align-items:center;gap:12px">
          <img src="logotipo1.png" alt="Horta with CÃ©sar logo" style="height:52px;margin-top:0" />
          <span class="small" data-i18n="header.location">Faial â€¢ AÃ§ores</span>
        </div>
        <div style="display:flex;align-items:center;gap:14px">
          <a href="#about" data-i18n="nav.about">Sobre mim</a>
          <a href="#tours" data-i18n="nav.tours">Trilhos</a>
          <a href="#booking" data-i18n="nav.booking" class="js-open-booking">Reservas</a>
          <a href="#contact" data-i18n="nav.contact">Contactos</a>
          <div class="lang-toggle" role="group" aria-label="Language switcher">
            <button id="btn-pt" class="active" onclick="setLang('pt')">PT</button>
            <button id="btn-en" onclick="setLang('en')">EN</button>
          </div>
        </div>
      </nav>
    </div>
  </header>

<section class="wrap about" id="about">
       <div class="accent" aria-hidden="true">
    <!-- folha abstrata minimal (SVG) -->
    <svg viewBox="0 0 600 600" fill="none">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0" stop-color="#10b981"/>
          <stop offset="1" stop-color="#22c55e"/>
        </linearGradient>
      </defs>
      <path d="M520 210c-40-95-160-150-250-120S105 210 90 300c-15 90 40 150 120 175 95 30 190-10 260-95 25-30 65-85 50-170Z"
            fill="url(#g)" opacity=".15"/>
      <path d="M110 320c120-25 245-25 370 0" stroke="#059669" stroke-opacity=".25" stroke-width="2" />
      <path d="M140 360c110-22 220-22 330 0" stroke="#10b981" stroke-opacity=".18" stroke-width="2" />
      <path d="M170 400c95-18 190-18 285 0" stroke="#16a34a" stroke-opacity=".15" stroke-width="2" />
    </svg>
  </div>
<div>
    <h2 data-i18n="about.title">Sobre mim</h2>

    <div class="photo-float">
      <img src="foto-perfil.jpg" alt="Foto de CÃ©sar, guia local no Faial">
    </div>

    <p data-i18n="about.p1">
      Sou o CÃ©sar, guia local e criador do projeto <strong>Horta with CÃ©sar</strong>. Desde cedo aprendi a valorizar as pequenas coisas, o som do vento na Caldeira, o cheiro da terra molhada e o sorriso de quem vive com o mar Ã  porta.
    </p>

    <p data-i18n="about.p2">
      Comecei na restauraÃ§Ã£o, onde descobri o prazer de trabalhar com produtos locais e partilhar sabores genuÃ­nos.
      Foi ali que aprendi a valorizar a essÃªncia desta ilha atlÃ¢ntica, onde cada trilho conta uma histÃ³ria celebrando a natureza e as suas paisagens, que fazem dos AÃ§ores em geral, e do Faial em particular, um lugar Ãºnico. Hoje, levo esse mesmo espÃ­rito para os trilhos e para cada histÃ³ria que conto.
    </p>

    <p class="vision" data-i18n="about.p3">
      Acredito que guiar Ã© mais do que mostrar paisagens: Ã© criar experiÃªncias autÃªnticas que liguem pessoas e natureza.
    </p>

    <p data-i18n="about.p4">
      Nos meus passeios, nÃ£o hÃ¡ pressas. Caminha-se com tempo, conversa-se com naturalidade e ri-se com frequÃªncia. Se te juntares a mim, prometo-te uma experiÃªncia simples, sincera e cheia de alma, como a prÃ³pria ilha.
    </p>
  </div>
</section>


  <!-- TRILHOS -->
  <section id="tours">
  <div class="wrap">
    <div class="tours-head">
      <h2 data-i18n="tours.title">Trilhos & Walking Tours</h2>
<a class="scroll-cue" href="#tours" data-i18n="tours.cta">Explorar trilhos â†“</a>

    </div>

    <!-- CITY WALK HORTA -->
<article class="trail-card trail-card-featured reveal"
  data-trail="City Walk â€¢ Horta a pÃ©"
  data-price-from="30â‚¬ /px"
  data-brief="Percurso circular. PreÃ§o base para 1 pessoa. Ponto de encontro Pousada de Santa Cruz.">
        <div class="trail-media">
  <div class="city-slider" data-active="0">
    <div class="city-main">
      <!-- comeÃ§a com o vÃ­deo -->
      <video
        src="img/city-tour/VID.citytour.mp4"
        muted
        loop
        playsinline
      ></video>
    </div>

    <div class="city-thumbs">
      <!-- thumb do vÃ­deo -->
      <button class="city-thumb is-active"
              data-type="video"
              data-src="img/city-tour/VID.citytour.mp4">
        <span data-i18n="trail.city.thumb.video">VÃ­deo</span>
      </button>

      <!-- 6 fotos -->
      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.Colonia.jpg">
        <img src="img/city-tour/City.tour.Colonia.jpg" alt="City tour Horta 1">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.Igreja.jpg">
        <img src="img/city-tour/City.tour.Igreja.jpg" alt="City tour Horta 2">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.MCarmo.jpg">
        <img src="img/city-tour/City.tour.MCarmo.jpg" alt="City tour Horta 3">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.Matriz.jpg">
        <img src="img/city-tour/City.tour.Matriz.jpg" alt="City tour Horta 4">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.JFT.jpg">
        <img src="img/city-tour/City.tour.JFT.jpg" alt="City tour Horta 5">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.ILF1.jpg">
        <img src="img/city-tour/City.tour.ILF1.jpg" alt="City tour Horta 6">
      </button>
    </div>
  </div>
</div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.city.title">City Walk â€¢ Horta a pÃ©</h3>
          <div class="trail-meta--center">
            <span class="pill" data-i18n="trail.city.meta1">~3 km</span>
            <span class="pill" data-i18n="trail.city.meta2">~2h</span>
            <span class="pill" data-i18n="trail.city.meta3">Dificuldade: FÃ¡cil</span>
          </div>
          <p data-i18n="trail.city.desc">Centro histÃ³rico, colÃ³nias, igrejas antigas, marina e histÃ³rias das famÃ­lias mais marcantes. Passeio urbano com paragens fotogrÃ¡ficas e comercio local.</p>
          <!-- AÃ§Ãµes do trilho -->
<div class="trail-actions">
  <!-- Reservar (abre o inquÃ©rito com o trilho prÃ©-selecionado) -->
  <button type="button"
    class="btn btn-primary js-reserve"
    data-trail="City Walk â€¢ Horta a pÃ©"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- WhatsApp -->
  <a
  class="btn-whatsapp wa-icon"
  target="_blank"
  rel="noopener noreferrer"
    href="https://wa.me/351964616199?text=Ol%C3%A1%20C%C3%A9sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20City%20Walk%20-%20Horta%20a%20pÃ©.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>
  <!-- BotÃ£o CondiÃ§Ãµes â†’ abre modal -->
  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condiÃ§Ãµes</button>

</div>


        </div>
      </article>
    
    <div class="tours-grid">
      <!-- ENTRE MONTES -->
      <article class="trail-card reveal"
  data-trail="Entre Montes (Horta)"
  data-price-from="40â‚¬ / px"
  data-brief="Percurso circular. PreÃ§o base para 1 pessoa. Ponto de encontro Peter Cafe Sport.">
          <div class="trail-media">
    <div class="loop-slider" id="slider-entre-montes">
      <div class="loop-main"></div>

      <!-- lista escondida com as medias (1 vÃ­deo + fotos) -->
      <div class="loop-items">
        <!-- vÃ­deo primeiro -->
        <span data-type="video" data-src="img/entre-montes/entre-montes-video.mp4"></span>

        <!-- fotos (mete os nomes certos que tens no GitHub) -->
        <span data-type="img" data-src="img/entre-montes/entre-montes-3.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-2.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-1.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-4.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-5.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-6.jpg"></span>
      </div>
    </div>
  </div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.entre.title">Entre Montes (Horta)</h3>
          <div class="trail-meta">
            <span class="pill" data-i18n="trail.entre.meta1">~3.5 km</span>
            <span class="pill" data-i18n="trail.entre.meta2">â–² +120 m</span>
            <span class="pill" data-i18n="trail.entre.meta3">~2h30</span>
            <span class="pill" data-i18n="trail.entre.meta4">Dificuldade: FÃ¡cil / Moderado</span>
          </div>
          <p data-i18n="trail.entre.desc">Percurso circular entre duas elevaÃ§Ãµes vulcÃ¢nicas muito destintas. Vista da baÃ­a da Horta, baÃ­a do Porto Pim, histÃ³ria local e cantos escondidos no coraÃ§Ã£o da Horta.</p>
         <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Entre Montes "
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Entre%20Montes.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condiÃ§Ãµes</button>

</div>


        </div>
      </article>

      <!-- MIRADOURO DO NEPTUNO -->
      <article class="trail-card reveal"
  data-trail="Miradouro do Neptuno"
  data-price-from="35â‚¬ / px"
  data-brief="Ideal para fotografia. Valor por pessoa varia consoante o nÃºmero de participantes. Ponto de encontro Museu Fabrica da Baleia.">

        <div class="trail-media">FOTO â€¢ Miradouro do Neptuno</div>
        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.neptuno.title">Miradouro do Neptuno</h3>
          <div class="trail-meta">
            <span class="pill" data-i18n="trail.neptuno.meta1">~3 km</span>
            <span class="pill" data-i18n="trail.neptuno.meta2">â–² +50 m</span>
            <span class="pill" data-i18n="trail.neptuno.meta3">~1h30</span>
            <span class="pill" data-i18n="trail.neptuno.meta4">Dificuldade: FÃ¡cil</span>
          </div>
          <p data-i18n="trail.neptuno.desc">Passeio atÃ© ao famoso Miradouro do Neptuno. Ideal para quem quer fotografia, conhecer a histÃ³ria local e relaxar.</p>
          <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Miradouro do Neptuno"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Miradouro%20do%20Neptuno.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condiÃ§Ãµes</button>

</div>

  </div>
</article>

      <!-- CALDEIRA (perÃ­metro) -->
      <article class="trail-card reveal"
  data-trail="Caldeira â€” perÃ­metro"
  data-price-from="75â‚¬ / px"
  data-brief="Acesso sujeito a condiÃ§Ãµes meteorolÃ³gicas. PreÃ§o ajusta com logÃ­stica e grupo. Ponto de encontro a combinar">
        <div class="trail-media">FOTO â€¢ Caldeira</div>
        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.per.title">Caldeira â€” perÃ­metro</h3>
          <div class="trail-meta">
            <span class="pill" data-i18n="trail.per.meta1">~8 km</span>
            <span class="pill" data-i18n="trail.per.meta2">â–² +200 m</span>
            <span class="pill" data-i18n="trail.per.meta3">~3h</span>
            <span class="pill" data-i18n="trail.per.meta4">Dificuldade: FÃ¡cil / Moderado</span>
          </div>
          <p data-i18n="trail.per.desc">Trilho icÃ³nico no centro do Faial. 360Âº de vistas, e fotografia, fauna e flora endÃ©mica. Em dias limpos temos o  Pico em grande plano.</p>
         <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Caldeira â€” perÃ­metro"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Caldeira%20PerÃ­metro.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condiÃ§Ãµes</button>

</div>
        </div>
      </article>
       <!-- Descida Ã  Caldeira -->
      <article class="trail-card reveal"
  data-trail="Caldeira Descida"
  data-price-from="130â‚¬ /px"
  data-brief="Acesso sujeito a condiÃ§Ãµes meteorolÃ³gicas. PreÃ§o ajusta com logÃ­stica e grupo. Guia certificado pelo Parque Natural dos AÃ§ores. Ponto de encontro a combinar">
        <div class="trail-media">FOTO â€¢ Fundo da Caldeira</div>
        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.desc.title">Caldeira Descida â€¢ SantuÃ¡rio da fauna local</h3>
          <div class="trail-meta">
            <span class="pill" data-i18n="trail.desc.meta1">~3 km</span>
            <span class="pill" data-i18n="trail.desc.meta2">~3h30</span>
            <span class="pill" data-i18n="trail.desc.meta3">Dificuldade: Moderado / DifÃ­cil</span>
          </div>
          <p data-i18n="trail.desc.desc">Zona protegida pelo Parque Natural dos AÃ§ores. Requer guia certificado! Paisagens fantÃ¡sticas.</p>
         <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Caldeira Descida â€¢ SantuÃ¡rio da fauna local"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Caldeira%20Descida.">
     <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condiÃ§Ãµes</button>

</div>

  </div>
</article>
      <!-- CAPELO â†’ CAPELINHOS -->
<article class="trail-card reveal"
  data-trail="Capelo â†’ Capelinhos "
  data-price-from="100â‚¬ /px "
  data-brief="Acesso sujeito a condiÃ§Ãµes meteorolÃ³gicas. PreÃ§o ajusta com logÃ­stica e grupo. Ponto de encontro a combinar">
  <div class="trail-media">FOTO â€¢ Capelo â†’ Capelinhos (</div>
  <div class="trail-body">
    <h3 class="trail-title">Capelo â†’ Capelinhos </h3>
    <div class="trail-meta">
      <span class="pill">5.5 km</span>
      <span class="pill">â–² +400 m</span>
      <span class="pill">~3h</span>
      <span class="pill">Dificuldade: Moderado / DifÃ­cil</span>
    </div>
    <p>Trilho icÃ³nico que termina no VulcÃ£o dos Capelinhos, com passagem por zonas de pasto, floresta e antigas crateras. Possibilidade de visita ao Centro de InterpretaÃ§Ã£o do VulcÃ£o dos Capelinhos. Paisagens Ã¡ridas com uma histÃ³ria Ãºnica.</p>
    <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Capelo â†’ Capelinhos ">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Capelo%20Capelinhos.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condiÃ§Ãµes</button>

</div>

  </div>
</article>

      <!-- ROCHA DA FAJÃƒ -->
<article class="trail-card reveal"
  data-trail="Rocha da FajÃ£ â€¢ Trilho do VulcÃ£o "
  data-price-from="75â‚¬ /px "
  data-brief="Trilho com degraus. Acesso a uma das fajÃ£s mais icÃ³nicas do Faial.">
  <div class="trail-media">FOTO â€¢ Rocha da FajÃ£</div>
  <div class="trail-body">
    <h3 class="trail-title">Rocha da FajÃ£ â€¢ Trilho do VulcÃ£o </h3>
    <div class="trail-meta">
      <span class="pill">~3.5 km</span>
      <span class="pill">â–² +300 m</span>
      <span class="pill">~3h</span>
      <span class="pill">Dificuldade: Moderado / DifÃ­cil</span>
    </div>
    <p>Descida por escadaria atÃ© Ã  fajÃ£ lÃ¡ em baixo. Vista incrÃ­vel sobre o Oceano AtlÃ¢ntico, arribas e estrutura rochosa. Ideal para quem gosta de desafios e paisagens marcantes.</p>
    <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Rocha da FajÃ£ â€¢ Trilho do VulcÃ£o ">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Rocha%20da%20FajÃ£.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condiÃ§Ãµes</button>

</div>

  </div>
</article>

      <!-- LEVADA / CABEÃ‡O DOS TRINTA -->
<article class="trail-card reveal"
  data-trail="Levada â€¢ CabeÃ§o dos Trinta "
  data-price-from="70â‚¬ /px "
  data-brief="Trilho pela antiga levada de abastecimento de Ã¡gua da ilha.">
  <div class="trail-media">FOTO â€¢ Levada</div>
  <div class="trail-body">
    <h3 class="trail-title">Levada â€¢ CabeÃ§o dos Trinta </h3>
    <div class="trail-meta">
      <span class="pill">~7 km</span>
      <span class="pill">â–² +150 m</span>
      <span class="pill">~3h30</span>
      <span class="pill">Dificuldade: FÃ¡cil / Moderado</span>
    </div>
    <p>Trilho que segue a antiga levada que distribuÃ­a Ã¡gua pela ilha. Paisagem verdejante, tÃºneis, pontes e floresta. Ideal para quem gosta de caminhadas em ambiente fresco e sombreado.</p>
    <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Levada â€¢ CabeÃ§o dos Trinta ">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Levada%20CabeÃ§o%20dos%20Trinta.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condiÃ§Ãµes</button>

</div>

  </div>
</article>

      <!-- MIRADOURO DA BRAÃ‡A -->
<article class="trail-card reveal"
  data-trail="Miradouro da BraÃ§a "
  data-price-from="35â‚¬ /px "
  data-brief="Passeio leve com vista sobre a cidade e a marina.">
  <div class="trail-media">FOTO â€¢ Miradouro da BraÃ§a</div>
  <div class="trail-body">
    <h3 class="trail-title">Miradouro da BraÃ§a </h3>
    <div class="trail-meta">
      <span class="pill">~2.5 km</span>
      <span class="pill">â–² +80 m</span>
      <span class="pill">~1h30</span>
      <span class="pill">Dificuldade: FÃ¡cil</span>
    </div>
    <p>Passeio tranquilo atÃ© um dos miradouros mais simpÃ¡ticos da Horta, com vista sobre a marina, a cidade e a ilha do Pico. Ideal para quem quer algo leve mas com boas fotografias.</p>
    <div class="trail-actions">
  <!-- BotÃ£o RESERVAR: abre o formulÃ¡rio com o trilho prÃ©-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Miradouro da BraÃ§a ">
    Reservar
  </button>

  <!-- BotÃ£o WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20o%20trilho%20Miradouro%20da%20BraÃ§a.">
    <img src="whatsapp-logo.png" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions">Ver condiÃ§Ãµes</button>

</div>

  </div>
</article>

    </div>
  </div>
</section>

<!-- Booking / Reservas, contactos, modais, etc. -->
<!-- (Mantive tudo em PT como estava; sÃ³ acrescentei data-i18n onde jÃ¡ tinhas ou onde combinÃ¡mos) -->

<section id="booking" class="wrap about" aria-label="Efetuar Reserva">
  <header class="modal__header">
    <h2 class="h3" style="margin-bottom:4px" data-i18n="booking.title">Efetuar reserva</h2>
    <button type="button" class="close-x" id="booking-close" aria-label="Fechar">Ã—</button>
    <p class="small" id="booking-subtitle" style="margin-top:4px;color:var(--muted)"
       data-i18n="booking.subtitle">
      Preenche o pedido abaixo. O trilho selecionado aparece em â€œTrilhoâ€.
    </p>
  </header>


    <form
    id="booking-form"
    action="https://formsubmit.co/hortawithcesar@gmail.com"
    method="POST"
    class="reserve-form"
    autocomplete="on"
    novalidate>


    <!-- âš™ï¸ FormSubmit opÃ§Ãµes -->
    <input type="hidden" name="_subject" value="Nova reserva - Horta with CÃ©sar">
    <input type="hidden" name="_template" value="box">
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_next" value="https://hortawithcesar.github.io/#booking">

    <!-- Anti-spam -->
    <input type="text" name="_honey" style="display:none">

    <div class="grid-2">
      <!-- Trilho (bloqueado, vem do botÃ£o) -->
      <div>
  <label for="trail">Trilho</label>

  

 <select id="trail" name="Trilho" class="trail-picker" required>
  <option value="">Seleciona um trilho</option>

  <option value="City Walk â€¢ Horta a pÃ©">City Walk â€¢ Horta a pÃ©</option>
  <option value="Entre Montes (Horta)">Entre Montes (Horta)</option>
  <option value="Miradouro do Neptuno">Miradouro do Neptuno</option>
  <option value="Caldeira â€” perÃ­metro">Caldeira â€” perÃ­metro</option>
  <option value="Caldeira Descida â€¢ SantuÃ¡rio da fauna local">
    Caldeira Descida â€¢ SantuÃ¡rio da fauna local
  </option>
  <option value="Rocha da FajÃ£">Rocha da FajÃ£</option>
  <option value="Farol da Ribeirinha">Farol da Ribeirinha</option>
  <option value="Levadas ao CabeÃ§o dos Trinta">Levadas ao CabeÃ§o dos Trinta</option>
  <option value="Capelo â†’ Capelinhos ">Capelo â†’ Capelinhos </option>
  <option value="Miradouro da BraÃ§a">Miradouro da BraÃ§a</option>
</select>

</div>


      <div>
        <label for="name">Nome</label>
        <input id="name" name="Nome" type="text" required
               placeholder="O teu nome completo">
      </div>

      <div>
  <label for="country">PaÃ­s</label>
  <select id="country" name="PaÃ­s" required>
    <option value="">Seleciona o teu paÃ­s</option>

    <!-- EUROPA -->
    <option>ğŸ‡µğŸ‡¹ Portugal</option>
    <option>ğŸ‡ªğŸ‡¸ Espanha</option>
    <option>ğŸ‡«ğŸ‡· FranÃ§a</option>
    <option>ğŸ‡©ğŸ‡ª Alemanha</option>
    <option>ğŸ‡®ğŸ‡¹ ItÃ¡lia</option>
    <option>ğŸ‡³ğŸ‡± PaÃ­ses Baixos</option>
    <option>ğŸ‡§ğŸ‡ª BÃ©lgica</option>
    <option>ğŸ‡±ğŸ‡º Luxemburgo</option>
    <option>ğŸ‡¨ğŸ‡­ SuÃ­Ã§a</option>
    <option>ğŸ‡¦ğŸ‡¹ Ãustria</option>
    <option>ğŸ‡¬ğŸ‡§ Reino Unido</option>
    <option>ğŸ‡®ğŸ‡ª Irlanda</option>
    <option>ğŸ‡©ğŸ‡° Dinamarca</option>
    <option>ğŸ‡³ğŸ‡´ Noruega</option>
    <option>ğŸ‡¸ğŸ‡ª SuÃ©cia</option>
    <option>ğŸ‡«ğŸ‡® FinlÃ¢ndia</option>
    <option>ğŸ‡®ğŸ‡¸ IslÃ¢ndia</option>
    <option>ğŸ‡¬ğŸ‡· GrÃ©cia</option>
    <option>ğŸ‡¨ğŸ‡¾ Chipre</option>
    <option>ğŸ‡²ğŸ‡¹ Malta</option>
    <option>ğŸ‡µğŸ‡± PolÃ³nia</option>
    <option>ğŸ‡¨ğŸ‡¿ RepÃºblica Checa</option>
    <option>ğŸ‡¸ğŸ‡° EslovÃ¡quia</option>
    <option>ğŸ‡¸ğŸ‡® EslovÃ©nia</option>
    <option>ğŸ‡­ğŸ‡· CroÃ¡cia</option>
    <option>ğŸ‡­ğŸ‡º Hungria</option>
    <option>ğŸ‡·ğŸ‡´ RomÃ©nia</option>
    <option>ğŸ‡§ğŸ‡¬ BulgÃ¡ria</option>
    <option>ğŸ‡·ğŸ‡¸ SÃ©rvia</option>
    <option>ğŸ‡§ğŸ‡¦ BÃ³snia e Herzegovina</option>
    <option>ğŸ‡²ğŸ‡ª Montenegro</option>
    <option>ğŸ‡¦ğŸ‡± AlbÃ¢nia</option>
    <option>ğŸ‡²ğŸ‡° MacedÃ³nia do Norte</option>
    <option>ğŸ‡½ğŸ‡° Kosovo</option>
    <option>ğŸ‡ºğŸ‡¦ UcrÃ¢nia</option>
    <option>ğŸ‡²ğŸ‡© MoldÃ¡via</option>
    <option>ğŸ‡§ğŸ‡¾ BielorrÃºssia</option>
    <option>ğŸ‡·ğŸ‡º RÃºssia</option>

    <!-- ÃSIA -->
    <option>ğŸ‡¹ğŸ‡· Turquia</option>
    <option>ğŸ‡®ğŸ‡± Israel</option>
    <option>ğŸ‡¸ğŸ‡¦ ArÃ¡bia Saudita</option>
    <option>ğŸ‡¦ğŸ‡ª Emirados Ãrabes Unidos</option>
    <option>ğŸ‡®ğŸ‡³ Ãndia</option>
    <option>ğŸ‡¨ğŸ‡³ China</option>
    <option>ğŸ‡¯ğŸ‡µ JapÃ£o</option>
    <option>ğŸ‡°ğŸ‡· Coreia do Sul</option>
    <option>ğŸ‡¹ğŸ‡­ TailÃ¢ndia</option>
    <option>ğŸ‡®ğŸ‡© IndonÃ©sia</option>
    <option>ğŸ‡²ğŸ‡¾ MalÃ¡sia</option>
    <option>ğŸ‡»ğŸ‡³ Vietname</option>
    <option>ğŸ‡µğŸ‡­ Filipinas</option>
    <option>ğŸ‡¸ğŸ‡¬ Singapura</option>
    <option>ğŸ‡³ğŸ‡µ Nepal</option>
    <option>ğŸ‡±ğŸ‡° Sri Lanka</option>

    <!-- OCEANIA -->
    <option>ğŸ‡¦ğŸ‡º AustrÃ¡lia</option>
    <option>ğŸ‡³ğŸ‡¿ Nova ZelÃ¢ndia</option>
    <option>ğŸ‡«ğŸ‡¯ Fiji</option>

    <!-- ÃFRICA -->
    <option>ğŸ‡¿ğŸ‡¦ Ãfrica do Sul</option>
    <option>ğŸ‡¦ğŸ‡´ Angola</option>
    <option>ğŸ‡²ğŸ‡¿ MoÃ§ambique</option>
    <option>ğŸ‡¨ğŸ‡» Cabo Verde</option>
    <option>ğŸ‡¬ğŸ‡¼ GuinÃ©-Bissau</option>
    <option>ğŸ‡¸ğŸ‡¹ SÃ£o TomÃ© e PrÃ­ncipe</option>
    <option>ğŸ‡²ğŸ‡¦ Marrocos</option>
    <option>ğŸ‡¹ğŸ‡³ TunÃ­sia</option>
    <option>ğŸ‡©ğŸ‡¿ ArgÃ©lia</option>
    <option>ğŸ‡ªğŸ‡¬ Egito</option>
    <option>ğŸ‡°ğŸ‡ª QuÃ©nia</option>
    <option>ğŸ‡¹ğŸ‡¿ TanzÃ¢nia</option>
    <option>ğŸ‡³ğŸ‡¬ NigÃ©ria</option>
    <option>ğŸ‡¬ğŸ‡­ Gana</option>
    <option>ğŸ‡¸ğŸ‡³ Senegal</option>
    <option>ğŸ‡³ğŸ‡¦ NamÃ­bia</option>
    <option>ğŸ‡§ğŸ‡¼ Botsuana</option>
    <option>ğŸ‡ªğŸ‡¹ EtiÃ³pia</option>
    <option>ğŸ‡¿ğŸ‡² ZÃ¢mbia</option>
    <option>ğŸ‡¿ğŸ‡¼ ZimbabuÃ©</option>

    <!-- AMÃ‰RICA (extra) -->
    <option>ğŸ‡§ğŸ‡· Brasil</option>
    <option>ğŸ‡ºğŸ‡¸ Estados Unidos</option>
    <option>ğŸ‡¨ğŸ‡¦ CanadÃ¡</option>
    <option>ğŸ‡²ğŸ‡½ MÃ©xico</option>
    <option>ğŸ‡¦ğŸ‡· Argentina</option>
    <option>ğŸ‡¨ğŸ‡± Chile</option>
    <option>ğŸ‡ºğŸ‡¾ Uruguai</option>
  </select>
</div>


      <div>
        <label for="email">E-mail</label>
        <input id="email" name="Email" type="email" required
               placeholder="nome@exemplo.com">
      </div>

      <div>
        <label for="people">NÂº de pessoas</label>
        <input id="people" name="NÂº de pessoas" type="number" min="1" max="35" required
               placeholder="1">
      </div>

      <div class="grid-2" style="gap:10px">
  <div>
    <label for="date_from">Data prevista</label>
    <input id="date_from" name="Data prevista" type="date" required>
  </div>

  <div>
    <label for="period">PerÃ­odo do dia</label>
    <select id="period" name="PerÃ­odo do dia" required>
      <option value="">Selecionar...</option>
      <option value="ManhÃ£">ğŸŒ… ManhÃ£</option>
      <option value="Tarde">ğŸŒ‡ Tarde</option>
    </select>
  </div>
</div>

    </div>
<!-- Disponibilidade (debaixo da data) -->
<div class="reserve-field">
  <div class="availability-inline">
    <span class="label">Disponibilidade</span>
    <span id="rv-availability" class="availability-badge" data-state="pending">â€”</span>
  </div>
</div>



    <div>
      <label for="message">Mensagem (opcional)</label>
      <textarea id="message" name="Mensagem" rows="4"
                placeholder="PreferÃªncias, restriÃ§Ãµes, horÃ¡riosâ€¦"></textarea>
    </div>

    <div class="booking-actions">
  <button id="btn-send" class="btn btn-primary" type="submit">Enviar pedido</button>
  <button id="btn-open-reserve" class="btn btn-ghost" type="button">Efetuar reserva</button>
</div>

</section>


  </form>
</section>
<!-- Backdrop do modal de reserva (o JS vai mover a secÃ§Ã£o #booking para aqui) -->
<div id="booking-modal" class="modal-backdrop" style="display:none;"></div>


  <!-- (conteÃºdo igual ao protÃ³tipo anterior) -->
<!-- CONTACTOS -->
<section id="contact" class="wrap contact">
  <h2>Contactos</h2>

  <div class="contact-grid">
    <!-- Lado A: informaÃ§Ã£o -->
    <div class="contact-card">
      <ul class="contact-list">
  <!-- Telefone -->
  <li>
    <i class="ico ico--tel">
      <!-- Ã­cone telefone -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1.5 1.5 0 0 1 1.5-.37 12 12 0 0 0 3.8.62 1.5 1.5 0 0 1 1.5 1.5V20a1.5 1.5 0 0 1-1.5 1.5A17.5 17.5 0 0 1 3 7.5 1.5 1.5 0 0 1 4.5 6H7a1.5 1.5 0 0 1 1.5 1.5c0 1.3.21 2.6.62 3.8a1.5 1.5 0 0 1-.37 1.5z" fill="currentColor"/></svg>
    </i>
    <div class="label">
      <span>Telefone</span>
      <strong><a class="chip" href="tel:+351964616199">+351 964 616 199</a></strong>
    </div>
  </li>

  <!-- E-mail (Gmail oficial) -->
  <li>
    <i class="ico brand"><img src="Gmail-Logo.png" alt="Gmail"></i>
    <div class="label">
      <span>E-mail</span>
      <strong><a class="chip" href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a></strong>
    </div>
  </li>

  <!-- WhatsApp (vais trocar pelo teu logÃ³tipo/Ã­cone) -->
  <li>
    <i class="ico brand"><img src="whatsapp-logo.png" alt="WhatsApp"></i>
    <div class="label">
      <span>WhatsApp</span>
      <strong><a class="chip" target="_blank" rel="noopener"
        href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Gostava%20de%20marcar%20um%20trilho.">+351 964 616 199</a></strong>
    </div>
  </li>

  <!-- Instagram -->
  <li>
    <i class="ico brand"><img src="instagram-logo.png" alt="Instagram"></i>
    <div class="label">
      <span>Instagram</span>
      <strong>@hortawithcesar</strong>
    </div>
    <a class="chip" target="_blank" rel="noopener" href="https://www.instagram.com/horta.with.cesar">Abrir</a>
  </li>

  <!-- Base -->
  <li>
    <i class="ico ico--map" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M12 22s7-7.06 7-12a7 7 0 1 0-14 0c0 4.94 7 12 7 12z" fill="currentColor"/><circle cx="12" cy="10" r="2" fill="#fff"/></svg>
    </i>
    <div class="label">
      <span>Base</span>
      <strong>Horta Â· Ilha do Faial, AÃ§ores</strong>
    </div>
    <a class="chip" target="_blank" rel="noopener" href="https://maps.google.com/?q=Horta,+Faial,+AÃ§ores">Ver no mapa</a>
  </li>

  <!-- HorÃ¡rio -->
  <li>
    <i class="ico ico--clock" aria-hidden="true">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
    </i>
    <div class="label">
      <span>HorÃ¡rio</span>
      <strong>Seg-Dom Â· 08h-20h </strong>
    </div>
  </li>
</ul>


      <div class="contact-actions">
        <a class="wa-icon" target="_blank" rel="noopener"
   href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Gostava%20de%20marcar%20um%20trilho.">
  <img src="whatsapp-logo.png" alt="WhatsApp">
</a>


        <a class="btn btn-outline" href="#booking">Reservar no site</a>
      </div>

      <p class="small" style="margin-top:8px">
         contactos usados apenas para responder e gerir marcaÃ§Ãµes. 
<a href="#" class="link js-open-privacy">PolÃ­tica de Privacidade.</a>
      </p>
    </div>

   <!-- Lado B: fotos agrupadas -->
<div class="contact-media">
  <figure class="contact-photo">
    <img src="foto-contacto.jpg"
         onerror="this.onerror=null;this.src='foto-contacto.jpg';"
         alt="CÃ©sar, guia local na Horta">
    <figcaption class="photo-caption-below">Horta with CÃ©sar</figcaption>
  </figure>

  <figure class="contact-photo contact-photo--secondary">
    <img src="Foto.Pico"
         onerror="this.onerror=null;this.src='Foto.Pico.jpg';"
         alt="Pico visto do Faial ao pÃ´r do sol">
    <figcaption class="photo-caption-below">O paraÃ­so tem nome....</figcaption>
  </figure>
</div>

</section>
<!-- BotÃµes fixos: WhatsApp + Reservar -->
<div class="floating-actions">
  <!-- WhatsApp geral -->
  <a
    href="https://wa.me/351964616199?text=OlÃ¡%20CÃ©sar!%20Quero%20informaÃ§Ã£o%20sobre%20as%20tours%20Horta%20with%20CÃ©sar."
    class="fab fab-whatsapp"
    target="_blank"
    rel="noopener noreferrer"
    aria-label="Contactar via WhatsApp">
    <img src="whatsapp-logo.png" alt="WhatsApp">
  </a>

  <!-- Reservar (abre modal de reserva) -->
  <button
    type="button"
    class="fab fab-reserve js-open-booking"
    aria-label="Efetuar reserva">
    Reservar
  </button>
</div>

  <footer>
    <div class="wrap">
      <img src="logotipo1.png" alt="Horta with CÃ©sar logo" style="height:130px;margin-top:15px" />
      <div class="small">Â© <span id="year"></span> Horta with CÃ©sar Â· Faial, AÃ§ores â€” PT/EN</div>
    </div>
    <div class="small">
<a href="https://www.livroreclamacoes.pt/inicio" class="link" target="_blank">Livro de ReclamaÃ§Ãµes</a> Â·
<a href="#" class="link js-open-cancel">PolÃ­tica de Cancelamento</a> Â·
<a href="#" class="link js-open-privacy">PolÃ­tica de Privacidade</a>

</div>

  </footer>

  <!-- ğŸ”½ MODAL â€œVER CONDIÃ‡Ã•ESâ€ -->
<div class="modal-backdrop" id="cond-modal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="cond-title">
    <header>
      <div>
        <h3 id="cond-title">CondiÃ§Ãµes â€” Trilho</h3>
        <div class="muted" id="cond-sub">PreÃ§os, seguros e termos</div>
      </div>
      <button class="close-x" id="cond-close" aria-label="Fechar">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
       fill="none" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
       style="width:18px;height:18px;">
    <line x1="18" y1="6" x2="6" y2="18"></line>
    <line x1="6" y1="6" x2="18" y2="18"></line>
  </svg>
</button>

    </header>

    <div class="grid">
      <!-- Caixa dinÃ¢mica por trilho -->
      <div class="box" id="cond-dynamic">
        <h4 id="cond-trail">Trilho</h4>
        <p id="cond-price" style="font-weight:700;margin:.2rem 0">Desde â€”</p>
        <p id="cond-brief" class="muted">â€¦</p>
        <p class="muted">ğŸ’¬ O preÃ§o por pessoa pode mudar consoante o nÃºmero de pessoas, Ã©poca e logÃ­stica. Para grupos e parcerias, pede orÃ§amento.</p>
      </div>

      <!-- Caixa legal comum -->
      <div class="box" id="cond-legal">
        <h4>InformaÃ§Ã£o legal & condiÃ§Ãµes</h4>
        <ul style="margin:0; padding-left:18px">
          <li><strong>Transporte incluÃ­do atÃ© 7 pessoas.</strong> Acima sob consulta.</li>
          <li><strong>Equipamento & cuidados:</strong> usar <em>roupa e calÃ§ado adequados</em> ao trilho; aplicar <em>protetor solar</em>; levar <em>chapÃ©u</em> e/ou <em>capa de chuva</em> conforme a previsÃ£o meteorolÃ³gica. Recomenda-se ainda Ã¡gua suficiente, pequeno snack e telemÃ³vel carregado.</li>
          <li><strong>Seguros:</strong> atividade coberta por <em>Seguro de Responsabilidade Civil</em> e <em>Seguro de Acidentes Pessoais</em> durante o passeio.</li>
          <li><strong>Reserva & Pagamento:</strong> sinal de <strong>20%</strong> no ato da reserva (deduzido ao valor final). Restante no dia do passeio, antes do inÃ­cio.</li>
          <li><strong>Cancelamentos do cliente:</strong> reembolso total atÃ© <strong>48h</strong> antes. ApÃ³s esse prazo, <strong>nÃ£o hÃ¡ reembolso</strong>.</li>
          <li><strong>Cancelamentos pelo guia/forÃ§a maior:</strong> reembolso integral do sinal ou remarcaÃ§Ã£o, Ã  escolha do cliente.</li>
          <li><strong>Livro de ReclamaÃ§Ãµes:</strong> disponÃ­vel online <a href="https://www.livroreclamacoes.pt/Inicio/" target="_blank" rel="noopener">aqui</a>.</li>
          <li><strong>Dados pessoais (RGPD):</strong> usados apenas para gerir reservas e executar o serviÃ§o (base legal: contrato); conservaÃ§Ã£o atÃ© 12 meses apÃ³s o passeio; direitos: acesso/retificaÃ§Ã£o/apagamento/limitaÃ§Ã£o/oposiÃ§Ã£o via <em>hortawithcesar@gmail.com</em>; sem cedÃªncia a terceiros salvo obrigaÃ§Ã£o legal.</li>
        </ul>
      </div>
    </div>

    <div class="actions">
      <a id="cond-whatsapp" class="wa-stack" target="_blank" rel="noopener">
  <span class="wa-icon">
    <img src="whatsapp-logo.png" alt="WhatsApp">
  </span>
  <small>Fale comigo!</small>
</a>


      <button class="btn btn-ghost" id="cond-close-2">Fechar</button>
    </div>
  </div>
</div>
<!-- ğŸ”¼ FIM DO MODAL -->

  <!-- ===== MODAL POLÃTICA DE PRIVACIDADE ===== -->
<div id="modal-privacy" class="modal-backdrop" style="display:none;">
  <div class="modal">
    <header>
      <h3>PolÃ­tica de Privacidade</h3>
      <button class="close-x" type="button" id="close-privacy" aria-label="Fechar">Ã—</button>
    </header>

    <div class="modal-body">
      <h4>1. IntroduÃ§Ã£o</h4>
      <p>
        A Horta with CÃ©sar respeita a sua privacidade e estÃ¡ empenhada em proteger os seus dados pessoais. Esta polÃ­tica explica como recolhemos, usamos e salvaguardamos as suas informaÃ§Ãµes.
      </p>

      <h4>2. Dados Recolhidos</h4>
      <p>
        Recolhemos apenas os dados essenciais ao funcionamento dos nossos serviÃ§os, nomeadamente:
        nome, contacto (telefone/e-mail) e dados relacionados com a reserva. 
        NÃ£o partilhamos informaÃ§Ãµes pessoais com terceiros sem o seu consentimento.
      </p>

      <h4>3. Finalidade do Tratamento</h4>
      <p>
        Os dados sÃ£o utilizados apenas para gerir reservas, prestar informaÃ§Ãµes sobre os serviÃ§os e cumprir obrigaÃ§Ãµes legais.
      </p>

      <h4>4. ConservaÃ§Ã£o dos Dados</h4>
      <p>
        Os dados pessoais sÃ£o conservados apenas pelo tempo necessÃ¡rio Ã  finalidade que motivou a recolha, ou conforme exigido por lei.
      </p>

      <h4>5. Direitos do Titular</h4>
      <p>
        Pode, a qualquer momento, solicitar o acesso, retificaÃ§Ã£o, eliminaÃ§Ã£o, limitaÃ§Ã£o ou portabilidade dos seus dados pessoais, atravÃ©s do e-mail:
        <a href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a>.
      </p>

      <h4>6. SeguranÃ§a</h4>
      <p>
        Implementamos medidas tÃ©cnicas e organizativas adequadas para proteger os seus dados contra acesso nÃ£o autorizado, perda ou destruiÃ§Ã£o.
      </p>

      <h4>7. Cookies</h4>
      <p>
        Este site utiliza cookies apenas para melhorar a experiÃªncia do utilizador. Pode desativar os cookies nas definiÃ§Ãµes do seu navegador.
      </p>

      <h4>8. AlteraÃ§Ãµes</h4>
      <p>
        A Horta with CÃ©sar reserva-se o direito de atualizar esta polÃ­tica de privacidade sempre que necessÃ¡rio. Recomenda-se a consulta periÃ³dica desta pÃ¡gina.
      </p>

      <h4>9. Contacto</h4>
      <p>
        Para qualquer questÃ£o sobre esta polÃ­tica, contacte-nos em:
        <a href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a>.
      </p>
    </div>

    <div class="actions">
      <button class="btn btn-ghost" type="button" id="close-privacy-footer">Fechar</button>
    </div>
  </div>
</div>

  <script>
  // reveal on scroll
  const els = document.querySelectorAll('.reveal');
  const obs = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target); }
    });
  },{ threshold:.2 });
  els.forEach(el=>obs.observe(el));
</script>
<script>
  // Smooth-scroll para reservas + preencher o "Trilho"
  const reserveButtons = document.querySelectorAll('.js-reserve');
  const bookingSection = document.querySelector('#booking');
  const trailInput = document.querySelector('#trail');
  const subtitle = document.querySelector('#booking-subtitle');

  reserveButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const trailName = btn.getAttribute('data-trail') || 'Trilho';
      if (trailInput) {
        trailInput.value = trailName;
      }
      if (subtitle) {
        subtitle.textContent = `Trilho selecionado: ${trailName}`;
      }
      bookingSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // foca o "Nome" apÃ³s o scroll
      setTimeout(() => {
        document.querySelector('#name')?.focus();
      }, 500);
    });
  });

  // Ajusta a data mÃ­nima para hoje
  const today = new Date().toISOString().split('T')[0];
  document.querySelector('#date_from')?.setAttribute('min', today);
  document.querySelector('#date_to')?.setAttribute('min', today);

  // Validar que fim >= inÃ­cio (se preenchido)
  const dateFrom = document.querySelector('#date_from');
  const dateTo = document.querySelector('#date_to');

  function syncDateLimits(){
    if (!dateFrom || !dateTo) return;
    dateTo.min = dateFrom.value || today;
    if (dateTo.value && dateTo.value < dateTo.min) {
      dateTo.value = dateTo.min;
    }
  }
  dateFrom?.addEventListener('change', syncDateLimits);
  syncDateLimits();
</script>

<script>
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 20) header.classList.add('scrolled');
    else header.classList.remove('scrolled');
  });
</script>
  <script>
(function(){
  const modal = document.getElementById('cond-modal');
  const close1 = document.getElementById('cond-close');
  const close2 = document.getElementById('cond-close-2');
  const title = document.getElementById('cond-title');
  const sub = document.getElementById('cond-sub');
  const trailEl = document.getElementById('cond-trail');
  const priceEl = document.getElementById('cond-price');
  const briefEl = document.getElementById('cond-brief');
  const waBtn = document.getElementById('cond-whatsapp');

  // abrir
  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('.btn-conditions');
    if(!btn) return;
    e.preventDefault();

    const card = btn.closest('.trail-card');
    const trail = card?.dataset.trail || 'Trilho';
    const priceFrom = card?.dataset.priceFrom || 'sob consulta';
    const brief = card?.dataset.brief || 'PreÃ§o base para 1 pessoa. Para grupos, pede cotaÃ§Ã£o.';

    title.textContent = `CondiÃ§Ãµes â€” ${trail}`;
    sub.textContent   = 'PreÃ§os, seguros e termos';
    trailEl.textContent = trail;
    priceEl.textContent = `Desde ${priceFrom} `;
    briefEl.textContent = brief;

    const msg = encodeURIComponent(`OlÃ¡ CÃ©sar! Quero saber as condiÃ§Ãµes/preÃ§o para: ${trail}.`);
    waBtn.href = `https://wa.me/351964616199?text=${msg}`;

    modal.classList.add('open');
    document.body.classList.add('modal-open'); // â— bloqueia scroll do body
    setTimeout(()=> waBtn.focus(), 50);
  });

  function closeModal(){
    modal.classList.remove('open');
    document.body.classList.remove('modal-open'); // â— volta a permitir scroll
  }

  [close1, close2].forEach(b=> b && b.addEventListener('click', closeModal));

  // clicar fora fecha
  modal.addEventListener('click', (e)=>{
    if(e.target === modal) closeModal();
  });

  // tecla Esc fecha
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape' && modal.classList.contains('open')) closeModal();
  });
})();
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TouristInformationCenter",
  "name": "Horta with CÃ©sar",
  "areaServed": "Faial, AÃ§ores",
  "address": { "@type": "PostalAddress", "addressLocality": "Horta", "addressRegion": "AÃ§ores", "addressCountry": "PT" },
  "telephone": "+351964616199",
  "email": "hortawithcesar@gmail.com",
  "url": "https://hortawithcesar.github.io/",
  "sameAs": []
}
</script>

<script>
/* ===== Tabela de PreÃ§os Trilhos 2026 =====
   (conforme .data-trail e documento oficial) */

const PRICE_TABLE = {
  "City Walk â€¢ Horta a pÃ©":             { type: "perPerson", tiers: [ { max:4, price:30 },  ] },
  "Entre Montes (Horta)":               { type: "perPerson", tiers: [ { max:4, price:40 }, { max:99, price:45 } ] },
  "Caldeira Descida â€¢ SantuÃ¡rio da fauna local": { type: "perGroup", tiers: [ { max:4, price:130 }, { max:99, price:90 } ] },
  "Caldeira â€” perÃ­metro":               { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] },
  "Rocha da FajÃ£":                      { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] },
  "Farol da Ribeirinha":                { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:85 } ] },
  "Levadas ao CabeÃ§o dos Trinta":       { type: "perPerson", tiers: [ { max:4, price:150 }, { max:99, price:120 } ] },
  "Capelo â†’ Capelinhos ":               { type: "perPerson", tiers: [ { max:4, price:100 }, { max:99, price:90 } ] },
  "Miradouro do Neptuno":               { type: "perPerson", tiers: [ { max:4, price:35 }, { max:99, price:35 } ] },
  "Miradouro da BraÃ§a":                 { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] }
};

const DEPOSIT_RATE = 0.20; // 20%
const MIN_DEPOSIT  = 10;   // sinal mÃ­nimo

function getPrice(trail, people){
  const data = PRICE_TABLE[trail];
  if(!data){ return { onRequest:true }; }

  // encontrar tier correta
  const t = data.tiers.find(x => people <= x.max) || data.tiers.at(-1);
  const total = (data.type === "perGroup") ? t.price : (t.price * people);
  const deposit = Math.max(MIN_DEPOSIT, +(total * DEPOSIT_RATE).toFixed(2));
  return { total, deposit, unit: t.price, onRequest:false };
}

function eur(v){ return v == null ? "â€”" : v.toLocaleString('pt-PT',{style:'currency',currency:'EUR'}); }


</script>

<script>
/* ===== Disponibilidade por blocos (manhÃ£/tarde) via Google Calendar ===== */
/* Requer: calendÃ¡rio pÃºblico (livre/ocupado) + API key restrita ao teu domÃ­nio */

const GCAL_ID  = 'hortawithcesar@gmail.com';        // teu calendÃ¡rio
const GCAL_KEY = 'AIzaSyBJ79Q2R7X7tpzr8XnY3VCBcu6i45Cujc8'; // <-- substitui pela nova chave

// elementos jÃ¡ existentes no teu formulÃ¡rio
const $date  = document.getElementById('bk-date') || document.getElementById('date_from') || document.getElementById('date');
const $avail = document.getElementById('rv-availability');   // <â€” novo ID
const $pay   = document.getElementById('bk-pay');            // podes deixar assim mesmo, nÃ£o faz mal

// (ajusta aqui os teus horÃ¡rios de trabalho se quiseres)
const MORNING = { hStart: 8,  hEnd: 12 };  // 08:00â€“12:00
const AFTERNOON = { hStart: 14, hEnd: 18 }; // 14:00â€“18:00

function ymd(d){ const p=n=>String(n).padStart(2,'0'); return `${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())}`; }
function toISOAt(d, h=0, m=0, s=0){
  const x = new Date(d.getFullYear(), d.getMonth(), d.getDate(), h, m, s);
  return x.toISOString();
}

// verifica sobreposiÃ§Ã£o entre [a1,a2) e [b1,b2)
function overlaps(aStart, aEnd, bStart, bEnd){
  return aStart < bEnd && bStart < aEnd;
}

async function fetchDayEvents(yyyy_mm_dd){
  // janela do dia: [00:00, 24:00) hora local
  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const timeMin = toISOAt(day, 0, 0, 0);
  const endDay = new Date(Y, M-1, D+1);
  const timeMax = endDay.toISOString();

  const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(GCAL_ID)}/events`
    + `?key=${encodeURIComponent(GCAL_KEY)}`
    + `&timeMin=${encodeURIComponent(timeMin)}`
    + `&timeMax=${encodeURIComponent(timeMax)}`
    + `&singleEvents=true&orderBy=startTime`;

  const res = await fetch(url);
  if(!res.ok){ console.error('Calendar API', await res.text()); return []; }
  const data = await res.json();
  return data.items || [];
}

// devolve { morningFree, afternoonFree, allDayBusy }
async function checkDaySlots(yyyy_mm_dd){
  const events = await fetchDayEvents(yyyy_mm_dd);

  // intervalos do dia alvo
  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const morningStart = new Date(Y, M-1, D, MORNING.hStart, 0, 0);
  const morningEnd   = new Date(Y, M-1, D, MORNING.hEnd,   0, 0);
  const afternoonStart = new Date(Y, M-1, D, AFTERNOON.hStart, 0, 0);
  const afternoonEnd   = new Date(Y, M-1, D, AFTERNOON.hEnd,   0, 0);

  let morningBusy = false;
  let afternoonBusy = false;
  let allDayBusy = false;

  for(const ev of events){
    const sISO = ev.start?.dateTime || ev.start?.date;
    const eISO = ev.end?.dateTime   || ev.end?.date;
    if(!sISO || !eISO) continue;

    // all-day: start/end em formato 'YYYY-MM-DD'
    const isAllDay = (ev.start?.date && ev.end?.date);
    if(isAllDay){
      allDayBusy = true; break; // o dia todo indisponÃ­vel
    }

    const s = new Date(sISO);
    const e = new Date(eISO);

    if(overlaps(s, e, morningStart, morningEnd))   morningBusy = true;
    if(overlaps(s, e, afternoonStart, afternoonEnd)) afternoonBusy = true;

    if(morningBusy && afternoonBusy) break;
  }

  return {
    morningFree: !morningBusy && !allDayBusy,
    afternoonFree: !afternoonBusy && !allDayBusy,
    allDayBusy
  };
}

// devolve { morningFree, afternoonFree, allDayBusy }
async function checkDaySlots(yyyy_mm_dd){
  const events = await fetchDayEvents(yyyy_mm_dd);

  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const morningStart   = new Date(Y, M-1, D, MORNING.hStart,   0, 0);
  const morningEnd     = new Date(Y, M-1, D, MORNING.hEnd,     0, 0);
  const afternoonStart = new Date(Y, M-1, D, AFTERNOON.hStart, 0, 0);
  const afternoonEnd   = new Date(Y, M-1, D, AFTERNOON.hEnd,   0, 0);

  let morningBusy = false;
  let afternoonBusy = false;
  let allDayBusy = false;

  for (const ev of events){
    const sISO = ev.start?.dateTime || ev.start?.date;
    const eISO = ev.end?.dateTime   || ev.end?.date;
    if(!sISO || !eISO) continue;

    const isAllDay = (ev.start?.date && ev.end?.date);
    if(isAllDay){
      allDayBusy = true;
      break;
    }

    const s = new Date(sISO);
    const e = new Date(eISO);

    if (overlaps(s, e, morningStart,   morningEnd))   morningBusy   = true;
    if (overlaps(s, e, afternoonStart, afternoonEnd)) afternoonBusy = true;

    if (morningBusy && afternoonBusy) break;
  }

  return {
    morningFree:   !morningBusy   && !allDayBusy,
    afternoonFree: !afternoonBusy && !allDayBusy,
    allDayBusy
  };
}

// === Atualiza badge de disponibilidade ===
async function checkAvailability(){
  if (!$date || !$avail) return;

  const val = $date.value;
  if (!val){
    $avail.textContent = 'â€”';
    $avail.dataset.state = 'pending';
    $pay && ($pay.disabled = true);
    return;
  }

  try{
    const slots = await checkDaySlots(val);

    if (slots.allDayBusy){
      $avail.textContent = 'IndisponÃ­vel';
      $avail.dataset.state = 'busy';
      $pay && ($pay.disabled = true);
      return;
    }

    if (slots.morningFree && slots.afternoonFree){
      $avail.textContent = 'DisponÃ­vel: manhÃ£ e tarde';
      $avail.dataset.state = 'ok';
    } else if (slots.morningFree){
      $avail.textContent = 'DisponÃ­vel: manhÃ£';
      $avail.dataset.state = 'ok';
    } else if (slots.afternoonFree){
      $avail.textContent = 'DisponÃ­vel: tarde';
      $avail.dataset.state = 'ok';
    } else {
      $avail.textContent = 'IndisponÃ­vel';
      $avail.dataset.state = 'busy';
    }

    // aqui nÃ£o bloqueamos o pagamento, quem decide Ã© a validaÃ§Ã£o em baixo
  } catch (err){
    console.error(err);
    $avail.textContent = 'NÃ£o foi possÃ­vel verificar';
    $avail.dataset.state = 'pending';
  }
}

$date && $date.addEventListener('change', checkAvailability);

</script>
<script>
(() => {
  // ===== 1) Mapeia os elementos do teu formulÃ¡rio de cima =====
  const elTrail  = document.querySelector('#bk-trail');   // select do trilho (o teu ID)
  const elPax    = document.querySelector('#bk-pax, #nPessoas, [name="pax"], [name="pessoas"]') 
                  || { value: '' };
  const elDate   = document.querySelector('#bk-date, #date, [name="date"]') 
                  || { value: '' };
  const elSlot   = document.querySelector('#bk-slot, #periodo, [name="slot"]') 
                  || { value: '' };

  // Campos de leitura (bloco "Efectuar Reserva")
  const outTrail = document.querySelector('#rv-trail');
  const outPax   = document.querySelector('#rv-pax');
  const outDate  = document.querySelector('#rv-date');
  const outSlot  = document.querySelector('#rv-slot');

  // Disponibilidade e valores
  const outAvail = document.querySelector('#rv-availability');
  const outTotal = document.querySelector('#rv-total');
  const outDepos = document.querySelector('#rv-deposit');

  const btnPay   = document.querySelector('#btn-pay-20');

  // ===== 2) Tabela fallback (se nÃ£o encontrar nos cartÃµes) =====
  // Ajusta conforme a tua "Tabela de preÃ§os Trilhos 2026"
  const priceTable = {
    'city-walk'     : 25,  // exemplo
    'entre-montes'  : 35,
    'neptuno'       : 30,
    'caldeira-circ' : 45,  // Caldeira perÃ­metro
    'caldeira-desc' : 55   // Caldeira descida
  };

  // ===== 3) Localiza preÃ§o por pessoa a partir dos prÃ³prios cartÃµes de trilho =====
  function getTrailPrice(trailId){
    if(!trailId) return null;
    // tenta achar no DOM um card com data-trail e data-price
    const card = document.querySelector(`[data-trail="${trailId}"]`);
    if(card && card.dataset && card.dataset.price){
      const p = parseFloat(card.dataset.price);
      if(!isNaN(p)) return p;
    }
    // fallback
    return priceTable[trailId] ?? null;
  }

  

  // ===== 5) Calcula e atualiza UI =====
  function refreshUI(){
    // espelha os campos de cima
    const trailId = (elTrail?.value || '').trim();
    const trailTxt = elTrail?.options?.[elTrail.selectedIndex]?.text || 'â€”';
    const pax   = parseInt(elPax?.value || '0', 10);
    const date  = (elDate?.value || '').trim();
    const slot  = (elSlot?.value || '').trim();

    outTrail.textContent = trailTxt || 'â€”';
    outPax.textContent   = pax ? String(pax) : 'â€”';
    outDate.textContent  = date || 'â€”';
    outSlot.textContent  = slot || 'â€”';

    // preÃ§o
    const pp = getTrailPrice(trailId);
    const total  = (pp && pax > 0) ? (pp * pax) : NaN;
    const deposit = isNaN(total) ? NaN : total * 0.20;

    outTotal.textContent = money(total);
    outDepos.textContent = money(deposit);

    // Disponibilidade â€” aqui liga ao teu script do Calendar se jÃ¡ tens a info:
    // EXEMPLO simples: se nÃ£o hÃ¡ data ou slot, ainda nÃ£o se sabe
    if(!date || !slot){
      setAvailability('desconhecido');
    } else {
      // Se tens uma funÃ§Ã£o global que jÃ¡ apura disponibilidade, chama-a.
      // Ex.: window.checkSlot(date, slot) -> 'ok' | 'no'
      if (typeof window.checkSlot === 'function'){
        const st = window.checkSlot(date, slot); // devolve 'ok' | 'no' | 'maybe'
        if (st === 'ok')      setAvailability(slot === 'manhÃ£' ? 'ok-manha' : 'ok-tarde');
        else if (st === 'no') setAvailability('indisponivel');
        else                  setAvailability('desconhecido');
      } else {
        // atÃ© ligares ao Calendar, assume "desconhecido"
        setAvailability('desconhecido');
      }
    }

    // desbloqueia botÃ£o se tiver tudo vÃ¡lido
    const canPay = (
      !!trailId &&
      pax > 0 &&
      !!date &&
      !!slot &&
      !isNaN(total) &&
      total > 0
    );
    btnPay.disabled = !canPay;
  }

  // ===== 6) Listeners nos campos do formulÃ¡rio de cima =====
  ['change','input'].forEach(ev=>{
    elTrail?.addEventListener(ev, refreshUI);
    elPax?.addEventListener(ev, refreshUI);
    elDate?.addEventListener(ev, refreshUI);
    elSlot?.addEventListener(ev, refreshUI);
  });

  // ===== 7) Click â€œPagar sinal 20%â€ â€“ aqui integras o link Revolut/checkout =====
  btnPay.addEventListener('click', () => {
    // Podes construir a referÃªncia para o pagamento (ex.: nome+data+trilho)
    const trailTxt = outTrail.textContent.trim();
    const dep = outDepos.textContent.replace(' â‚¬','');
    // TODO: integrar com Revolut Checkout ou Payment Link gerado dinamicamente.
    // Por agora, sÃ³ damos um feedback.
    alert(`A avanÃ§ar para pagamento do sinal (${dep} â‚¬) para: ${trailTxt}.`);
    // window.location.href = 'URL_DO_CHECKOUT_REVOLUT?amount=...&reference=...';
  });

  // arranque
  refreshUI();
})();
</script>
<!-- ===== Modal: Efectuar Reserva ===== -->
<div id="rv-modal" class="modal-backdrop" style="display:none">
  <div class="modal box" role="dialog" aria-modal="true" aria-labelledby="rv-title">
    <header class="modal__header">
      <h3 id="rv-title" class="h3">Resumo da reserva</h3>
      <button id="rv-close" class="close-x" aria-label="Fechar">Ã—</button>
    </header>

    <div class="modal__body rv-lock">
      <div class="reserve-grid">
        <div class="reserve-field">
          <label>Trilho</label>
          <div id="rv-trail" class="rv-read">â€”</div>
        </div>

        <div class="reserve-field">
          <label>NÂº de pessoas</label>
          <div id="rv-people" class="rv-read">â€”</div>
        </div>

        <div class="reserve-field">
          <label>Data</label>
          <div id="rv-date" class="rv-read">â€”</div>
        </div>

        <div class="reserve-field">
          <label>PerÃ­odo</label>
          <div id="rv-period" class="rv-read">â€”</div>
        </div>

        <div class="reserve-field reserve-field--full">
          <label>Total estimado</label>
          <div id="rv-total-m" class="amount">â€”</div>
          <small class="muted">Valor calculado com base no trilho e nÂº de pessoas. PoderÃ¡ ajustar consoante logÃ­stica.</small>
        </div>

        <div class="reserve-field reserve-field--full">
          <label>Sinal 20%</label>
          <div id="rv-deposit-m" class="amount amount-accent">â€”</div>
          <small class="muted">
  Deduzido ao valor final.
  <a href="#politica-cancelamento" class="link" id="open-cancel-policy">
    PolÃ­tica de Cancelamento
  </a>.
  Ao confirmar a reserva, assume que leu e concorda com as
  condiÃ§Ãµes gerais do serviÃ§o e com a polÃ­tica de privacidade do site.
</small>

        </div>
      </div>
    </div>

    <footer class="modal__footer actions">
      <a id="rv-pay-20" class="btn btn-primary" 
   target="_blank" rel="noopener" aria-disabled="true">
   Confirmar reserva
</a>


      <button id="rv-close-2" class="btn btn-ghost" type="button">Fechar</button>
    </footer>
  </div>
</div>
<!-- ===== /Modal ===== -->

<script>
(() => {
  const REVOLUT_LINK_BASE = 'https://revolut.me/hortawithcesar';

  const $    = (sel, ctx = document) => ctx.querySelector(sel);
  const text = el => ((el && el.textContent) || '').trim();

  // normaliza texto para comparar "disponivel" sem acentos
  function norm(s) {
    return (s || '')
      .toLowerCase()
      .normalize('NFD')
      .replace(/\p{Diacritic}/gu, '');
  }

  // "â‚¬ 123,45" -> 123.45
  function parseMoney(str) {
    if (!str || str === 'â€”') return NaN;
    const s = String(str)
      .replace(/[^\d,.-]/g, '')
      .replace(/\.(?=\d{3}\b)/g, '')   // tira separadores de milhar
      .replace(',', '.');
    return parseFloat(s);
  }

  // LÃª o formulÃ¡rio principal
    // LÃª o formulÃ¡rio principal + calcula total/sinal
  function readBookingForm() {
    const trailEl   = $('#trail');
    const peopleEl  = $('#people');
    const dateEl    = $('#date_from');
    const periodSel = $('#period');

    const trail  = trailEl?.value || 'â€”';
    const people = peopleEl?.value || 'â€”';
    const date   = dateEl?.value || 'â€”';
    const period = periodSel?.options?.[periodSel.selectedIndex]?.text || 'â€”';

    // texto da badge de disponibilidade
    const availability = text($('#rv-availability')) || 'â€”';

    // calcula total e sinal usando a PRICE_TABLE
    let totalStr = 'â€”';
    let depositStr = 'â€”';

    const peopleNum = parseInt(peopleEl?.value || '0', 10);
    if (trail && trail !== 'â€”' && !isNaN(peopleNum) && peopleNum > 0 && PRICE_TABLE[trail]) {
      const priceInfo = getPrice(trail, peopleNum);
      if (!priceInfo.onRequest) {
        totalStr   = eur(priceInfo.total);
        depositStr = eur(priceInfo.deposit);
      }
    }

    return { trail, people, date, period, availability, totalStr, depositStr };
  }


  // Disponibilidade ok se tiver data-state="ok" OU texto com â€œdisponâ€
  function isAvailabilityOK() {
    const badge = $('#rv-availability');
    if (!badge) return false;
    if (badge.dataset.state === 'ok') return true;
    return /dispon/i.test(norm(badge.textContent));
  }

  // Atualiza resumo do modal + link Revolut
  function syncReserveSummary() {
    const f = readBookingForm();

    // Campos do resumo
    $('#rv-trail').textContent  = f.trail;
    $('#rv-people').textContent = f.people;
    $('#rv-date').textContent   = f.date;
    $('#rv-period').textContent = f.period;

    $('#rv-total-m').textContent   = f.totalStr   || 'â€”';
    $('#rv-deposit-m').textContent = f.depositStr || 'â€”';

    // Link do Revolut
    const payBtn = $('#rv-pay-20');
    const depNum = parseMoney(f.depositStr);
    const availOK = isAvailabilityOK();

    if (payBtn) {
      if (isFinite(depNum) && depNum > 0 && availOK) {
        const url = `${REVOLUT_LINK_BASE}?amount=${depNum.toFixed(2)}&currency=EUR`;
        payBtn.setAttribute('href', url);
        payBtn.removeAttribute('aria-disabled');
      } else {
        payBtn.removeAttribute('href');
        payBtn.setAttribute('aria-disabled', 'true');
      }
    }
  }

  // Valida campos para desbloquear o botÃ£o â€œEfectuar reservaâ€
  function validateBooking() {
    const f = readBookingForm();

    const hasTrail  = !!f.trail  && f.trail  !== 'â€”';
    const hasPeople = +f.people > 0;
    const hasDate   = !!f.date  && f.date  !== 'â€”';
    const hasPeriod = !!f.period && f.period !== 'â€”';
    const hasAvail  = isAvailabilityOK();

    const ok = hasTrail && hasPeople && hasDate && hasPeriod && hasAvail;

    const openBtn = $('#btn-open-reserve');
    if (openBtn) {
      openBtn.disabled = !ok;
      openBtn.classList.toggle('btn-disabled', !ok);
    }

    return { ok, hasTrail, hasPeople, hasDate, hasPeriod, hasAvail };
  }

  // Modal
  function openReserveModal(e) {
    const { ok } = validateBooking();
    if (!ok) {
      e?.preventDefault?.();
      return;
    }

    syncReserveSummary();

    const modal = $('#rv-modal');
    if (modal) {
      modal.style.display = 'flex';
      document.body.classList.add('modal-open');
    }
  }

  function closeReserveModal() {
    const modal = $('#rv-modal');
    if (modal) {
      modal.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  }

  // Liga eventos aos campos do formulÃ¡rio para revalidar
  ['#trail', '#people', '#date_from', '#period', '#rv-availability'].forEach(sel => {
    const el = $(sel);
    if (!el) return;
    ['change', 'input'].forEach(evt => {
      el.addEventListener(evt, validateBooking);
    });
  });

  // BotÃµes abrir / fechar modal
  $('#btn-open-reserve')?.addEventListener('click', openReserveModal);
  $('#rv-close')?.addEventListener('click', closeReserveModal);
  $('#rv-close-2')?.addEventListener('click', closeReserveModal);

  // Fecha ao clicar fora da caixa do modal
  $('#rv-modal')?.addEventListener('click', ev => {
    if (ev.target === ev.currentTarget) closeReserveModal();
  });

  // BotÃ£o "Enviar pedido" dentro do modal
  $('#rv-send')?.addEventListener('click', () => {
    $('#booking-form')?.requestSubmit?.();
    closeReserveModal();
  });

  // ValidaÃ§Ã£o inicial ao carregar a pÃ¡gina
  validateBooking();
})();
  
</script>
  <script>
(() => {
  const $ = (sel, ctx = document) => ctx.querySelector(sel);

  const cancelModal   = $('#modal-cancel-policy');
  const openCancel    = $('#open-cancel-policy');   // link dentro do modal de reserva
  const closeCancel   = $('#cancel-modal-close');

  if (!cancelModal || !openCancel) return;

  function openCancelModal(ev) {
    ev.preventDefault();
    cancelModal.style.display = 'flex';
    document.body.classList.add('modal-open');
  }

  function closeCancelModal(ev) {
    ev && ev.preventDefault && ev.preventDefault();
    cancelModal.style.display = 'none';
    document.body.classList.remove('modal-open');
  }

  openCancel.addEventListener('click', openCancelModal);
  closeCancel?.addEventListener('click', closeCancelModal);

  cancelModal.addEventListener('click', (ev) => {
    if (ev.target === cancelModal) {
      closeCancelModal(ev);
    }
  });
})();
</script>

<!-- ===== Modal: PolÃ­tica de Cancelamento ===== -->
<section id="modal-cancel-policy" class="modal-backdrop" style="display:none;">
  <div class="modal modal-policy">
    <header class="modal__header">
      <h3>PolÃ­tica de Cancelamento</h3>
      <button type="button" class="close-x" id="cancel-modal-close" aria-label="Fechar">Ã—</button>
    </header>

    <div class="modal__body">
      <p>
        â€¢ O sinal de 20% Ã© reembolsÃ¡vel em cancelamentos feitos atÃ© <strong>48h antes</strong> do inÃ­cio do trilho.
      </p>
      <p>
        â€¢ Em cancelamentos com menos de <strong>48h</strong>, ou em caso de <strong>nÃ£o comparÃªncia</strong>,
        o sinal nÃ£o Ã© devolvido.
      </p>
      <p>
        â€¢ Caso o passeio seja cancelado por motivos de seguranÃ§a, condiÃ§Ãµes meteorolÃ³gicas
        adversas ou outra decisÃ£o do guia, o sinal serÃ¡ <strong>reembolsado na totalidade</strong>
        ou poderÃ¡ ser reagendado, conforme a tua preferÃªncia e disponibilidade.
      </p>
      <p>
        â€¢ AlteraÃ§Ãµes de data e horÃ¡rio estÃ£o sempre sujeitas Ã  disponibilidade do calendÃ¡rio.
      </p>
    </div>
  </div>
</section>
<script>
// abre modal de PolÃ­tica de Privacidade a partir de QUALQUER link com essa classe
document.querySelectorAll('.js-open-privacy').forEach(el => {
  el.addEventListener('click', function (e) {
    e.preventDefault();                 // evita o scroll por causa do href="#"
    const modal = document.getElementById('modal-privacy');
    if (!modal) return;
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
  });
});

// abre modal de PolÃ­tica de Cancelamento a partir de QUALQUER link com essa classe
document.querySelectorAll('.js-open-cancel').forEach(el => {
  el.addEventListener('click', function (e) {
    e.preventDefault();                 // tambÃ©m evita o scroll
    const modal = document.getElementById('modal-cancel-policy');
    if (!modal) return;
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
  });
});

// fecha modal de privacidade (ajusta os IDs de acordo com o teu HTML)
document.getElementById('close-privacy')?.addEventListener('click', () => {
  const m = document.getElementById('modal-privacy');
  if (m) {
    m.style.display = 'none';
    document.body.classList.remove('modal-open');
  }
});
document.getElementById('close-privacy-footer')?.addEventListener('click', () => {
  const m = document.getElementById('modal-privacy');
  if (m) {
    m.style.display = 'none';
    document.body.classList.remove('modal-open');
  }
});

// fecha modal de cancelamento (botÃ£o X + botÃ£o "Fechar")
['close-cancel-policy', 'close-cancel-policy-2'].forEach(id => {
  document.getElementById(id)?.addEventListener('click', () => {
    const m = document.getElementById('modal-cancel-policy');
    if (m) {
      m.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  });
});

// fechar se clicar fora da box (para os dois modais)
['modal-privacy', 'modal-cancel-policy'].forEach(id => {
  const m = document.getElementById(id);
  if (!m) return;
  m.addEventListener('click', ev => {
    if (ev.target === ev.currentTarget) {
      m.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  });
});

  // ===== Colorir dificuldade automaticamente =====
document.querySelectorAll('.pill').forEach(p => {
  const t = p.textContent.toLowerCase();

  if (t.includes('dificuldade')) {
    if (t.includes('fÃ¡cil / moderado') || t.includes('fÃ¡cil/moderado')) {
      p.classList.add('diff-easy-medium');
    }
    else if (t.includes('moderado / difÃ­cil') || t.includes('moderado/difÃ­cil')) {
      p.classList.add('diff-medium-hard');
    }
    else if (t.includes('fÃ¡cil')) {
      p.classList.add('diff-easy');
    }
    else if (t.includes('moderado')) {
      p.classList.add('diff-medium');
    }
    else if (t.includes('difÃ­cil')) {
      p.classList.add('diff-hard');
    }
  }
});

</script>
<script>
// Slider City Walk (vÃ­deo + 6 fotos)
(function(){
  const slider = document.querySelector('.city-slider');
  if (!slider) return;

  const main   = slider.querySelector('.city-main');
  const thumbs = Array.from(slider.querySelectorAll('.city-thumb'));

  function setActive(thumb){
    thumbs.forEach(t => t.classList.remove('is-active'));
    thumb.classList.add('is-active');

    const type = thumb.dataset.type;
    const src  = thumb.dataset.src;

    main.innerHTML = '';

    if (type === 'video'){
      const v = document.createElement('video');
      v.src = src;
      v.muted = true;
      v.loop = true;
      v.playsInline = true;
      v.autoplay = true;
      main.appendChild(v);
    } else {
      const img = document.createElement('img');
      img.src = src;
      img.alt = 'City Walk Horta';
      main.appendChild(img);
    }
  }

  thumbs.forEach(thumb => {
    thumb.addEventListener('click', () => setActive(thumb));
  });

  // comeÃ§a sempre no vÃ­deo
  setActive(thumbs[0]);
})();
</script>
<!-- Modal de fotos -->
<div id="photoModal" class="photo-modal">
  <span class="photo-close">&times;</span>
  <img class="photo-modal-content" id="photoModalImg">
  <button class="photo-prev">â®</button>
  <button class="photo-next">â¯</button>
</div>
  
<script>
/* ===========================================
   MODAL DE FOTOS (City Walk + Entre Montes)
   =========================================== */
(function(){
  const modal    = document.getElementById("photoModal");
  if (!modal) return;

  const modalImg = document.getElementById("photoModalImg");
  const closeBtn = modal.querySelector(".photo-close");
  const nextBtn  = modal.querySelector(".photo-next");
  const prevBtn  = modal.querySelector(".photo-prev");

  // --- GALERIA CITY WALK (thumbs) ---
  const cityThumbs = Array.from(
    document.querySelectorAll(".city-thumb[data-type='img']")
  );
  const cityImgs = cityThumbs.map(t => t.dataset.src);

  // --- GALERIA ENTRE MONTES (loop-items) ---
  const entreSlider = document.getElementById("slider-entre-montes");
  const entreImgs = entreSlider
    ? Array.from(
        entreSlider.querySelectorAll(".loop-items span[data-type='img']")
      ).map(el => el.dataset.src)
    : [];

  let currentGallery = null; // "city" ou "entre"
  let index = 0;

  function openGallery(gal, start){
    const list = gal === "city" ? cityImgs : entreImgs;
    if (!list.length) return;

    currentGallery = gal;
    index = start || 0;
    modalImg.src = list[index];
    modal.style.display = "block";
  }

  // City: duplo-clique na thumb abre modal
  cityThumbs.forEach((thumb, i) => {
    thumb.addEventListener("dblclick", () => {
      openGallery("city", i);
    });
  });

  // Entre Montes: clique no slider abre modal (comeÃ§a na 1.Âª foto)
  if (entreSlider){
    const main = entreSlider.querySelector(".loop-main");
    main.addEventListener("click", () => {
      openGallery("entre", 0);
    });
  }

  function showNext(step){
    const list = currentGallery === "city" ? cityImgs : entreImgs;
    if (!list.length) return;
    index = (index + step + list.length) % list.length;
    modalImg.src = list[index];
  }

  nextBtn.onclick = () => showNext(+1);
  prevBtn.onclick = () => showNext(-1);

  // fechar
  closeBtn.onclick = () => modal.style.display = "none";
  modal.onclick = (e) => {
    if (e.target === modal) modal.style.display = "none";
  };

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape")      modal.style.display = "none";
    if (e.key === "ArrowRight")  showNext(+1);
    if (e.key === "ArrowLeft")   showNext(-1);
  });
})();
</script>
<script>
(() => {
  const $ = (sel, ctx = document) => ctx.querySelector(sel);

  const bookingModal   = $('#booking-modal');
  const bookingSection = $('#booking');
  const trailInput     = $('#trail');
  const subtitle       = $('#booking-subtitle');

  if (!bookingModal || !bookingSection) return;

  // 1) Mover a secÃ§Ã£o #booking para dentro do backdrop â†’ deixa de ocupar espaÃ§o na pÃ¡gina
  bookingModal.appendChild(bookingSection);

  // 2) Dar-lhe estilos de modal
  bookingSection.classList.remove('wrap', 'about');
  bookingSection.classList.add('modal', 'booking-modal');

  function openBooking(trailName = '') {
    // novo campo oficial
    const trailPicker = document.getElementById('trail');

    // preencher o select
    if (trailPicker) {
        trailPicker.value = trailName || '';
    }

    // texto animado do topo
    if (subtitle) {
        subtitle.textContent = trailName
            ? `EstÃ¡s a reservar o trilho: ${trailName}`
            : 'Seleciona um trilho abaixo.';
    }

    bookingModal.style.display = "flex";
    document.body.classList.add("modal-open");
}


  function closeBooking() {
    bookingModal.style.display = 'none';
    document.body.classList.remove('modal-open');
  }

  // BotÃ£o X do modal
  $('#booking-close')?.addEventListener('click', closeBooking);

  // Fechar ao clicar fora da caixa
  bookingModal.addEventListener('click', (ev) => {
    if (ev.target === bookingModal) closeBooking();
  });

  // BotÃ£o flutuante "Reservar" (abre sem trilho definido)
  document.querySelectorAll('.js-open-booking').forEach(btn => {
    btn.addEventListener('click', (ev) => {
      ev.preventDefault();
      openBooking('');
    });
  });

  // BotÃµes "Reservar" dos cartÃµes de trilho (jÃ¡ tens a classe js-reserve)
  document.querySelectorAll('.js-reserve').forEach(btn => {
    btn.addEventListener('click', (ev) => {
      ev.preventDefault();
      const trailName = btn.getAttribute('data-trail') || '';
      openBooking(trailName);
    });
  });
})();
</script>
  
<script>
/* ============================
   LOOP AUTOMÃTICO ENTRE MONTES
   ============================ */
(function(){
  const slider = document.getElementById("slider-entre-montes");
  if (!slider) return;

  const main  = slider.querySelector(".loop-main");
  const items = Array.from(slider.querySelectorAll(".loop-items span"));
  if (!items.length) return;

  function render(i){
    const item = items[i];
    if (!item) return;

    main.innerHTML = "";

    const type = item.dataset.type;
    const src  = item.dataset.src;

    if (type === "video"){
      const v = document.createElement("video");
      v.src = src;
      v.muted = true;
      v.playsInline = true;
      v.autoplay = true;
      v.loop = false; // sÃ³ queremos tocar uma vez no inÃ­cio
      main.appendChild(v);
    } else {
      const img = document.createElement("img");
      img.src = src;
      img.alt = "Trilho Entre Montes";
      main.appendChild(img);
    }
  }

  // 1) comeÃ§a no vÃ­deo (Ã­ndice 0)
  render(0);

  // 2) depois de 13s comeÃ§a loop sÃ³ nas fotos (Ã­ndices 1..N-1, 2s cada)
  function startLoop(){
    let idx = 1; // comeÃ§a na primeira foto

    setInterval(() => {
      render(idx);
      idx++;
      if (idx >= items.length) {
        idx = 1; // volta Ã  primeira foto, nunca volta ao vÃ­deo
      }
    }, 4000); // 4 segundos por foto
  }

  setTimeout(startLoop, 13000); // 13s para o vÃ­deo tocar antes de comeÃ§ar as fotos
})();
</script>
<script>
(function(){
  const trailPicker = document.getElementById('trail');


  if (!trailInput || !trailPicker) return;

  // 1) quando o utilizador escolhe no select â†’ copiar para o input
  trailPicker.addEventListener('change', () => {
    trailInput.value = trailPicker.value;
  });

  // 2) integrar com a funÃ§Ã£o openBooking se jÃ¡ a tens
  //    (se nÃ£o tiveres, ignora esta parte)
  const originalOpen = window.openBooking;
  if (typeof originalOpen === 'function') {
    window.openBooking = function(trailName){
      // chama a funÃ§Ã£o original
      originalOpen(trailName);

      // sincroniza select com o trilho vindo do botÃ£o
      if (trailName) {
        let matched = false;
        Array.from(trailPicker.options).forEach(opt => {
          if (opt.value.trim() === trailName.trim()) {
            trailPicker.value = opt.value;
            matched = true;
          }
        });
        if (!matched) {
          trailPicker.value = '';
        }
      } else {
        // chamado a partir do botÃ£o fixo / barra â†’ limpa tudo
        trailPicker.value = '';
        trailInput.value  = '';
      }
    };
  }
})();
</script>
  <!-- aqui ficam os teus outros scripts normais -->
  <script src="script.js"></script>

  <!-- AQUI COLAS O SCRIPT I18N -->
  <script>
    const I18N = {
      pt: {
      "trail.per.title": "Caldeira â€¢ PerÃ­metro",
"trail.per.meta1": "~7 km",
"trail.per.meta2": "â–² +300 m",
"trail.per.meta3": "~3h",
"trail.per.meta4": "Dificuldade: Moderado",
"trail.per.desc":
  "Trilho circular Ã  volta da cratera vulcÃ¢nica mais emblemÃ¡tica do Faial. Vista 360Âº sobre a ilha e a imponente parede interior da Caldeira.",

"trail.desc.title": "Caldeira â€¢ Descida",
"trail.desc.meta1": "~8 km",
"trail.desc.meta2": "â–² +450 m",
"trail.desc.meta3": "~4h",
"trail.desc.meta4": "Dificuldade: Exigente",
"trail.desc.desc":
  "Descida autorizada ao interior da Caldeira. VegetaÃ§Ã£o endÃ©mica, ribeiras, piso irregular e regresso pela encosta Ã­ngreme da cratera.",

      },
      en: {
      "trail.per.title": "Caldeira â€¢ Perimeter",
"trail.per.meta1": "~7 km",
"trail.per.meta2": "â–² +300 m",
"trail.per.meta3": "~3h",
"trail.per.meta4": "Difficulty: Moderate",
"trail.per.desc":
  "Circular hike around Faialâ€™s most iconic volcanic crater. 360Âº views over the island and the dramatic inner walls of the Caldeira.",

"trail.desc.title": "Caldeira â€¢ Descent",
"trail.desc.meta1": "~8 km",
"trail.desc.meta2": "â–² +450 m",
"trail.desc.meta3": "~4h",
"trail.desc.meta4": "Difficulty: Hard",
"trail.desc.desc":
  "The official descent into the Caldeira is a rare, protected experience. Endemic vegetation, streams, uneven paths and a steep climb up the crater wall.",

      }
    };

    function applyLang(lang) { ... }
    function setLang(lang) { ... }

    document.addEventListener("DOMContentLoaded", () => { ... });
  </script>

</body>
</html>
<script>
  // reveal on scroll
  const els = document.querySelectorAll('.reveal');
  const obs = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target); }
    });
  },{ threshold:.2 });
  els.forEach(el=>obs.observe(el));
</script>
<script>
  // Smooth-scroll para reservas + preencher o "Trilho"
  const reserveButtons = document.querySelectorAll('.js-reserve');
  const bookingSection = document.getElementById('booking');
  const trailInput = document.getElementById('trail-input');

  function openBooking(trailName){
    if (trailInput && trailName){
      trailInput.value = trailName;
    }
    if (bookingSection){
      bookingSection.scrollIntoView({behavior:'smooth'});
    }
  }

  reserveButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
      const trailName = btn.getAttribute('data-trail') || '';
      openBooking(trailName);
    });
  });
</script>

<!-- resto dos teus scripts (sliders, formulÃ¡rio, etc.) -->

<script>
  // Exemplo: ligar select dos trilhos ao input "trail-input"
  (function(){
    const trailPicker = document.getElementById('trail');
    const trailInput = document.getElementById('trail-input');

    if (!trailInput || !trailPicker) return;

    trailPicker.addEventListener('change', () => {
      trailInput.value = trailPicker.value;
    });
  })();
</script>

<!-- SCRIPT I18N PT/EN -->
<script>
  const I18N = {
    pt: {
      "site.title": "Horta with CÃ©sar â€” Walking Tours no Faial",
      "header.location": "Faial â€¢ AÃ§ores",

      "nav.about": "Sobre mim",
      "nav.tours": "Trilhos",
      "nav.booking": "Reservas",
      "nav.contact": "Contactos",

      "tours.title": "Trilhos & Walking Tours",
      "tours.cta": "Explorar trilhos â†“",

      "trail.city.title": "City Walk â€¢ Horta a pÃ©",
      "trail.city.meta1": "~3 km",
      "trail.city.meta2": "~2h",
      "trail.city.meta3": "Dificuldade: FÃ¡cil",
      "trail.city.desc": "Centro histÃ³rico, colÃ³nias, igrejas antigas, marina e histÃ³rias das famÃ­lias mais marcantes. Passeio urbano com paragens fotogrÃ¡ficas e comercio local.",
      "trail.city.thumb.video": "VÃ­deo",

      "trail.entre.title": "Entre Montes (Horta)",
      "trail.entre.meta1": "~3.5 km",
      "trail.entre.meta2": "â–² +120 m",
      "trail.entre.meta3": "~2h30",
      "trail.entre.meta4": "Dificuldade: FÃ¡cil / Moderado",

      "trail.neptuno.title": "Miradouro do Neptuno",
      "trail.neptuno.meta1": "~3 km",
      "trail.neptuno.meta2": "â–² +50 m",
      "trail.neptuno.meta3": "~1h30",
      "trail.neptuno.meta4": "Dificuldade: FÃ¡cil",
      "trail.neptuno.desc": "Passeio atÃ© ao famoso Miradouro do Neptuno. Ideal para quem quer fotografia, conhecer a histÃ³ria local e relaxar.",

      "trail.per.title": "Caldeira â€” perÃ­metro",
      "trail.per.meta1": "~8 km",
      "trail.per.meta2": "â–² +200 m",
      "trail.per.meta3": "~3h",
      "trail.per.meta4": "Dificuldade: FÃ¡cil / Moderado",

      "trail.desc.title": "Caldeira Descida â€¢ SantuÃ¡rio da fauna local",
      "trail.desc.meta1": "~3 km",
      "trail.desc.meta2": "~3h30",
      "trail.desc.meta3": "Dificuldade: Moderado / DifÃ­cil",
      "trail.desc.desc": "Zona protegida pelo Parque Natural dos AÃ§ores. Requer guia certificado! Paisagens fantÃ¡sticas.",

      "trail.btn.reserve": "Reservar",
      "trail.btn.conditions": "Ver condiÃ§Ãµes"
    },

    en: {
      "site.title": "Horta with CÃ©sar â€” Walking Tours in Faial",
      "header.location": "Faial â€¢ Azores",

      "nav.about": "About me",
      "nav.tours": "Trails",
      "nav.booking": "Booking",
      "nav.contact": "Contacts",

      "tours.title": "Trails & Walking Tours",
      "tours.cta": "Explore the trails â†“",

      "trail.city.title": "City Walk â€¢ Horta on foot",
      "trail.city.meta1": "~3 km",
      "trail.city.meta2": "~2h",
      "trail.city.meta3": "Difficulty: Easy",
      "trail.city.desc": "Historic centre, foreign colonies, old churches, marina and stories of the most notable local families. Urban walk with photo stops and local shops.",
      "trail.city.thumb.video": "Video",

      "trail.entre.title": "Entre Montes (Horta)",
      "trail.entre.meta1": "~3.5 km",
      "trail.entre.meta2": "â–² +120 m",
      "trail.entre.meta3": "~2h30",
      "trail.entre.meta4": "Difficulty: Easy / Moderate",

      "trail.neptuno.title": "Miradouro do Neptuno",
      "trail.neptuno.meta1": "~3 km",
      "trail.neptuno.meta2": "â–² +50 m",
      "trail.neptuno.meta3": "~1h30",
      "trail.neptuno.meta4": "Difficulty: Easy",
      "trail.neptuno.desc": "Walk up to the famous Neptuno viewpoint. Ideal for photography lovers, for learning local history and simply relaxing.",

      "trail.per.title": "Caldeira â€” perimeter",
      "trail.per.meta1": "~8 km",
      "trail.per.meta2": "â–² +200 m",
      "trail.per.meta3": "~3h",
      "trail.per.meta4": "Difficulty: Easy / Moderate",

      "trail.desc.title": "Caldeira Descent â€¢ Sanctuary of local fauna",
      "trail.desc.meta1": "~3 km",
      "trail.desc.meta2": "~3h30",
      "trail.desc.meta3": "Difficulty: Moderate / Hard",
      "trail.desc.desc": "Protected area managed by the Azores Natural Park. Certified guide required! Stunning scenery inside the crater.",

      "trail.btn.reserve": "Book now",
      "trail.btn.conditions": "View details"
    }
  };

  function applyLang(lang) {
    const dict = I18N[lang] || I18N.pt;

    document.querySelectorAll('[data-i18n]').forEach((el) => {
      const key = el.getAttribute('data-i18n');
      if (dict[key] !== undefined) {
        el.textContent = dict[key];
      }
    });

    if (dict["site.title"]) {
      document.title = dict["site.title"];
    }

    const btnPt = document.getElementById('btn-pt');
    const btnEn = document.getElementById('btn-en');
    if (btnPt && btnEn) {
      btnPt.classList.toggle('active', lang === 'pt');
      btnEn.classList.toggle('active', lang === 'en');
    }

    try {
      localStorage.setItem('hwc_lang', lang);
    } catch (e) {}
  }

  function setLang(lang) {
    applyLang(lang);
  }

  document.addEventListener('DOMContentLoaded', () => {
    let lang = 'pt';
    try {
      const saved = localStorage.getItem('hwc_lang');
      if (saved === 'en' || saved === 'pt') lang = saved;
    } catch (e) {}
    applyLang(lang);
  });
</script>

</body>
</html>





</body>
</html>
