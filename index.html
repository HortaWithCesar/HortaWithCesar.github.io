<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="head.title">Horta with César-Walking tours & Trilhos no Faial, Açores</title>
  <meta name="description"
      content="Walking tours e trilhos no Faial com guia local. City tour Horta, Entre Montes, Caldeira e mais. Reserve já!"
      data-i18n-content="head.description" />
  
<link rel="icon" type="image/png" href="logotipo1.png" />
<link rel="canonical" href="https://hortawithcesar.com/" />
 <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Horta with César" />
  <meta
    property="og:title"
    content="Horta with César · Walking tours & trilhos no Faial, Açores"/>
  <meta
    property="og:description"
    content="Walking tours e trilhos no Faial com guia local. City tour Horta, Entre Montes, Caldeira e mais. Reserva já a tua experiência."/>
  <meta property="og:url" content="https://hortawithcesar.com/" />
  <meta property="og:image" content="https://hortawithcesar.com/logotipo1.png" />

  
  <style>
    @keyframes fadeIn {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}
header img {
  animation: fadeIn 1.4s ease forwards;
}
footer img {
  animation: fadeIn 1.8s ease forwards;
}
    /* Altura e alinhamento do menu */
nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;            /* altura total da barra */
}

/* Espaçamento interno do header */
header .wrap {
  padding: 8px 18px;       /* pequeno respiro vertical */
}

/* ===== HEADER FIXO ===== */
header{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: rgba(255,255,255,.9);
  backdrop-filter: saturate(150%) blur(6px);
  border-bottom: 1px solid var(--line);
  z-index: 999;
  transition: box-shadow .3s ease;
}

/* Sombra quando há scroll */
header.scrolled{
  box-shadow: 0 4px 10px rgba(0,0,0,.08);
}

/* Grelha base para centralizar conteúdo */
.wrap{
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 18px;
}


    :root{
      --bg:#ffffff; --fg:#0f172a; --muted:#475569; --brand:#0ea5e9; --brand2:#10b981;
      --card:#f8fafc; --line:#e2e8f0;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body {
  margin: 0;
  padding-top: 80px; /* sobe de 70 → 110px, para compensar a altura real */
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  color: var(--fg);
  background: var(--bg);
}

    nav a{color:var(--fg);text-decoration:none;margin-left:18px;font-weight:600}
    nav a:hover{color:var(--brand)}
    .lang-toggle{display:inline-flex;gap:6px;background:var(--card);border:1px solid var(--line);padding:6px;border-radius:999px}
    .lang-toggle button{border:0;background:transparent;padding:6px 10px;border-radius:999px;font-weight:700;cursor:pointer}
    .lang-toggle button.active{background:var(--brand);color:#fff}

    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center;padding:56px 0}
    .hero .media{min-height:260px;border:2px dashed var(--line);border-radius:16px;display:grid;place-items:center;font-weight:700;color:var(--muted)}
    h1{font-size:clamp(28px,4vw,44px);line-height:1.1;margin:0 0 8px}
    p.lead{font-size:clamp(16px,2.3vw,20px);color:var(--muted);margin:0 0 18px}
    .cta{display:flex;gap:12px;flex-wrap:wrap}
    .btn{appearance:none;border:0;border-radius:999px;padding:12px 18px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--brand);color:#fff}
    .btn-outline{background:#fff;border:2px solid var(--brand);color:var(--brand)}

    section{padding:40px 0;border-top:1px solid var(--line)}
    h2{font-size:clamp(22px,3vw,32px);margin:0 0 16px}
    /* Sobre mim: largura própria, sem grelha */
.about{
  display:block;           /* sai da grid de 2 colunas */
  max-width:1000px;        /* mais largo que antes, mas só aqui */
  margin:40px auto;        /* centra a secção e dá respiro */
  line-height:1.65;
  font-size:18px;
}
/* controla o comprimento das linhas para ficar legível */
.about p{max-width:80ch}

/* garante que a imagem flutuante não “empurra” o rodapé */
.about::after{content:"";display:block;clear:both}

    .ph{min-height:220px;border:2px dashed var(--line);border-radius:14px;display:grid;place-items:center;color:var(--muted);font-weight:700}

    .tours{display:grid;gap:22px}
    .tour-card{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;background:var(--card);border:1px solid var(--line);border-radius:16px;padding:18px}
    .tour-media{display:grid;gap:10px}
    .vid{height:160px;border:2px dashed var(--line);border-radius:12px;display:grid;place-items:center;color:var(--muted);font-weight:700}
    .gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
    .shot{height:80px;border:2px dashed var(--line);border-radius:10px;display:grid;place-items:center;color:var(--muted);font-size:12px}
    .facts{display:grid;gap:10px}
    .pill{display:inline-block;background:#fff;border:1px solid var(--line);border-radius:999px;padding:6px 10px;margin-right:8px;font-size:14px}
    .reserve{margin-top:8px}

    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:22px}
    form{display:grid;gap:10px}
    label{font-size:14px;color:var(--muted)}
    input,select,textarea{width:100%;padding:12px;border:1px solid var(--line);border-radius:10px;font:inherit}
    textarea{min-height:110px}
    .map{min-height:220px;border:2px dashed var(--line);border-radius:12px;display:grid;place-items:center;color:var(--muted);font-weight:700}

    footer{padding:32px 0;color:var(--muted);text-align:center;border-top:1px solid var(--line)}
    footer img{height:40px;display:block;margin:0 auto 10px}
    .small{font-size:12px;color:var(--muted)}

    @media (max-width:900px){
      .hero{grid-template-columns:1fr}
      .about{grid-template-columns:1fr}
      .tour-card{grid-template-columns:1fr}
      .gallery{grid-template-columns:repeat(2,1fr)}
    }
    .about .photo-wrap {
  position: relative;
  float: right;
  max-width: 420px;          /* tamanho máximo da imagem */
  margin: 8px 0 16px 36px;   /* empurra o texto à esquerda */
  border-radius: 16px;
  overflow: hidden;
}

.about .photo-wrap::before {
  content: "";
  position: absolute;
  top: -12%;
  left: -8%;
  width: 150%;
  height: 150%;
  background: radial-gradient(
    circle at center,
    rgba(16,185,129,0.25) 0%,
    rgba(34,197,94,0.18) 40%,
    rgba(101,163,13,0.10) 80%,
    transparent 100%
  );
  z-index: 0;
}

.about .photo-wrap img {
  position: relative;
  z-index: 1;
  width: 100%;
  height: auto;
  display: block;
  border-radius: inherit;
}


/* Garante que o conteúdo fica por cima do fundo */
.wrap, footer { position: relative; z-index: 1; }
/* Secção Sobre mim com camada de acento ao fundo */
#about{ position:relative; }
#about > *{ position:relative; z-index:2; }          /* conteúdo acima do fundo */
#about .accent{
  position:absolute; inset:0;
  z-index:1; pointer-events:none;
}

/* controla a posição/tamanho do grafismo */
#about .accent svg{
  position:absolute; right:6%; top:6%;
  width:min(520px,45vw); height:auto;
  opacity:.18;                                        /* intensidade do desenho */
  filter: drop-shadow(0 10px 24px rgba(0,0,0,.06));
}

/* mancha verde suave por baixo do SVG (para dar “glow”) */
#about .accent::before{
  content:""; position:absolute; right:0; top:0; bottom:-10%;
  width:50%; border-bottom-left-radius:60% 80%;
  background: radial-gradient(70% 60% at 65% 35%,
    rgba(34,197,94,.18) 0%,
    rgba(16,185,129,.12) 40%,
    rgba(16,185,129,.06) 70%,
    transparent 100%);
}
#about {
  position: relative;
}

#about > * {
  position: relative;
  z-index: 2;
}

#about .accent {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* posição e tamanho da folha */
#about .accent svg {
  position: absolute;
  right: 4%;
  top: 8%;
  width: min(460px, 38vw);
  opacity: .12;
  filter: drop-shadow(0 8px 18px rgba(0,0,0,.05));
}
/* posicionamento das camadas na secção */
#about{ position:relative; }
#about > *{ position:relative; z-index:2; }     /* conteúdo por cima do fundo */

/* a camada do grafismo fica por baixo e não é clicável */
#about .accent{
  position:absolute; inset:0; z-index:1; pointer-events:none;
}

/* posição/escala do SVG (ajusta aqui para “assentar” na foto) */
#about .accent svg{
  position:absolute;
  right:4%;           /* aproxima/afasta da direita */
  top:8%;             /* desce/sobe o desenho */
  width:min(460px,38vw);
  opacity:.12;        /* 0.10 mais suave | 0.16 mais visível */
  filter:drop-shadow(0 8px 18px rgba(0,0,0,.05));
}
/* Foto flutuante à direita + halo suave */
.photo-float{
  float: right;
  max-width: 420px;          /* tamanho da foto */
  margin: 8px 0 16px 36px;   /* espaço entre foto e texto à esquerda */
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}
.photo-float img{
  width: 100%;
  height: auto;
  display: block;
  border-radius: inherit;
}

/* Opcional: glow verde muito discreto por trás da foto */
.photo-float::before{
  content:"";
  position:absolute; inset:-12% -8% auto auto;
  width:150%; height:150%;
  background: radial-gradient(circle at 60% 40%,
    rgba(16,185,129,.22) 0%,
    rgba(34,197,94,.14) 45%,
    rgba(101,163,13,.08) 80%,
    transparent 100%);
  z-index:0;
}
.photo-float{ position:relative; } /* para o ::before funcionar */
.photo-float img{ position:relative; z-index:1; }

/* Mobile */
@media (max-width: 820px){
  .photo-float{ float:none; margin:20px auto; max-width:80%; }
}
/* ===== TRILHOS ===== */
#tours{
  padding: 60px 0;
  border-top: 1px solid var(--line);
}

.tours-head{
  display:flex; align-items:center; justify-content:space-between; gap:18px;
  margin-bottom: 18px;
}
.tours-head h2{ margin:0 }
.scroll-cue{
  appearance:none; border:0; border-radius:999px; padding:10px 14px;
  background:var(--brand); color:#fff; font-weight:700; cursor:pointer;
  display:inline-flex; align-items:center; gap:8px;
  box-shadow:0 6px 18px rgba(2,132,199,.25);
}
.scroll-cue:hover{ transform:translateY(1px); }

.tours-grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(12, 1fr);
}
.trail-card{
  grid-column: span 6;
  background:var(--card); 
  border:1px solid var(--line);
  border-radius:16px; 
  overflow:hidden; 
  display:grid; 
  grid-template-rows: 180px auto;
  transition: box-shadow .2s ease;
}

/* override só para o primeiro card (City Walk) */
.trail-card-featured{
  grid-template-rows: auto auto;  /* aqui já não é fixo */
}

    /* Estilo especial para o primeiro card destacado */
.trail-card-featured {
  grid-template-columns: 1fr; /* foto e texto empilhados, não lado a lado */
  text-align: center;
}

/* força todos os botões a ter a mesma altura e alinhamento */
.trail-actions a {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 48px;
}

/* corrige o WhatsApp (ícone redondo) para alinhar no meio */
.trail-actions .btn-whatsapp,
.trail-actions .brand-round {
  width: 46px;
  height: 46px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
}

/* pequeno efeito premium opcional */
.trail-actions a:hover {
  transform: translateY(-2px);
  transition: transform 0.2s ease;
}


/* Opcional: ligeiramente mais largo e com sombra suave */
.trail-card-featured {
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.05);
  padding: 28px;
}
.trail-card-featured p {
  max-width: 80%;
  margin: 0 auto;
  line-height: 1.6;
}

.trail-card:hover{ box-shadow: 0 14px 28px rgba(2,6,23,.08) }

.trail-media{
  background:#eef6ff; display:grid; place-items:center; font-weight:700; color:var(--muted);
}
    /* Ajuste para header fixo em ecrãs mais pequenos */
@media (max-width: 768px){
  body{
    padding-top: 72px;   /* sobe um bocadinho o conteúdo para não ficar por baixo da barra */
  }
}

.trail-body{ padding:36px; display:grid; gap:10px }
.trail-title{ margin:0; font-size:clamp(18px,2.6vw,22px) }
.trail-meta{ display:flex; flex-wrap:wrap; gap:8px }
.pill{
  display:inline-block; background:#fff; border:1px solid var(--line);
  border-radius:999px; padding:6px 10px; font-size:14px
}
.btn{ appearance:none; border:0; border-radius:999px; padding:10px 14px; font-weight:700; cursor:pointer }
.btn-primary{ background:var(--brand); color:#fff }
.btn-outline{ background:#fff; border:2px solid var(--brand); color:var(--brand) }
/* Botão WhatsApp - cor oficial */
.btn-whatsapp {
  background-color: #25D366;
  color: #fff;
  border: none;
  padding: 12px 24px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 16px;
  text-decoration: none;
  transition: background-color 0.3s ease, transform 0.2s ease;
  display: inline-block;
}

.btn-whatsapp:hover {
  background-color: #1ebe5b;
  transform: translateY(-2px);
}

/* Botão Ver Condições - azul com fundo branco */
.btn-conditions {
  color: #007bff;
  background-color: #fff;
  border: 2px solid #007bff;
  padding: 12px 24px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 16px;
  text-decoration: none;
  transition: all 0.3s ease;
  display: inline-block;
}

.btn-conditions:hover {
  background-color: #007bff;
  color: #fff;
  transform: translateY(-2px);
}

/* Efeito hover geral */
.trail-actions a:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Reservar (azul sólido) */
.btn-reservar {
  background: #0ea5e9;
  color: #fff;
  border: none;
}

/* WhatsApp (verde app) */
.btn-whatsapp {
  background: #25D366;
  color: #fff;
  border: none;
}

/* Ver condições (borda azul, fundo branco) */
.btn-conditions {
  background: #fff;
  color: #0ea5e9;
  border: 2px solid #0ea5e9;
}


/* animação de entrada */
.reveal{ opacity:0; transform: translateY(14px); }
.reveal.in{ opacity:1; transform:none; transition: all .55s ease }

/* layout responsivo */
@media (max-width: 980px){
  .trail-card{ grid-column: span 12; }
}
select {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #fff;
  font: inherit;
  appearance: none;
  background-image: linear-gradient(45deg, transparent 50%, #888 50%), 
                    linear-gradient(135deg, #888 50%, transparent 50%);
  background-position: calc(100% - 20px) calc(1em + 4px),
                       calc(100% - 15px) calc(1em + 4px);
  background-size: 5px 5px;
  background-repeat: no-repeat;
}
/* Ajustes só para o select do Período no mobile */
@media (max-width: 768px) {
  #period {
    -webkit-appearance: none;   /* remove alguns estilos estranhos */
    appearance: none;
    width: 100%;
    padding-right: 2.5rem;      /* espaço para a setinha */
  }
}

 /* ===== MODAL “VER CONDIÇÕES” (fix) ===== */
.modal-backdrop{
  position:fixed; inset:0;
  background:rgba(2,6,23,.55);
  backdrop-filter: blur(2px);
  display:none;                 /* escondido por omissão */
  z-index:9999;
}
.modal-backdrop.open{
  display:flex;                 /* centra o modal */
  align-items:flex-start;       /* topo confortável */
  justify-content:center;
  overflow:auto;                /* se for alto em mobile, permite scroll no próprio backdrop */
  padding:6vh 16px;             /* respiro nas margens */
}
.modal{
  width:100%;
  max-width:760px;
  background:#fff;
  border-radius:16px;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
  padding:20px 20px 16px;
  animation: modalIn .2s ease;
}
@keyframes modalIn{ from{ transform:translateY(10px); opacity:0 } to{ transform:none; opacity:1 } }
.modal h3{margin:0;font-size:22px}
.modal .muted{color:var(--muted);font-size:14px}
.modal .grid{display:grid;gap:14px;margin-top:12px}
.modal .box{border:1px solid var(--line);border-radius:12px;padding:12px;background:#fff}
.modal .box h4{margin:0 0 6px;font-size:16px}
.modal .actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;margin-top:14px}
.modal .btn-ghost{background:#fff;border:1px solid var(--line);color:var(--fg)}
.modal .close-x{appearance:none;border:0;background:#fff;border:1px solid var(--line);width:36px;height:36px;border-radius:10px;cursor:pointer}
@media (max-width:820px){ .modal{max-width:92vw} }

/* impedir scroll do body quando o modal está aberto */
body.modal-open{ overflow:hidden; }

    /* ===== Cabeçalho bonito do modal ===== */
.modal header{
  position: relative;
  display: block;                  /* deixa o conteúdo em coluna */
  text-align: center;              /* centra título e subtítulo */
  padding: 14px 56px 12px;         /* espaço; 56px para não colidir com o X */
  margin: -8px -8px 10px;          /* encosta ao bordo da caixa */
  border-radius: 14px 14px 0 0;
  background:
    linear-gradient(135deg,
      rgba(14,165,233,.12) 0%,
      rgba(16,185,129,.12) 100%);
  border-bottom: 1px solid rgba(2,6,23,.08);
}
.modal header::after{              /* linha suave decorativa */
  content:"";
  display:block;
  height:3px;
  margin:10px auto 0;
  width:120px;
  border-radius:999px;
  background: linear-gradient(90deg,#0ea5e9 0%, #10b981 100%);
  opacity:.5;
}

.modal h3{
  margin:0;
  font-size:22px;
  color:#0f172a;
}
.modal .muted{
  color:#475569;
  font-size:14px;
}

/* Botão X fixo no canto direito, alinhado verticalmente */
.modal .close-x{
  position:absolute;
  top:10px;                        /* alinha com o título */
  right:10px;
  width:38px; height:38px;
  border-radius:12px;
  border:1px solid rgba(2,6,23,.12);
  background:#fff;
  box-shadow:0 2px 8px rgba(2,6,23,.06);
}
.modal .close-x:hover{
  transform: translateY(-1px);
  box-shadow:0 6px 14px rgba(2,6,23,.10);
}
.modal .close-x svg {
  transition: stroke .2s ease;
}
.modal .close-x:hover svg {
  stroke: #0ea5e9; /* muda a cor do X para azul no hover */
}

/* Mobile: um pouco menos de padding para caber tudo */
@media (max-width:520px){
  .modal header{ padding:16px 48px 12px; }
  .modal .close-x{ right:8px; }
}

/* ===== CONTACTOS ===== */
.contact{ padding:60px 0 }
.contact-grid{
  display:grid; grid-template-columns:1.1fr .9fr; gap:24px; align-items:start;
}
.contact-card{
  background:#fff; border:1px solid var(--line); border-radius:16px; padding:18px;
  box-shadow:0 10px 24px rgba(2,6,23,.05);
}
.contact-list{ list-style:none; margin:0; padding:0; display:grid; gap:12px }
.contact-list li{
  display:grid; grid-template-columns:28px 110px 1fr; align-items:center; gap:10px;
  padding:10px; border:1px solid var(--line); border-radius:12px; background:#f9fbfd;
}
.contact-list .chip{
  justify-self:start; display:inline-block; padding:6px 10px; border-radius:999px;
  border:1.5px solid #0ea5e9; color:#0ea5e9; text-decoration:none; font-weight:700;
}
.contact-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px }

.contact-photo{
  margin:0; border-radius:18px; overflow:hidden; background:
    radial-gradient(120% 80% at 70% 10%, rgba(16,185,129,.12), rgba(14,165,233,.12));
  box-shadow:0 14px 28px rgba(2,6,23,.08);
}
.contact-photo img{ display:block; width:100%; height:auto }
.contact-photo figcaption{ padding:8px 12px }

@media (max-width: 980px){
  .contact-grid{ grid-template-columns:1fr; }
}
/* Impede o SVG decorativo do #about de sair da secção */
#about{ overflow: hidden; }

/* Garante que os marcadores (•) nunca aparecem na lista */
.contact-list, .contact-list li{ list-style: none; padding-left: 0; }

/* Ícones dos contactos — tamanho fixo */
.contact-list li > svg{
  width:18px; height:18px; flex:0 0 18px;
  color:#0ea5e9; display:block;
}
    .contact-photo{ max-width:520px; }
.contact-photo img{
  display:block; width:100%; height:auto;
  object-fit:cover; max-height:360px; border-radius:18px;
}

#about{ overflow:hidden; }
/* ===== Contactos – versão Pro ===== */

/* grid geral */
.contact-grid{
  display:grid; grid-template-columns: 1.05fr .95fr; gap:28px; align-items:start;
}

/* cartão */
.contact-card{
  background:#fff; border:1px solid var(--line); border-radius:18px; padding:18px;
  box-shadow:0 12px 28px rgba(2,6,23,.06);
}

/* linhas */
.contact-list{ list-style:none; margin:0; padding:0; display:grid; gap:12px }
.contact-list li{
  display:grid;
  grid-template-columns: 42px 1fr auto;        /* ícone | rótulo+valor | chip */
  align-items:center; gap:12px;
  padding:12px; border:1px solid var(--line); border-radius:14px; background:#fbfdff;
  transition: box-shadow .15s ease, transform .1s ease;
}
.contact-list li:hover{ box-shadow:0 6px 16px rgba(2,6,23,.08); transform:translateY(-1px); }

/* ícone com “aura” */
.contact-list .ico{
  width:42px; height:42px; border-radius:12px;
  display:grid; place-items:center;
  background:linear-gradient(135deg, rgba(14,165,233,.12), rgba(16,185,129,.12));
  border:1px solid rgba(2,6,23,.06);
}
.contact-list .ico svg{ width:18px; height:18px; color:#0ea5e9; display:block }

/* rótulo + valor */
.contact-list .label span{ display:block; font-size:12px; color:#64748b; line-height:1.1 }
.contact-list .label strong{ display:block; color:#0f172a; line-height:1.25 }

/* ação (chip à direita) */
.contact-list .chip{
  justify-self:end;
  padding:8px 12px; border-radius:999px; line-height:1;
  border:1.5px solid #0ea5e9; color:#0ea5e9; text-decoration:none; font-weight:700;
  background:#fff;
}
.contact-list .chip:hover{ background:rgba(14,165,233,.06) }

/* foto com overlay e sombra */
.contact-photo{
  margin:0; position:relative; border-radius:20px; overflow:hidden;
  box-shadow:0 18px 40px rgba(2,6,23,.12);
  background:#eaf7f3;
}
.contact-photo img{
  width:100%; height:auto; display:block; object-fit:cover; max-height:360px;
}
.photo-caption{
  position:absolute; left:12px; right:12px; bottom:12px;
  background:linear-gradient(135deg, rgba(14,165,233,.12), rgba(16,185,129,.12));
  border:1px solid rgba(2,6,23,.08); color:#0f172a;
  padding:10px 14px; border-radius:12px; backdrop-filter:saturate(120%) blur(2px);
}
/* segunda foto por baixo da principal */
.contact-photo--secondary{
  margin-top:15px;
  max-height:300px;
}
.contact-photo--secondary img{
  width:100%; height:auto; object-fit:cover;
}

/* mobile */
@media (max-width: 980px){
  .contact-grid{ grid-template-columns:1fr; }
  .contact-list .chip{ justify-self:start; margin-top:6px }
}
/* Cores de marca dos ícones */
.ico{ width:42px; height:42px; border-radius:12px; display:grid; place-items:center;
      background:linear-gradient(135deg, rgba(14,165,233,.10), rgba(16,185,129,.10));
      border:1px solid rgba(2,6,23,.06); }
.ico svg{ width:18px; height:18px; display:block; color:#0ea5e9; }

/* específicas */
.ico--wa{ background:#25D36622; }      .ico--wa svg{ color:#25D366; }
.ico--ig{ background:#c1358422; }      .ico--ig svg{ color:#c13584; }
.ico--gmail{ background:#ea433522; }   .ico--gmail svg{ color:#ea4335; }  /* vermelho Gmail */
.ico--tel{ background:#0ea5e922; }     .ico--tel svg{ color:#0ea5e9; }
.ico--map{ background:#10b98122; }     .ico--map svg{ color:#10b981; }
.ico--clock{ background:#64748b22; }   .ico--clock svg{ color:#64748b; }

/* Legendas por baixo das fotos (sem overlay) */
.photo-caption-below {
  background: transparent;      /* remove a caixa verde extra */
  color: #0f1a20;               /* mantém o texto visível */
  font-weight: 500;
  font-size: 1rem;
  margin-top: 8px;
  text-align: center;
}

/* Força as fotos dos contactos a ficarem na coluna 2 (direita) */
.contact-grid > .contact-photo{ grid-column: 2; }
.contact-grid > .contact-photo + .contact-photo{ margin-top:8px; } /* espaçamento entre as duas */

   /* ===== WHATSAPP OFICIAL ===== */
.wa-icon{
  width:56px;
  height:56px;
  border-radius:50%;
  display:inline-grid;
  place-items:center;
  background:transparent;
  overflow:hidden;
  box-shadow:0 8px 20px rgba(37,211,102,.35);
  border:none;
  transition: transform .2s ease, filter .2s ease;
}
.wa-icon:hover{
  transform:translateY(-1px);
  filter:brightness(1.05);
}

/* usa a imagem do logo */
.wa-icon img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* versão vertical (modal: ícone + texto) */
.wa-stack{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  text-decoration:none;
}
.wa-stack small{
  color:#0f172a;
  font-weight:600;
  opacity:.85;
}
/* ===== Brand icons (PNG) ===== */
.ico.brand {                      /* caixinha do lado esquerdo na lista */
  width:42px; height:42px; border-radius:12px;
  display:grid; place-items:center;
  background:#fff; border:1px solid var(--line);
}
.ico.brand img {
  width: 40px !important;   /* aumenta o tamanho real do logo */
  height: 40px !important;
  object-fit: contain;
  display: block;
}


/* ===== Ajuste final do logótipo oficial do WhatsApp ===== */

/* versão usada nos trilhos e contactos */
.brand-round, .btn-whatsapp {
  width:46px;            /* tamanho fixo mais pequeno */
  height:46px;
  border-radius:50%;
  display:inline-grid;
  place-items:center;
  background:#fff;
  border:1px solid rgba(2,6,23,.08);
  overflow:hidden;
  box-shadow:0 6px 14px rgba(2,6,23,.06);
  transition:transform .2s ease, filter .2s ease;
  padding:0 !important;
}
.brand-round:hover, .btn-whatsapp:hover {
  transform:translateY(-1px);
  filter:brightness(1.05);
}

/* imagem do logotipo */
.brand-round img, .btn-whatsapp img {
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}

/* modal: ícone + texto */
.brand-stack {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  text-decoration:none;
}
.brand-stack small {
  color:#0f172a;
  font-weight:600;
  opacity:.85;
}

.brand-round:hover{ transform:translateY(-1px); filter:brightness(1.03); }
.brand-round img{ width:100%; height:100%; object-fit:contain; }

/* Versão vertical do modal (ícone + texto) */
.brand-stack{ display:flex; flex-direction:column; align-items:center; gap:6px; text-decoration:none; }
.brand-stack small{ color:#0f172a; font-weight:600; opacity:.85; }

    /* ===== Ajuste do espaço entre as fotos ===== */
.contact-media{
  display: grid;
  gap: 16px; /* espaço uniforme entre as duas */
  margin: 0; /* remove qualquer margem extra */
  padding: 0;
}

.contact-photo{
  margin: 0; /* remove margem vertical antiga */
}

.contact-photo--secondary{
  margin-top: 0 !important; /* impede empurrar demasiado */
}
.contact-photo + .contact-photo{
  margin-top: 10px !important;
}
    /* ===== Alinhamento perfeito dos botões de ação ===== */
.trail-actions{
  display:flex;
  justify-content:center;   /* centra os 3 botões na horizontal */
  align-items:center;        /* alinha-os pela altura */
  gap:14px;                  /* espaço igual entre os botões */
  margin-top:20px;
  flex-wrap:wrap;            /* garante que se ajusta no mobile */
}

/* garante que os botões não esticam em alturas diferentes */
.trail-actions a{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:48px;
}
/* ===== CONTACTOS – correção final das fotos ===== */

/* garante que as duas fotos ficam agrupadas na coluna da direita */
.contact-media {
  display: flex;
  flex-direction: column;
  gap: 12px;           /* pequeno espaçamento fixo */
  margin: 0;
  padding: 0;
}

/* remove margens residuais dos figures */
.contact-photo {
  margin: 0 !important;
  padding: 0;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(2,6,23,.12);
}

/* garante que a segunda não “salta” */
.contact-photo--secondary {
  margin-top: 0 !important;
}

/* imagens responsivas e encaixadas */
.contact-photo img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
  max-height: 360px;
}

/* legenda por baixo */
.photo-caption-below {
  margin: 8px 0 0;
  font-weight: 600;
  color: #0f172a;
  background: linear-gradient(135deg, rgba(14,165,233,.10), rgba(16,185,129,.10));
  border: 1px solid rgba(2,6,23,.08);
  border-radius: 10px;
  padding: 8px 12px;
  display: inline-block;
}

/* Remover o fundo verde do caption (mantendo o verde do bloco da foto) */
.contact-media .contact-photo figcaption.photo-caption-below,
.contact-photo figcaption.photo-caption-below{
  background: transparent !important;   /* retira o fundo/pill */
  border: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  padding: 10px 14px 0 !important;      /* só espaçamento do texto */
  color: #0f172a !important;            /* texto bem legível */
  font-weight: 600;
}

/* Se algum “pill” estiver a ser desenhado com pseudo-elementos */
.photo-caption-below::before,
.photo-caption-below::after{
  content: none !important;
}
/* ===== MODAL PRIVACIDADE ===== */
#modal-privacy .modal {
  max-width: 800px;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  padding: 20px 24px;
}

#modal-privacy header {
  background: linear-gradient(90deg, #25D366, #0077ff);
  color: #fff;
  padding: 16px 20px;
  border-radius: 12px 12px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#modal-privacy h3 {
  margin: 0;
  font-size: 1.3rem;
}

#modal-privacy h4 {
  margin-top: 1.4em;
  color: #003a57;
  font-size: 1.05rem;
}
/* ==== LIMITA ALTURA DO MODAL DE PRIVACIDADE E ATIVA SCROLL ==== */

#modal-privacy .modal {
  max-height: 90vh;        /* limita à altura do ecrã */
  overflow-y: auto;        /* ativa scroll vertical no modal */
  overflow-x: hidden;      /* esconde apenas scroll horizontal */
  display: block;          /* não precisamos de flex aqui */
}

/* onde está o texto longo */
#modal-privacy .modal__body {
  overflow-y: auto;        /* scroll só no texto, não na página */
  padding: 20px 24px;
}

/* footer fixo e visível */
#modal-privacy .modal__footer {
  padding: 16px 24px;
  border-top: 1px solid rgba(0,0,0,0.1);
  background: #fff;
}

/* Aumentar ícones dentro das caixas de contacto */
.contact-info img,
.contact-info svg {
  width: 28px !important;      /* antes devia estar 18–22px */
  height: 28px !important;
  object-fit: contain;         /* mantém proporção */
}

/* Garante que as caixas se ajustam */
.contact-info-icon {
  width: 64px !important;
  height: 64px !important;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 14px;
  background: #eef6ff;         /* tom suave azul */
}

/* Espaçamento e equilíbrio visual */
.contact-info {
  gap: 14px;
}
/* ===== Ajuste visual das legendas das fotos (contactos) ===== */
.photo-caption-below {
  font-size: 0.9rem;           /* ligeiramente mais pequeno */
  font-style: italic;          /* texto em itálico */
  color: #6b7280;              /* cinzento suave */
  font-weight: 400;            /* peso leve */
  margin-top: 6px;
  background: transparent !important; /* remove qualquer fundo residual */
  border: none !important;
  box-shadow: none !important;
  padding: 4px 0 !important;   /* espaço mínimo */
  text-align: center;
}
/* ===== EFECTUAR RESERVA – layout */
.booking-box { 
  margin-top: 24px; 
}

.h2 { 
  font-size: 28px; 
  margin: 12px 0 16px; 
}

.reserve-grid {
  display:grid;
  grid-template-columns: repeat(5,1fr);
  gap:16px;
  margin: 8px 0 18px;
}
@media (max-width: 1000px){
  .reserve-grid{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .reserve-grid{
    grid-template-columns: 1fr;  /* todos os campos em coluna */
  }

  /* Garante que os campos ocupam a largura total e não ficam apertados */
  .reserve-grid .reserve-field {
    width: 100%;
  }

  /* Corrige o select do iPhone (Manhã / Tarde) */
  #period {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    padding-right: 2.5rem; 
  }
}


.reserve-field label{
  display:block; 
  font-weight:700; 
  margin:0 0 6px;
}
.rv-read{
  background:#fff; 
  border:1px solid var(--line, #cfe8fb); 
  border-radius:12px; 
  padding:12px 14px;
}

.tag{
  display:inline-block; 
  padding:8px 12px; 
  border-radius:999px; 
  font-weight:700;
}
.tag-muted{ background: #eef7ff; color:#2a5a7a; }
.tag-ok    { background: #e6fbef; color:#237a4a; }
.tag-warn  { background: #fff5e6; color:#8a5a00; }
.tag-bad   { background: #ffe9e9; color:#8a1a1a; }

.price-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:18px;
  margin: 4px 0 12px;
}
@media (max-width: 640px){
  .price-grid{ grid-template-columns:1fr; }
}
.amount{
  background:#fff; 
  border:1px solid var(--line, #cfe8fb); 
  border-radius:16px; 
  padding:18px; 
  font-weight:800; 
  font-size:26px;
}
.amount-accent{
  border-color:#bde5c8; 
  background: #f6fffa;
}
.note{ color:#6c7e8b; font-size:12px; }

.reserve-actions{
  display:flex; 
  justify-content:flex-start; 
  margin: 14px 0 6px; 
  gap:12px;
}
.btn[disabled]{ 
  opacity:.5; 
  cursor:not-allowed;
}

/* Bloqueia qualquer control dentro do modal (por precaução) */
.rv-lock input,
.rv-lock select,
.rv-lock textarea,
.rv-lock button[disabled] {
  pointer-events: none;
}

/* Botão desativado via aria-disabled */
a[aria-disabled="true"] {
  opacity: .5;
  pointer-events: none;
}

/* Layout das linhas no modal (segue o teu “reserve-grid”/“reserve-field”) */
.reserve-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}
.reserve-field--full { grid-column: 1 / -1; }

@media (max-width: 900px) {
  .reserve-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px) {
  .reserve-grid { grid-template-columns: 1fr; }
}
/* Centraliza o modal na tela */
.modal-backdrop {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.modal-backdrop[style*="display:flex"] {
  display: flex !important;
}
/* MOBILE: layout mais bonito do modal de reserva */
@media (max-width: 640px){

  /* caixa do modal mais “app” */
  .booking-modal{
    padding: 10px 14px 16px;
  }

  .booking-modal .modal__header{
    padding: 14px 16px 10px;
    text-align: center;
  }

  /* formulário em 1 coluna */
  .booking-modal .grid-2{
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* campos mais confortáveis para dedo */
  .booking-modal label{
    font-size: 13px;
  }

  .booking-modal input,
  .booking-modal select,
  .booking-modal textarea{
    font-size: 15px;
    padding: 10px 12px;
  }

  /* botões em baixo, full-width */
  .booking-modal .booking-actions{
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 10px;
  }

  .booking-modal .booking-actions .btn{
    width: 100%;
    justify-content: center;
  }
}

/* Caixa do modal (ajuste para centralização perfeita) */
.modal.box {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.15);
  width: 90%;
  max-width: 680px;
  margin: auto;
  overflow: hidden;
  animation: fadeInUp .3s ease;
}
/* ===== Modal genérico (backdrop) ===== */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: none;                /* fica hidden por defeito */
  justify-content: center;      /* centra horizontal */
  align-items: center;          /* centra vertical */
  z-index: 9999;
}

/* Quando o JS mete display:flex ele centra a caixa */
.modal-backdrop .modal {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, .25);
  max-width: 800px;
  width: 100%;
  max-height: 90vh;             /* NÃO deixa passar da janela */
  overflow-y: auto;             /* aparece scroll se o texto for grande */
}

/* ===== Layout novo do formulário de reserva ===== */

.booking-grid {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

/* Cada linha (desktop): 2 colunas iguais */
.booking-grid .booking-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Linha de observações: 1 coluna a toda a largura */
.booking-grid .booking-row.booking-row--full {
  grid-template-columns: 1fr;
}

/* Disponibilidade: label em cima, badge/caixa em baixo */
.reserve-field--availability {
  display: flex;
  flex-direction: column;   /* fica em coluna, não em linha */
  align-items: flex-start;  /* encostado à esquerda */
  gap: 8px;
  width: 100%;
}

/* Conteúdo da disponibilidade (— / Disponível / Sem vagas) */
.reserve-field--availability .availability-inline {
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
}

/* No desktop continua a ocupar a largura toda da coluna */
@media (min-width: 769px){
  .reserve-field--availability{
    max-width: 100%;
  }
}


/* Botões de disponibilidade não ficarem gigantes */
.reserve-field--availability .availability-inline {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
    /* Nº px – estilo em “caixa” bonita */
.reserve-field--pax .pax-inline{
  display: flex;
  align-items: stretch;
  /* sem espaço entre botões e input, para parecer um só componente */
  gap: 0;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: #f7f9ff;
  overflow: hidden;
}

/* botões - e + */
.reserve-field--pax .pax-inline .btn-icon{
  flex: 0 0 44px;
  border: 0;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
}

/* número no meio */
.reserve-field--pax .pax-inline input{
  flex: 1 1 auto;
  text-align: center;
  border: 0;
  background: transparent;
  /* opcional: ligeira linha vertical para marcar o meio */
  border-left: 1px solid var(--line);
  border-right: 1px solid var(--line);
}

/* tirar as setas feias do input number */
.reserve-field--pax input[type="number"]::-webkit-outer-spin-button,
.reserve-field--pax input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}
.reserve-field--pax input[type="number"]{
  -moz-appearance: textfield;
}
/* Caixa personalizada para Nº px */
.reserve-field--pax {
  max-width: 220px;  /* escolhe tu, 240–300 fica top */
}

    /* ===== Ajuste da Disponibilidade + Nº de pessoas (desktop) ===== */

@media (min-width: 769px){

  /* Linha da disponibilidade + número de pessoas */
  .booking-grid .booking-row:nth-child(4){
    align-items: flex-start;
  }

  /* Coluna esquerda: alinhar à esquerda */
  .booking-grid .booking-row:nth-child(4) .reserve-field--availability{
    justify-self: start;
  }

  /* Coluna direita: Nº de pessoas colado à esquerda */
  .booking-grid .booking-row:nth-child(4) > div:last-child{
    justify-self: start;
  }
}
/* Caixa das observações maior */
.reserve-field--notes {
  grid-column: span 2;   /* ocupa as duas colunas no desktop */
}

.reserve-field--notes textarea {
  min-height: 120px;        /* opcional, só deixa mais confortável */
  width: 100%;
}

/* ===== Específico do modal de Privacidade ===== */
#modal-privacy .modal {
  padding: 0;                   /* header tem o seu padding próprio */
}

/* Header do modal de privacidade */
#modal-privacy header {
  background: linear-gradient(90deg, #25D366, #0077ff);
  color: #fff;
  padding: 16px 20px;
  border-radius: 16px 16px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Título principal */
#modal-privacy h3 {
  margin: 0;
  font-size: 1.3rem;
}

/* Sub-títulos numerados (1. Introdução, 2. Dados…) */
#modal-privacy h4 {
  margin-top: 1.4em;
  color: #003a57;
  font-size: 1.05rem;
}

/* Conteúdo do corpo do modal */
#modal-privacy .modal-body {
  padding: 20px 24px 24px;
  font-size: 0.95rem;
  line-height: 1.6;
}

/* Botão “Fechar” dentro do modal de privacidade */
#modal-privacy .btn-ghost {
  margin-top: 16px;
}

/* Suave transição */
@keyframes fadeInUp {
  from { transform: translateY(30px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
/* Pill de disponibilidade */
.avail-pill{
  display:inline-flex;
  min-width:140px;
  justify-content:center;
  align-items:center;
  padding:10px 14px;
  border-radius:20px;
  background:#eef7ff;
  color:#0b466b;
  font-weight:700;
}
.avail-pill.is-free{ background:#e9fbef; color:#0a6e3d; }
.avail-pill.is-busy{ background:#fdecec; color:#933; }
.link {
  color: var(--brand, #0aa3e6);
  text-decoration: underline;
}
.link:hover { text-decoration: none; }
/* Disponibilidade compacta, por baixo da data */
.availability-inline{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top: 10px;
}

.availability-inline .label{
  font-size:14px;
  color:var(--muted);
}

/* badge mais pequena que a antiga */
.availability-badge{
  display:inline-grid;
  place-items:center;
  min-width:88px;
  height:44px;
  padding:0 14px;
  border-radius:18px;
  background:#eef7ff;                 /* neutro */
  color:#0b3954;
  font-weight:700;
  box-shadow: inset 0 0 0 2px rgba(12,130,200,.08);
}

/* estados (se já usas outros, mantém) */
.availability-badge[data-state="ok"]{
  background:#eafff1;
  color:#0b5330;
  box-shadow: inset 0 0 0 2px rgba(20,160,80,.14);
}
.availability-badge[data-state="busy"]{
  background:#fff3f2;
  color:#8c1f1f;
  box-shadow: inset 0 0 0 2px rgba(220,70,70,.14);
}

/* Ajusta o tamanho da badge */
.availability-badge {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  min-width: 80px;
  height: 42px;
  background: #eef7ff;
  border-radius: 20px;
  font-weight: 600;
  color: #0b3d91;
}
.reserve-field .availability-inline {
  margin-left: 0;
  margin-top: 4px;
}

/* Centrar os meta pills */
.trail-meta--center {
  display: flex;
  justify-content: center;
  gap: 16px;
  margin-top: 10px;
  margin-bottom: 25px;
}

.trail-meta--center .pill {
  font-size: 0.95rem;
  padding: 6px 14px;
  border-radius: 20px;
  background: #f5f9ff;
  color: #003a57;
  border: 1px solid #d8e6f8;
}
/* ===== CORES DAS DIFICULDADES ===== */

/* Fácil */
.pill.diff-easy {
  background: #e6fbef !important;
  color: #1c6b3c !important;
  border-color: #b5e7c8 !important;
}

/* Moderado */
.pill.diff-medium {
  background: #fff8d9 !important;
  color: #8a6500 !important;
  border-color: #f0d98c !important;
}

/* Difícil */
.pill.diff-hard {
  background: #ffe9e9 !important;
  color: #8a1a1a !important;
  border-color: #e0a0a0 !important;
}

/* Fácil / Moderado → gradiente verde → amarelo */
.pill.diff-easy-medium {
  background: linear-gradient(90deg, #e6fbef, #fff8d9) !important;
  color: #5a5a00 !important;
  border: 1px solid #e3e3a0 !important;
}

/* Moderado / Difícil → gradiente amarelo → vermelho */
.pill.diff-medium-hard {
  background: linear-gradient(90deg, #fff8d9, #ffe9e9) !important;
  color: #8a3a1a !important;
  border: 1px solid #f0b0a0 !important;
}
/* foto/vídeo do City Walk ocupa a caixa toda */
.trail-card-featured .trail-media{
  padding: 18px;
}

.city-slider{
  display:flex;
  flex-direction:column;
  width:100%;
  .city-main {
  margin-bottom: 10px; /* aumenta espaço abaixo do vídeo */
}
}

/* Altura do slider mais baixa para não tapar info */
.city-main{
  border-radius:14px;
  overflow:hidden;
  position:relative;
  background:#000;
  height:170px;   /* mobile */
}

@media (min-width:900px){
  .city-main{
    height:180px; /* desktop */
  }
}


.city-main img,
.city-main video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transition: transform .7s ease, filter .7s ease;
}

/* efeito cinematic no hover */
.city-main:hover img,
.city-main:hover video{
  transform:scale(1.06);
  filter:brightness(1.05);
}

/* thumbs em baixo */
.city-thumbs{
  display:grid;
  grid-auto-flow:column;
  gap:6px;
  margin-top: 8px;      /* um bocadinho por baixo do vídeo */
  margin-bottom: 12px;  /* deixa respirar antes das pills (~3 km, ~2h...) */
}


.city-thumb{
  border:0;
  padding:0;
  border-radius:10px;
  overflow:hidden;
  background:#0f172a;
  cursor:pointer;
  min-width:0;
  position:relative;
}

.city-thumb img,
.city-thumb span{
  height:40px;
}


.city-thumb span{
  display:flex;
  align-items:center;
  justify-content:center;
  height:52px;
  padding:0 8px;
  font-size:12px;
  font-weight:700;
  color:#e5f4ff;
}

/* thumb activa */
.city-thumb.is-active{
  outline:2px solid #0ea5e9;
  outline-offset:1px;
}

/* em ecrã pequeno as thumbs quebram linha */
@media (max-width: 900px){
  .city-thumbs{
    grid-auto-flow:row;
    grid-template-columns:repeat(4,1fr);
  }
}
/* === MODAL FULLSCREEN === */

.photo-modal {
  display: none;
  position: fixed;
  z-index: 9999;
  padding-top: 40px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: rgba(0,0,0,0.88);
}

.photo-modal-content {
  margin: auto;
  display: block;
  max-width: 90%;
  max-height: 80%;
  border-radius: 10px;
  animation: zoomIn .3s ease;
}

    /* Desktop: linha Data/Período/Disponibilidade (esq) + Nº px (dir) */
@media (min-width: 769px){
  .booking-row{
    column-gap: 18px;
    align-items: flex-start;
  }

  /* coluna esquerda ligeiramente maior que a direita */
  .booking-col-left{
    max-width: 100%;
  }

 .booking-col-right{
    max-width: unset;
    justify-self: start;
}


  .reserve-field--availability{
    margin-top: 10px;
  }
}
/* ===== CORRECÇÃO FINAL: Alinhamento Disponibilidade + Nº px ===== */

@media (min-width: 769px){

  /* linha ao meio, duas colunas iguais */
  .booking-row{
    display: grid;
    grid-template-columns: 1fr 1fr;
    column-gap: 32px;
    align-items: start;
  }

  /* colunas com largura equilibrada */
  .booking-col-left{
    max-width: unset;
  }

  .booking-col-right{
    max-width: unset;
    justify-self: start;
  }

  /* caixa da disponibilidade visível e com largura mínima */
  .reserve-field--availability{
    min-width: 180px;
  }

  .availability-inline{
    min-width: 60px;
    justify-content: center;
  }
}

@keyframes zoomIn {
  from {transform: scale(0.8); opacity:0;}
  to   {transform: scale(1); opacity:1;}
}

.photo-close {
  position: absolute;
  top: 20px;
  right: 35px;
  color: #fff;
  font-size: 40px;
  font-weight: bold;
  cursor: pointer;
}

.photo-prev,
.photo-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 38px;
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  padding: 10px;
  user-select: none;
}

.photo-prev { left: 20px; }
.photo-next { right: 20px; }

.photo-prev:hover,
.photo-next:hover,
.photo-close:hover {
  color: #0ea5e9;
}
/* Sobe o bloco inteiro da imagem + thumbs */
/* Sobe um bocadinho o vídeo+thumbs, mas sem tapar o título */
.trail-card-featured .trail-media{
  margin-top: 0px;   /* sobe só um pouco o bloco inteiro */
  margin-bottom: 0px; /* espaço normal antes do título */
}
/* ===== Slider em loop para outros trilhos (ex: Entre Montes) ===== */

.loop-slider{
  width:100%;
}

.loop-main{
  border-radius:14px;
  overflow:hidden;
  position:relative;
  background:#000;
  height:170px;           /* ajusta aqui a altura */
}

@media (min-width:900px){
  .loop-main{ height:190px; }
}

.loop-main img,
.loop-main video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transition: transform .7s ease, filter .7s ease;
}

/* pequeno efeito cinematic no hover */
.loop-main:hover img,
.loop-main:hover video{
  transform:scale(1.04);
  filter:brightness(1.05);
}

/* a lista de medias fica escondida, é só para o JS ler */
.loop-items{
  display:none;
}
/* ===== Botões flutuantes (WhatsApp + Reservar) ===== */
.floating-actions{
  position:fixed;
  right:18px;
  bottom:18px;
  display:flex;
  flex-direction:column;
  gap:12px;
  z-index:9990;
}

.fab{
  appearance:none;
  border:none;
  border-radius:999px;
  width:60px;
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 12px 30px rgba(15,23,42,.35);
  cursor:pointer;
  background:#0f172a;
  color:#fff;
  transition:transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}

.fab:hover{
  transform:translateY(-2px) scale(1.04);
  box-shadow:0 16px 36px rgba(15,23,42,.45);
  opacity:0.96;
}

/* WhatsApp */
.fab-whatsapp{
  background:#25D366;
}

/* trata do ícone lá dentro */
.fab-whatsapp img{
  width:28px;
  height:28px;
  display:block;
  border-radius:50%;     /* arredonda o quadrado */
  object-fit:cover;      /* corta os cantos se for quadrado */
}

/* Botão Reservar */
.fab-reserve{
  background:#0ea5e9;
  font-weight:700;
  font-size:12px;
  letter-spacing:.04em;
  padding:0 4px;
}

/* MOBILE: ajustes barra fixa + botões flutuantes */
@media (max-width:640px){

  /* mais espaço por baixo da barra fixa */
  body{
    padding-top: 110px; /* testa: se ainda ficar colado, sobe para 120px */
  }

  /* barra de ações flutuantes um pouco mais pequena e acima */
  .floating-actions{
    right: 12px;
    bottom: 16px;
  }
  /* Modal de reserva em 1 coluna no mobile */
  .booking-modal .grid-2{
    grid-template-columns: 1fr;   /* todos os campos em coluna */
    gap: 14px;
  }

  /* só para garantir que os campos ocupam toda a largura disponível */
  .booking-modal #people,
  .booking-modal #date_from,
  .booking-modal #period{
    width: 100%;
  }

    /* Em mobile, Reservar e WhatsApp com o MESMO formato de pílula */
  .fab-reserve,
  .fab-whatsapp{
    font-weight:700;
    font-size:12px;
    letter-spacing:.04em;
    padding:0 8px;
    min-width: 80px;
    height: 44px;
    white-space: nowrap;
  }

}


.trail-picker{
  margin-top:6px;
  width:100%;
  border-radius:999px;
  border:1px solid var(--line);
  padding:8px 14px;
  font-size:14px;
  background:#fff;
}
.trail-card .pill {
  padding: 4px 12px !important;
  line-height: 1.2 !important;
  display: inline-flex;
  align-items: center;
}
/* ===== NAV: ajustes para mobile ===== */
@media (max-width: 640px) {

  /* deixa o nav partir em 2 linhas */
  nav {
    flex-wrap: wrap;
    height: auto;
    row-gap: 6px;
  }

  /* menos almofada lateral no header */
  header .wrap {
    padding: 6px 10px;
  }

  /* bloco da direita (links + PT/EN) pode quebrar em 2 linhas */
  nav > div:last-child {
    flex-wrap: wrap;
    justify-content: flex-end;
    column-gap: 10px;
    row-gap: 4px;
  }

  /* links um bocadinho mais pequenos e com menos margem */
  nav a {
    margin-left: 10px;
    font-size: 14px;
  }

  /* PT / EN mais compacto */
  .lang-toggle {
    padding: 4px 6px;
    gap: 4px;
  }

  .lang-toggle button {
    padding: 4px 8px;
    font-size: 12px;
  }
}
/* FIX: alinhar o contador de pax no lugar certo */
.modal-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: 16px;
}

.form-row-pax {
  display: flex;
  align-items: center;
  gap: 12px;
}

.form-row-pax .pax-controls {
  display: flex;
  align-items: center;
  gap: 8px;
}

.pax-controls button {
  width: 32px;
  height: 32px;
  border-radius: 10px;
}
@supports (-webkit-touch-callout: none) {
  .modal-grid input,
  .modal-grid select {
    line-height: normal;
  }
}
@media (min-width: 980px) {
  .modal-grid {
    grid-template-columns: 1fr 1fr !important;
    justify-content: center;
    margin: 0 auto;
    width: 90%;
  }
}
.error-message {
  color: #dc2626;      /* vermelho suave */
  font-size: 12px;
  margin-top: 4px;
  display: none;
}

    .group-warning {
  font-size: 0.9rem;
  color: #b66b00;
  margin-top: 6px;
}
.modal-backdrop.open{
  display:flex;
  align-items:flex-start;
  justify-content:center;
  overflow-y:auto;
  overflow-x:hidden;
  padding:6vh 16px;
}


  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <div style="display:flex;align-items:center;gap:12px">
          <img src="logotipo1.png" alt="Horta with César logo" style="height:52px;margin-top:0" />
          <span class="small" data-i18n="header.location">Faial • Açores</span>

        </div>
        <div style="display:flex;align-items:center;gap:14px">
          <a href="#about" data-i18n="nav.about">Sobre mim</a>
          <a href="#tours" data-i18n="nav.tours">Trilhos</a>
          <a href="#booking" data-i18n="nav.booking" class="js-open-booking">Reservas</a>
          <a href="#contact" data-i18n="nav.contact">Contactos</a>
          <div class="lang-toggle" role="group" aria-label="Language switcher">
            <button id="btn-pt" class="active" onclick="setLang('pt')">PT</button>
            <button id="btn-en" onclick="setLang('en')">EN</button>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <section class="wrap about" id="about">
       <div class="accent" aria-hidden="true">
    <!-- folha abstrata minimal (SVG) -->
    <svg viewBox="0 0 600 600" fill="none">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0" stop-color="#10b981"/>
          <stop offset="1" stop-color="#22c55e"/>
        </linearGradient>
      </defs>
      <path d="M520 210c-40-95-160-150-250-120S105 210 90 300c-15 90 40 150 120 175 95 30 190-10 260-95 25-30 65-85 50-170Z"
            fill="url(#g)" opacity=".15"/>
      <path d="M110 320c120-25 245-25 370 0" stroke="#059669" stroke-opacity=".25" stroke-width="2" />
      <path d="M140 360c110-22 220-22 330 0" stroke="#10b981" stroke-opacity=".18" stroke-width="2" />
      <path d="M170 400c95-18 190-18 285 0" stroke="#16a34a" stroke-opacity=".15" stroke-width="2" />
    </svg>
  </div>
<div>
    <h2 data-i18n="about.title">Sobre mim</h2>

    <div class="photo-float">
      <img src="foto-perfil.jpg" alt="Foto de César, guia local no Faial">
    </div>

    <p data-i18n="about.p1">
      Sou o César, guia local e criador do projeto <strong>Horta with César</strong>. Desde cedo aprendi a valorizar as pequenas coisas, o som do vento na Caldeira, o cheiro da terra molhada e o sorriso de quem vive com o mar à porta.
    </p>

    <p data-i18n="about.p2">
      Comecei na restauração, onde descobri o prazer de trabalhar com produtos locais e partilhar sabores genuínos.
      Foi ali que aprendi a valorizar a essência desta ilha atlântica, onde cada trilho conta uma história celebrando a natureza e as suas paisagens, que fazem dos Açores em geral, e do Faial em particular, um lugar único. Hoje, levo esse mesmo espírito para os trilhos e para cada história que conto.
    </p>

    <p class="vision" data-i18n="about.p3">
      Acredito que guiar é mais do que mostrar paisagens: é criar experiências autênticas que liguem pessoas e natureza.
    </p>

    <p data-i18n="about.p4">
      Nos meus passeios, não há pressas. Caminha-se com tempo, conversa-se com naturalidade e ri-se com frequência. Se te juntares a mim, prometo-te uma experiência simples, sincera e cheia de alma, como a própria ilha.
    </p>
  </div>
</section>
<section id="tours">
  <div class="wrap">
    <div class="tours-head">
      <h2 data-i18n="tours.title">Trilhos & Walking Tours</h2>
<a class="scroll-cue" href="#tours" data-i18n="tours.cta">Explorar trilhos ↓</a>

    </div>

    <!-- CITY WALK HORTA -->
<article class="trail-card trail-card-featured reveal"
  data-trail="City Walk • Horta a pé"
  data-price-from="30€ /px"
  data-brief="Ideal para conhecer a cidade da Horta. Preço base para 1 pessoa. Ponto de encontro Pousada de Santa Cruz."
  data-brief-en="Ideal for discovering the city of Horta. Base price for 1 person. Meeting point: Pousada de Santa Cruz.">
        <div class="trail-media">
  <div class="city-slider" data-active="0">
    <div class="city-main">
      <!-- começa com o vídeo -->
      <video
        src="img/city-tour/VID.citytour.mp4"
        muted
        loop
        playsinline
      ></video>
    </div>

    <div class="city-thumbs">
      <!-- thumb do vídeo -->
      <button class="city-thumb is-active"
              data-type="video"
              data-src="img/city-tour/VID.citytour.mp4">
        <span data-i18n="trail.city.thumb.video">Vídeo</span>
      </button>

      <!-- 6 fotos -->
      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.Colonia.jpg">
        <img src="img/city-tour/City.tour.Colonia.jpg" alt="City tour Horta 1">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.Igreja.jpg">
        <img src="img/city-tour/City.tour.Igreja.jpg" alt="City tour Horta 2">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.Matriz.jpg">
        <img src="img/city-tour/City.tour.Matriz.jpg" alt="City tour Horta 3">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.JFT.jpg">
        <img src="img/city-tour/City.tour.JFT.jpg" alt="City tour Horta 4">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.JFT2.jpg">
        <img src="img/city-tour/City.tour.JFT2.jpg" alt="City tour Horta 5">
      </button>

      <button class="city-thumb"
              data-type="img"
              data-src="img/city-tour/City.tour.ILF1.jpg">
        <img src="img/city-tour/City.tour.ILF1.jpg" alt="City tour Horta 6">
      </button>
    </div>
  </div>
</div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.city.title">City Walk • Horta a pé</h3>
          <div class="trail-meta--center">
            <span class="pill">~3 km</span>
            <span class="pill">~2h</span>
            <span class="pill" data-i18n="trail.city.meta3">Dificuldade: Fácil</span>
          </div>
          <p data-i18n="trail.city.desc">>Centro histórico, colónias, igrejas antigas, marina e histórias das famílias mais marcantes. Passeio urbano com paragens fotográficas e comercio local.</p>
          <!-- Ações do trilho -->
<div class="trail-actions">
  <!-- Reservar (abre o inquérito com o trilho pré-selecionado) -->
  <button type="button"
  class="btn btn-primary js-reserve"
  data-trail="City Walk • Horta a pé"
  data-i18n="trail.btn.reserve">
  Reservar
</button>


  <!-- WhatsApp -->
  <a
  class="btn-whatsapp wa-icon"
  target="_blank"
  rel="noopener noreferrer"
    href="https://wa.me/351964616199?text=Ol%C3%A1%20C%C3%A9sar!%20Quero%20informa%C3%A7%C3%A3o%20sobre%20o%20trilho%20City%20Walk%20-%20Horta%20a%20pé.">
    <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <!-- Ver condições -->
  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">
  Ver condições
</button>


</div>

        </div>
      </article>
    
    <div class="tours-grid">
      <!-- ENTRE MONTES -->
      <article class="trail-card reveal"
  data-trail="Entre Montes (Horta)"
  data-price-from="40€ / px"
  data-brief="Ideal para Natureza e História. Preço base para 1 pessoa. Ponto de encontro Peter Cafe Sport."
    data-brief-en="Ideal for Nature and History lovers. Base price for 1 person. Meeting point: Peter Café Sport.">
          <div class="trail-media">
    <div class="loop-slider" id="slider-entre-montes">
      <div class="loop-main"></div>

      <!-- lista escondida com as medias (1 vídeo + fotos) -->
      <div class="loop-items">
        <!-- vídeo primeiro -->
        <span data-type="video" data-src="img/entre-montes/entre-montes-video.mp4"></span>

        <!-- fotos (mete os nomes certos que tens no GitHub) -->
        <span data-type="img" data-src="img/entre-montes/entre-montes-3.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-2.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-1.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-4.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-5.jpg"></span>
        <span data-type="img" data-src="img/entre-montes/entre-montes-6.jpg"></span>
      </div>
    </div>
  </div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.entre.title">   Entre Montes (Horta) </h3>
          <div class="trail-meta">
            <span class="pill">~3.5 km</span>
            <span class="pill">▲ +120 m</span>
            <span class="pill">~2h30</span>
            <span class="pill" data-i18n="trail.entre.meta4"> Dificuldade: Fácil / Moderado </span>

          </div>
          <p data-i18n="trail.entre.desc">Percurso circular entre duas elevações vulcânicas muito destintas. Vista da baía da Horta, baía do Porto Pim, história local e cantos escondidos no coração da Horta.</p>
         <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
  class="btn btn-primary js-reserve"
  data-trail="Entre Montes (Horta)"
  data-i18n="trail.btn.reserve">
  Reservar
</button>


  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Entre%20Montes.">
    <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button"
        class="btn btn-conditions"
        data-i18n="trail.btn.conditions">
  Ver condições
</button>


</div>


        </div>
      </article>

      <!-- MIRADOURO DO NEPTUNO -->
      <article class="trail-card reveal"
  data-trail="Miradouro do Neptuno"
  data-price-from="35€ / px"
  data-brief="Ideal para fotografia. Preço base para 1 pessoa. Ponto de encontro Museu Fabrica da Baleia."
    data-brief-en="Ideal for photography. Base price for 1 person. Meeting point: Whale Factory Museum.">
        
        <div class="trail-media">
  <div class="loop-slider" id="slider-neptuno">
    <div class="loop-main"></div>

    <!-- lista escondida com as medias (1 vídeo + 6 fotos) -->
    <div class="loop-items">
      <!-- vídeo primeiro -->
      <span data-type="video" data-src="img/neptuno/neptuno-video.mp4"></span>

      <!-- 6 fotos -->
      <span data-type="img" data-src="img/neptuno/neptuno-1.jpg"></span>
      <span data-type="img" data-src="img/neptuno/neptuno-2.jpg"></span>
      <span data-type="img" data-src="img/neptuno/neptuno-3.jpg"></span>
      <span data-type="img" data-src="img/neptuno/neptuno-4.jpg"></span>
      <span data-type="img" data-src="img/neptuno/neptuno-5.jpg"></span>
      <span data-type="img" data-src="img/neptuno/neptuno-6.jpg"></span>
    </div>
  </div>
</div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.neptuno.title">   Miradouro do Neptuno </h3>
          <div class="trail-meta">
            <span class="pill">~3 km</span>
            <span class="pill">▲ +50 m</span>
            <span class="pill">~1h30</span>
            <span class="pill" data-i18n="trail.neptuno.meta4">Dificuldade: Fácil </span>

          </div>
          <p data-i18n="trail.neptuno.desc">Passeio até ao famoso Miradouro do Neptuno. Ideal para quem quer fotografia, conhecer a história local e relaxar.</p>
          <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
  class="btn btn-primary js-reserve"
  data-trail="Miradouro do Neptuno"
  data-i18n="trail.btn.reserve">
  Reservar
</button>


  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Miradouro%20do%20Neptuno.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button"
        class="btn btn-conditions"
        data-i18n="trail.btn.conditions">
  Ver condições
</button>


</div>
        </div>
      </article>
      <!-- CALDEIRA (perímetro) -->
      <article class="trail-card reveal"
  data-trail="Caldeira — perímetro"
  data-price-from="75€ / px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Ponto de encontro a combinar"
        data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Meeting point to be arranged">
        <div class="trail-media">
  <div class="loop-slider" id="slider-caldeira">
    <div class="loop-main"></div>

    <div class="loop-items">
      <span data-type="video" data-src="img/caldeira/caldeira-video.mp4"></span>

      <span data-type="img" data-src="img/caldeira/caldeira-1.jpg"></span>
      <span data-type="img" data-src="img/caldeira/caldeira-2.jpg"></span>
      <span data-type="img" data-src="img/caldeira/caldeira-3.jpg"></span>
      <span data-type="img" data-src="img/caldeira/caldeira-4.jpg"></span>
      <span data-type="img" data-src="img/caldeira/caldeira-5.jpg"></span>
      <span data-type="img" data-src="img/caldeira/caldeira-6.jpg"></span>
    </div>
  </div>
</div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.per.title">Caldeira — perímetro</h3>

          <div class="trail-meta">
            <span class="pill">~8 km</span>
            <span class="pill">▲ +200 m</span>
            <span class="pill">~3h</span>
            <span class="pill" data-i18n="trail.per.meta4">Dificuldade: Fácil / Moderado</span>
          </div>
          <p data-i18n="trail.per.desc">Trilho icónico no centro do Faial. 360º de vistas, e fotografias. Geologia e fauna endémica. Em dias limpos temos o  Pico em grande plano.</p>
         <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
  class="btn btn-primary js-reserve"
  data-trail="Caldeira — perímetro"
  data-i18n="trail.btn.reserve">
  Reservar
</button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Caldeira%20Perímetro.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button"
        class="btn btn-conditions"
        data-i18n="trail.btn.conditions">
  Ver condições
</button>


</div>
        </div>
      </article>
       <!-- Descida à Caldeira -->
      <article class="trail-card reveal"
  data-trail="Caldeira Descida"
  data-price-from="130€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Guia certificado pelo Parque Natural dos Açores. Ponto de encontro a combinar"
        data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Certificated guide of Parque Natural dos Açores. Meeting point to be arranged">
        <div class="trail-media">
  <div class="loop-slider" id="slider-caldeira-descida">
    <div class="loop-main"></div>

    <!-- 1 vídeo + 6 fotos -->
    <div class="loop-items">
      <!-- vídeo -->
      <span data-type="video" data-src="img/caldeira-descida/caldeira-descida-video.mp4"></span>
      <!-- fotos -->
      <span data-type="img" data-src="img/caldeira-descida/caldeira-descida-1.jpg"></span>
      <span data-type="img" data-src="img/caldeira-descida/caldeira-descida-2.jpg"></span>
      <span data-type="img" data-src="img/caldeira-descida/caldeira-descida-3.jpg"></span>
      <span data-type="img" data-src="img/caldeira-descida/caldeira-descida-4.jpg"></span>
      <span data-type="img" data-src="img/caldeira-descida/caldeira-descida-5.jpg"></span>
      <span data-type="img" data-src="img/caldeira-descida/caldeira-descida-6.jpg"></span>
    </div>
  </div>
</div>

        <div class="trail-body">
          <h3 class="trail-title" data-i18n="trail.desc.title">Caldeira Descida • Santuário da fauna local</h3>
          <div class="trail-meta">
            <span class="pill">~3 km</span>
            <span class="pill">~3h30</span>
            <span class="pill" data-i18n="trail.desc.meta3">Dificuldade: Moderado / Difícil</span>
          </div>
          <p data-i18n="trail.desc.desc">Zona protegida pelo Parque Natural dos Açores. Requer guia certificado! Paisagens fantásticas.</p>
         <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
  class="btn btn-primary js-reserve"
  data-trail="Caldeira Descida • Santuário da fauna local"
  data-i18n="trail.btn.reserve">
  Reservar
</button>


  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Caldeira%20Descida.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button"
        class="btn btn-conditions"
        data-i18n="trail.btn.conditions">
  Ver condições
</button>

</div>

        </div>
      </article>
      <!-- ROCHA DA FAJÃ -->
<article class="trail-card reveal"
  data-trail="Rocha da Fajã"
  data-price-from="90€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Ponto de encontro a combinar"
  data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Meeting point to be arranged">
  <div class="trail-media">
  <div class="loop-slider" id="slider-rocha-faja">
    <div class="loop-main"></div>

    <!-- 1 vídeo + 6 fotos -->
    <div class="loop-items">
      <!-- vídeo -->
      <span data-type="video" data-src="img/rocha-faja/rocha-faja-video.mp4"></span>

      <!-- fotos -->
      <span data-type="img" data-src="img/rocha-faja/rocha-faja-1.jpg"></span>
      <span data-type="img" data-src="img/rocha-faja/rocha-faja-2.jpg"></span>
      <span data-type="img" data-src="img/rocha-faja/rocha-faja-3.jpg"></span>
      <span data-type="img" data-src="img/rocha-faja/rocha-faja-4.jpg"></span>
      <span data-type="img" data-src="img/rocha-faja/rocha-faja-5.jpg"></span>
      <span data-type="img" data-src="img/rocha-faja/rocha-faja-6.jpg"></span>
    </div>
  </div>
</div>

  <div class="trail-body">
    <h3 class="trail-title" data-i18n="trail.rocha.title">Rocha da Fajã</h3>
    <div class="trail-meta">
      <span class="pill">~5 km</span>
      <span class="pill">▲ +260 m</span>
      <span class="pill">~3h00</span>
      <span class="pill" data-i18n="trail.rocha.difficulty">Dificuldade: Moderado</span>
    </div>
    <p data-i18n="trail.rocha.desc">Trilho circular entre formações vulcânicas e falésias, com vistas sobre a areia negra e vegetação costeira do Faial.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Rocha da Fajã"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Rocha%20da%20Fajã.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions"
    data-i18n="trail.btn.conditions">
    Ver condições</button>

</div>

  </div>
</article>
      <!-- FAROL DA RIBEIRINHA -->
<article class="trail-card reveal"
  data-trail="Farol da Ribeirinha"
  data-price-from="90€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Ponto de encontro a combinar."
  data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Meeting point to be arranged">
  <div class="trail-media">FOTO • Farol da Ribeirinha</div>
  <div class="trail-body">
    <h3 class="trail-title" data-i18n="trail.farol.title">Farol da Ribeirinha</h3>
    <div class="trail-meta">
      <span class="pill">~8.5 km</span>
      <span class="pill">▲ +320 m</span>
      <span class="pill">~3h30</span>
      <span class="pill" data-i18n="trail.farol.difficulty">Dificuldade: Difícil</span>
    </div>
    <p data-i18n="trail.farol.desc">Percurso com subidas exigentes até ao antigo farol destruído pelo sismo de 1998, com vista privilegiada sobre a costa norte.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
    type="button"
    class="btn btn-primary js-reserve"
    data-trail="Farol da Ribeirinha"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Farol%20da%20Ribirinha.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condições</button>

</div>

  </div>
</article>
      <!-- LEVADAS AO CABEÇO DOS TRINTA -->
<article class="trail-card reveal"
  data-trail="Levadas ao Cabeço dos Trinta"
  data-price-from="150€ /px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Ponto de encontro a combinar"
  data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Meeting point to be arranged">
  <div class="trail-media">FOTO • Levadas ao Cabeço dos Trinta</div>
  <div class="trail-body">
    <h3 class="trail-title" data-i18n="trail.levada.title">Levadas ao Cabeço dos Trinta</h3>
    <div class="trail-meta">
      <span class="pill">~4 km</span>
      <span class="pill">▲ +120 m</span>
      <span class="pill">~2h</span>
      <span class="pill diff-easy-medium"
      data-i18n="trail.levada.difficulty">
  Dificuldade: Fácil / Moderado
</span>
    </div>
    <p data-i18n="trail.levada.desc">Trilho florestal com sombra e frescura, acompanhando a levada até ao Cabeço dos Trinta. Ideal para dias quentes.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button type="button"
    class="btn btn-primary js-reserve"
    data-trail="Levadas ao Cabeço dos Trinta"
    data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Levadas.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condições</button>

</div>

  </div>
</article>
      <!-- CAPELO → CAPELINHOS -->
<article class="trail-card reveal"
  data-trail="Capelo → Capelinhos "
  data-price-from="100€ /px "
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Ponto de encontro a combinar"
  data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Meeting point to be arranged">
  <div class="trail-media">
  <div class="loop-slider" id="slider-capelo">
    <div class="loop-main"></div>

    <div class="loop-items">
      
      <span data-type="img" data-src="img/capelo/capelo-1.jpg"></span>
      <span data-type="img" data-src="img/capelo/capelo-2.jpg"></span>
      <span data-type="img" data-src="img/capelo/capelo-3.jpg"></span>
      <span data-type="img" data-src="img/capelo/capelo-4.jpg"></span>
      <span data-type="img" data-src="img/capelo/capelo-5.jpg"></span>
      <span data-type="img" data-src="img/capelo/capelo-6.jpg"></span>
    </div>
  </div>
</div>

  <div class="trail-body">
    <h3 class="trail-title" data-i18n="trail.capelinhos.title">Capelo → Capelinhos</h3>
    <div class="trail-meta">
      <span class="pill">5.5 km</span>
      <span class="pill">▲ +400 m</span>
      <span class="pill">~3h</span>
      <span class="pill" data-i18n="trail.capelinhos.meta4">Dificuldade: Moderado / Difícil</span>
    </div>
    <p data-i18n="trail.capelinhos.desc">Trilho icónico que termina no Vulcão dos Capelinhos, com paragem no Farol dos Capelinhos. Paisagens áridas com uma história única.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
  <button
  class="btn btn-primary js-reserve"
  data-trail="Capelo → Capelinhos "
  data-i18n="trail.btn.reserve">
  Reservar
</button>


  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
 <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Capelo%20Capelinhos.">
     <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button"
        class="btn btn-conditions"
        data-i18n="trail.btn.conditions">
  Ver condições
</button>


</div>

  </div>
</article>
      <!-- MIRADOURO DA BRAÇA -->
<article class="trail-card reveal"
  data-trail="Miradouro da Braça"
  data-price-from="90€ / px"
  data-brief="Acesso sujeito a condições meteorológicas. Preço ajusta com logística e grupo. Ponto de encontro a combinar"
  data-brief-en="Access subject to weather conditions. Price may change with logistics and group size. Meeting point to be arranged">
  <div class="trail-media">
  <div class="loop-slider" id="slider-braca">
    <div class="loop-main"></div>

    <div class="loop-items">
      <span data-type="video" data-src="img/braca/braca-video.mp4"></span>

      <span data-type="img" data-src="img/braca/braca-1.jpg"></span>
      <span data-type="img" data-src="img/braca/braca-2.jpg"></span>
      <span data-type="img" data-src="img/braca/braca-3.jpg"></span>
      <span data-type="img" data-src="img/braca/braca-4.jpg"></span>
      <span data-type="img" data-src="img/braca/braca-5.jpg"></span>
      <span data-type="img" data-src="img/braca/braca-6.jpg"></span>
    </div>
  </div>
</div>

  <div class="trail-body">
    <h3 class="trail-title" data-i18n="trail.braca.title">Miradouro da Braça</h3>
    <div class="trail-meta">
      <span class="pill">4 km</span>
      <span class="pill">▲ +130 m</span>
      <span class="pill">~2h00</span>
      <span class="pill" data-i18n="trail.braca.difficulty">Dificuldade: Fácil / Moderado </span>
    </div>
    <p data-i18n="trail.braca.desc">Trilho circular, com vistas magníficas sobre o vulcão. Perfeito para quem procura uma experiência cheia de história.</p>
    <div class="trail-actions">
  <!-- Botão RESERVAR: abre o formulário com o trilho pré-selecionado -->
    <button type="button"
    class="btn btn-primary js-reserve"
    data-trail="Miradouro da Braça"
      data-i18n="trail.btn.reserve">
    Reservar
  </button>

  <!-- Botão WhatsApp: mensagem direta com o nome do trilho -->
  <a class="btn-whatsapp wa-icon" target="_blank" rel="noopener noreferrer"
     href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20o%20trilho%20Miradouro%20da%20Braça.">
       <img src="whatsapp-icon.jpg" alt="WhatsApp">
</a>

  <button type="button" class="btn btn-conditions" data-i18n="trail.btn.conditions">Ver condições</button>

</div>

  </div>
</article>
    </div>
  </div>
</section>
<section id="booking" class="wrap about" aria-label="Efetuar Reserva">
  <header class="modal__header">
    <h2 class="h3" style="margin-bottom:4px" data-i18n="booking.title">Efetuar reserva</h2>
    <button type="button" class="close-x" id="booking-close" aria-label="Fechar">×</button>
    <p class="small" id="booking-subtitle" style="margin-top:4px;color:var(--muted)" data-i18n="booking.subtitle">
      Preenche o pedido abaixo. O trilho selecionado aparece em “Trilho”.
    </p>
  </header>


    <form
    id="booking-form"
    action="https://formsubmit.co/bbffe6da37eb86996e4af484b8e084f4"
    method="POST"
    class="reserve-form"
    autocomplete="on"
    novalidate>


    <!-- ⚙️ FormSubmit opções -->
    <input type="hidden" name="_subject" value="Nova reserva - Horta with César">
    <input type="hidden" name="_template" value="box">
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_next" value="https://hortawithcesar.github.io/#booking">

    <!-- Anti-spam -->
    <input type="text" name="_honey" style="display:none">

  <!-- Layout novo do formulário -->
    <div class="booking-grid">

      <!-- Linha 1: Trilho + Nome -->
      <div class="booking-row">
        <div>
          <label for="trail" data-i18n="booking.label.trail">Trilho</label>
          <select id="trail"
                  name="Trilho"
                  class="trail-picker"
                  required>
  <option value="" data-i18n="booking.ph.trail">
    Seleciona um trilho
  </option>


  <option value="City Walk • Horta a pé">City Walk • Horta a pé</option>
  <option value="Entre Montes (Horta)">Entre Montes (Horta)</option>
  <option value="Miradouro do Neptuno">Miradouro do Neptuno</option>
  <option value="Caldeira — perímetro">Caldeira — perímetro</option>
  <option value="Caldeira Descida • Santuário da fauna local">
    Caldeira Descida • Santuário da fauna local
  </option>
  <option value="Rocha da Fajã">Rocha da Fajã</option>
  <option value="Farol da Ribeirinha">Farol da Ribeirinha</option>
  <option value="Levadas ao Cabeço dos Trinta">Levadas ao Cabeço dos Trinta</option>
  <option value="Capelo → Capelinhos ">Capelo → Capelinhos </option>
  <option value="Miradouro da Braça">Miradouro da Braça</option>
</select>
</div>


      <div>
        <label for="name" data-i18n="booking.label.name">Nome</label>
        <input id="name" name="name" type="text" data-i18n-placeholder="booking.ph.name" placeholder="O teu nome completo" required>
      </div>

<div>
  <label for="country" data-i18n="booking.label.country" required>País</label>

  <select id="country"
          name="País"
          required
          data-i18n-placeholder="booking.ph.country"
          placeholder="Seleciona o teu país">
    <!-- Placeholder -->
    <option value="" data-i18n="booking.ph.country" required>
      Seleciona o teu país
   
    </option>
    <!-- EUROPA -->
    <option>🇵🇹 Portugal</option>
    <option>🇪🇸 Espanha</option>
    <option>🇫🇷 França</option>
    <option>🇩🇪 Alemanha</option>
    <option>🇮🇹 Itália</option>
    <option>🇳🇱 Países Baixos</option>
    <option>🇧🇪 Bélgica</option>
    <option>🇱🇺 Luxemburgo</option>
    <option>🇨🇭 Suíça</option>
    <option>🇦🇹 Áustria</option>
    <option>🇬🇧 Reino Unido</option>
    <option>🇮🇪 Irlanda</option>
    <option>🇩🇰 Dinamarca</option>
    <option>🇳🇴 Noruega</option>
    <option>🇸🇪 Suécia</option>
    <option>🇫🇮 Finlândia</option>
    <option>🇮🇸 Islândia</option>
    <option>🇬🇷 Grécia</option>
    <option>🇨🇾 Chipre</option>
    <option>🇲🇹 Malta</option>
    <option>🇵🇱 Polónia</option>
    <option>🇨🇿 República Checa</option>
    <option>🇸🇰 Eslováquia</option>
    <option>🇸🇮 Eslovénia</option>
    <option>🇭🇷 Croácia</option>
    <option>🇭🇺 Hungria</option>
    <option>🇷🇴 Roménia</option>
    <option>🇧🇬 Bulgária</option>
    <option>🇷🇸 Sérvia</option>
    <option>🇧🇦 Bósnia e Herzegovina</option>
    <option>🇲🇪 Montenegro</option>
    <option>🇦🇱 Albânia</option>
    <option>🇲🇰 Macedónia do Norte</option>
    <option>🇽🇰 Kosovo</option>
    <option>🇺🇦 Ucrânia</option>
    <option>🇲🇩 Moldávia</option>
    <option>🇧🇾 Bielorrússia</option>
    <option>🇷🇺 Rússia</option>

    <!-- ÁSIA -->
    <option>🇹🇷 Turquia</option>
    <option>🇮🇱 Israel</option>
    <option>🇸🇦 Arábia Saudita</option>
    <option>🇦🇪 Emirados Árabes Unidos</option>
    <option>🇮🇳 Índia</option>
    <option>🇨🇳 China</option>
    <option>🇯🇵 Japão</option>
    <option>🇰🇷 Coreia do Sul</option>
    <option>🇹🇭 Tailândia</option>
    <option>🇮🇩 Indonésia</option>
    <option>🇲🇾 Malásia</option>
    <option>🇻🇳 Vietname</option>
    <option>🇵🇭 Filipinas</option>
    <option>🇸🇬 Singapura</option>
    <option>🇳🇵 Nepal</option>
    <option>🇱🇰 Sri Lanka</option>

    <!-- OCEANIA -->
    <option>🇦🇺 Austrália</option>
    <option>🇳🇿 Nova Zelândia</option>
    <option>🇫🇯 Fiji</option>

    <!-- ÁFRICA -->
    <option>🇿🇦 África do Sul</option>
    <option>🇦🇴 Angola</option>
    <option>🇲🇿 Moçambique</option>
    <option>🇨🇻 Cabo Verde</option>
    <option>🇬🇼 Guiné-Bissau</option>
    <option>🇸🇹 São Tomé e Príncipe</option>
    <option>🇲🇦 Marrocos</option>
    <option>🇹🇳 Tunísia</option>
    <option>🇩🇿 Argélia</option>
    <option>🇪🇬 Egito</option>
    <option>🇰🇪 Quénia</option>
    <option>🇹🇿 Tanzânia</option>
    <option>🇳🇬 Nigéria</option>
    <option>🇬🇭 Gana</option>
    <option>🇸🇳 Senegal</option>
    <option>🇳🇦 Namíbia</option>
    <option>🇧🇼 Botsuana</option>
    <option>🇪🇹 Etiópia</option>
    <option>🇿🇲 Zâmbia</option>
    <option>🇿🇼 Zimbabué</option>

    <!-- AMÉRICA (extra) -->
    <option>🇧🇷 Brasil</option>
    <option>🇺🇸 Estados Unidos</option>
    <option>🇨🇦 Canadá</option>
    <option>🇲🇽 México</option>
    <option>🇦🇷 Argentina</option>
    <option>🇨🇱 Chile</option>
    <option>🇺🇾 Uruguai</option>
  </select>
</div>


      <div>
        <label for="email">E-mail</label>
        <input id="email" name="Email" type="email" required
               placeholder="nome@exemplo.com" required>
      </div>
      </div>

      <!-- Linha 3: Data + Período do dia -->
      <div class="booking-row">
        <div>
          <label for="date_from" data-i18n="booking.label.date" required>Data prevista</label>
          <input id="date_from"
                 name="Data prevista"
                 type="date"
                 required>
        </div>

  <div style="margin-top:10px">
    <label for="period" data-i18n="booking.label.period" required>Período do dia</label>

<select id="period"
        name="period"
        class="period-picker"
        required>

  <!-- PLACEHOLDER -->
  <option value="" disabled selected data-i18n="booking.ph.period" required>
    Selecionar...
  </option>
      <option value="Manhã" data-i18n="booking.period.morning">🌅 Manhã</option>
      <option value="Tarde" data-i18n="booking.period.afternoon">🌇 Tarde</option>
    </select>
  </div>
</div>

  <!-- Linha 4: Nº px + Disponibilidade -->
<div class="booking-row">
  <!-- Nº de pessoas com botões +/- -->
  <div class="reserve-field reserve-field--pax">
    <label for="people">Nº pax</label>
    <div class="pax-inline">
      <button type="button" class="btn-icon" id="pax-dec">−</button>

      <input
        id="people"
        name="Nº de pessoas"
        type="number"
        min="1"
        max="20"
        step="1"
        required
        inputmode="numeric"
        value="1">

      <button type="button" class="btn-icon" id="pax-inc">+</button>
    </div>
    <span id="people-error" class="error-message"></span>
  </div>
  </div>
      
<p id="group-warning"
   class="group-warning"
   style="display:none;">
  <span data-i18n="booking.warn.group8">
    Para grupos de 8 ou mais pessoas, deve contactar primeiro através do botão "Enviar pedido".
  </span>
</p>

  <!-- Disponibilidade só com o “badge” -->
  <div class="reserve-field reserve-field--availability">
    <span data-i18n="booking.label.availability">Disponibilidade</span>
    <div class="availability-inline">
      <span id="rv-availability"
            class="availability-badge"
            data-state="pending"
            data-i18n="booking.availability.unknown">—</span>
    </div>
  </div>


    <div class="reserve-field reserve-field--notes">
      <label for="message" data-i18n="booking.label.notes">Mensagem (opcional)</label>
      <textarea id="notes" name="notes" data-i18n-placeholder="booking.ph.notes" placeholder="Preferências, restrições, horários..."></textarea>
    </div>
    </div>
<div style="display:none;">
  <label>HP</label>
  <input type="text" name="hp_field" id="hp_field">
</div>

    <div class="booking-actions">
  <button id="btn-send"
          class="btn btn-primary"
          type="submit"
          data-i18n="booking.btn.send">
    Enviar pedido
  </button>

  <button id="btn-open-reserve"
        class="btn btn-ghost btn-disabled"
        type="button"
        data-i18n="booking.btn.reserve">
  Efetuar reserva
</button>

</div>

</section>


  </form>
</section>
<!-- Backdrop do modal de reserva (o JS vai mover a secção #booking para aqui) -->
<div id="booking-modal" class="modal-backdrop" style="display:none;"></div>


  <!-- (conteúdo igual ao protótipo anterior) -->
<!-- CONTACTOS -->
<section id="contact" class="wrap contact">
  <h2 data-i18n="contact.title">Contactos</h2>

  <div class="contact-grid">
    <!-- Lado A: informação -->
    <div class="contact-card">
      <ul class="contact-list">
  <!-- Telefone -->
  <li>
    <i class="ico ico--tel">
      <!-- ícone telefone -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1.5 1.5 0 0 1 1.5-.37 12 12 0 0 0 3.8.62 1.5 1.5 0 0 1 1.5 1.5V20a1.5 1.5 0 0 1-1.5 1.5A17.5 17.5 0 0 1 3 7.5 1.5 1.5 0 0 1 4.5 6H7a1.5 1.5 0 0 1 1.5 1.5c0 1.3.21 2.6.62 3.8a1.5 1.5 0 0 1-.37 1.5z" fill="currentColor"/></svg>
    </i>
    <div class="label">
      <span data-i18n="contact.phone.label">Telefone</span>
      <strong><a class="chip" href="tel:+351964616199">+351 964 616 199</a></strong>
    </div>
  </li>

  <!-- E-mail (Gmail oficial) -->
  <li>
    <i class="ico brand"><img src="Gmail-Logo.png" alt="Gmail"></i>
    <div class="label">
      <span>E-mail</span>
      <strong><a class="chip" href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a></strong>
    </div>
  </li>

  <!-- WhatsApp (vais trocar pelo teu logótipo/ícone) -->
  <li>
    <i class="ico brand"><img src="whatsapp-icon.jpg" alt="WhatsApp"></i>
    <div class="label">
      <span>WhatsApp</span>
      <strong><a class="chip" target="_blank" rel="noopener"
        href="https://wa.me/351964616199?text=Olá%20César!%20Gostava%20de%20marcar%20um%20trilho.">+351 964 616 199</a></strong>
    </div>
  </li>

  <!-- Instagram -->
  <li>
    <i class="ico brand"><img src="instagram-logo.png" alt="Instagram"></i>
    <div class="label">
      <span>Instagram</span>
      <strong>@hortawithcesar</strong>
    </div>
    <a class="chip" target="_blank" rel="noopener" 
   href="https://www.instagram.com/horta.with.cesar"
   data-i18n="contact.btn.open">
  Abrir
</a>
  </li>

  <!-- Base -->
  <li>
    <i class="ico ico--map" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M12 22s7-7.06 7-12a7 7 0 1 0-14 0c0 4.94 7 12 7 12z" fill="currentColor"/><circle cx="12" cy="10" r="2" fill="#fff"/></svg>
    </i>
    <div class="label">
      <span data-i18n="contact.base.label">Base</span>
      <strong>Horta · Ilha do Faial, Açores</strong>
    </div>
    <a class="chip" target="_blank" rel="noopener" 
   href="https://maps.google.com/?q=Horta,+Faial,+Açores"
   data-i18n="contact.btn.map">
  Ver no mapa
</a>

  </li>

  <!-- Horário -->
  <li>
    <i class="ico ico--clock" aria-hidden="true">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
    </i>
    <div class="label">
      <span data-i18n="contact.hours.label">Horário</span>
      <strong>Seg-Dom · 08h-20h </strong>
    </div>
  </li>
</ul>


      <p class="small" style="margin-top:8px" data-i18n="contact.privacy.note">
  contactos usados apenas para responder e gerir marcações.
  <a href="#" class="link js-open-privacy" data-i18n="contact.privacy.link">
    Política de Privacidade.
  </a>
</p>
</div>

   <!-- Lado B: fotos agrupadas -->
<div class="contact-media">
  <figure class="contact-photo">
    <img src="foto-contacto.jpg"
         onerror="this.onerror=null;this.src='foto-contacto.jpg';"
         alt="César, guia local na Horta">
    <figcaption class="photo-caption-below" data-i18n="contact.photo.main">Horta with César</figcaption>
  </figure>

  <figure class="contact-photo contact-photo--secondary">
    <img src="Foto.Pico"
         onerror="this.onerror=null;this.src='Foto.Pico.jpg';"
         alt="Pico visto do Faial ao pôr do sol">
    <figcaption class="photo-caption-below" data-i18n="contact.photo.pico">O paraíso tem nome....</figcaption>

  </figure>
</div>

</section>
<!-- Botões fixos: WhatsApp + Reservar -->
<div class="floating-actions">
  <!-- WhatsApp geral -->
  <a
    href="https://wa.me/351964616199?text=Olá%20César!%20Quero%20informação%20sobre%20as%20tours%20Horta%20with%20César."
    class="fab fab-whatsapp"
    target="_blank"
    rel="noopener noreferrer"
    aria-label="Contactar via WhatsApp">
    <img src="whatsapp-icon.jpg" alt="WhatsApp">
  </a>

  <!-- Reservar (abre modal de reserva) -->
  <button
  type="button"
  class="fab fab-reserve js-open-booking"
  aria-label="Efetuar reserva"
  data-i18n="trail.btn.reserve">
  Reservar
</button>
</div>

  <footer>
    <div class="wrap">
      <img src="logotipo1.png" alt="Horta with César logo" style="height:130px;margin-top:15px" />
      <div class="small">© <span id="year"></span> Horta with César · Faial, Açores — PT/EN</div>
    </div>
    <div class="small">
<a href="https://www.livroreclamacoes.pt/inicio" class="link" target="_blank" data-i18n="footer.complaints">Livro de Reclamações</a> ·
<a href="#" class="link js-open-cancel" data-i18n="footer.cancel">Política de Cancelamento</a> ·
<a href="#" class="link js-open-privacy" data-i18n="footer.privacy">Política de Privacidade</a>

</div>

  </footer>

  <!-- 🔽 MODAL “VER CONDIÇÕES” -->
<div class="modal-backdrop" id="cond-modal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="cond-title">
    <header>
      <div>
        <h3 id="cond-title" data-i18n="cond.title">Condições — Trilho</h3>
        <div class="muted" id="cond-sub" data-i18n="cond.subtitle">Preços, seguros e termos</div>
      </div>
      <button class="close-x" id="cond-close" aria-label="Fechar">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
       fill="none" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
       style="width:18px;height:18px;">
    <line x1="18" y1="6" x2="6" y2="18"></line>
    <line x1="6" y1="6" x2="18" y2="18"></line>
  </svg>
</button>

    </header>

    <div class="grid">
      <!-- Caixa dinâmica por trilho -->
      <div class="box" id="cond-dynamic">
        <h4 id="cond-trail">Trilho</h4>
        <p id="cond-price" style="font-weight:700;margin:.2rem 0">Desde —</p>
        <p id="cond-brief" class="muted">…</p>
        <p class="muted" data-i18n="cond.note.price">💬 O preço por pessoa pode mudar consoante o número de pessoas, época e logística. Para grupos e parcerias, pede orçamento.</p>
      </div>

      <!-- Caixa legal comum -->
      <div class="box" id="cond-legal">
        <h4 data-i18n="cond.legal.title">Informação legal & condições</h4>
        <ul style="margin:0; padding-left:18px">
          <li data-i18n="cond.legal.transport.not.included"><strong>Preços não incluem transporte até ao trilho nem regresso.</strong></li>
          <li data-i18n="cond.legal.transport"><strong>Se precisares de transporte, posso tratar disso, mas o custo é diferente.</strong>Devem contactar previamente para confirmação de disponibilidade. Utilize o WhatsApp ou o formulário de reserva.</li>
          <li data-i18n="cond.legal.equipment"><strong>Equipamento & cuidados:</strong> usar <em>roupa e calçado adequados</em> ao trilho; aplicar <em>protetor solar</em>; levar <em>chapéu</em> e/ou <em>capa de chuva</em> conforme a previsão meteorológica. Recomenda-se ainda água suficiente, pequeno snack e telemóvel carregado.</li>
          <li data-i18n="cond.legal.insurance"><strong>Seguros:</strong> atividade coberta por <em>Seguro de Responsabilidade Civil</em> e <em>Seguro de Acidentes Pessoais</em> durante o passeio.</li>
          <li data-i18n="cond.legal.payment"><strong>Reserva & Pagamento:</strong>Taxa de rerva</strong> no ato da reserva (deduzido ao valor final). Restante no dia do passeio, antes do início.</li>
          <li data-i18n="cond.legal.cancel.client"><strong>Cancelamentos do cliente:</strong> reembolso total até <strong>48h</strong> antes. Após esse prazo, <strong>não há reembolso</strong>.</li>
          <li data-i18n="cond.legal.cancel.guide"><strong>Cancelamentos pelo guia/força maior:</strong> reembolso integral da taxa de Reserva ou remarcação, à escolha do cliente.</li>
          <li data-i18n="cond.legal.complaints"><strong>Livro de Reclamações:</strong> disponível online <a href="https://www.livroreclamacoes.pt/Inicio/" target="_blank" rel="noopener">aqui</a>.</li>
          <li data-i18n="cond.legal.rgpd"><strong>Dados pessoais (RGPD):</strong> usados apenas para gerir reservas e executar o serviço (base legal: contrato); conservação até 12 meses após o passeio; direitos: acesso/retificação/apagamento/limitação/oposição via <em>hortawithcesar@gmail.com</em>; sem cedência a terceiros salvo obrigação legal.</li>
        </ul>
      </div>
    </div>

    <div class="actions">
      <a id="cond-whatsapp" class="wa-stack" target="_blank" rel="noopener">
  <span class="wa-icon">
    <img src="whatsapp-icon.jpg" alt="WhatsApp">
  </span>
  <small data-i18n="cond.whatsapp">Fale comigo!</small>
</a>


      <button class="btn btn-ghost" id="cond-close-2" data-i18n="modal.close">Fechar</button>
    </div>
  </div>
</div>
<!-- 🔼 FIM DO MODAL -->

  <!-- ===== MODAL POLÍTICA DE PRIVACIDADE ===== -->
<div id="modal-privacy" class="modal-backdrop" style="display:none;">
  <div class="modal">
    <header>
      <h3 data-i18n="privacy.title">Política de Privacidade</h3>
      <button class="close-x" type="button" id="close-privacy" aria-label="Fechar">×</button>
    </header>

    <div class="modal-body">
      <h4 data-i18n="privacy.1.title">1. Introdução</h4>
      <p data-i18n="privacy.1.text">
        A Horta with César respeita a sua privacidade e está empenhada em proteger os seus dados pessoais. Esta política explica como recolhemos, usamos e salvaguardamos as suas informações.
      </p>

      <h4 data-i18n="privacy.2.title">2. Dados Recolhidos</h4>
      <p data-i18n="privacy.2.text">
        Recolhemos apenas os dados essenciais ao funcionamento dos nossos serviços, nomeadamente:
        nome, contacto (telefone/e-mail) e dados relacionados com a reserva. 
        Não partilhamos informações pessoais com terceiros sem o seu consentimento.
      </p>

      <h4 data-i18n="privacy.3.title">3. Finalidade do Tratamento</h4>
      <p data-i18n="privacy.3.text">
        Os dados são utilizados apenas para gerir reservas, prestar informações sobre os serviços e cumprir obrigações legais.
      </p>

      <h4 data-i18n="privacy.4.title">4. Conservação dos Dados</h4>
      <p data-i18n="privacy.4.text">
        Os dados pessoais são conservados apenas pelo tempo necessário à finalidade que motivou a recolha, ou conforme exigido por lei.
      </p>

      <h4 data-i18n="privacy.5.title">5. Direitos do Titular</h4>
      <p data-i18n="privacy.5.text">
        Pode, a qualquer momento, solicitar o acesso, retificação, eliminação, limitação ou portabilidade dos seus dados pessoais, através do e-mail:
        <a href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a>.
      </p>

      <h4 data-i18n="privacy.6.title">6. Segurança</h4>
      <p data-i18n="privacy.6.text">
        Implementamos medidas técnicas e organizativas adequadas para proteger os seus dados contra acesso não autorizado, perda ou destruição.
      </p>

      <h4 data-i18n="privacy.7.title">7. Cookies</h4>
      <p data-i18n="privacy.7.text">
        Este site utiliza cookies apenas para melhorar a experiência do utilizador. Pode desativar os cookies nas definições do seu navegador.
      </p>

      <h4 data-i18n="privacy.8.title">8. Alterações</h4>
      <p data-i18n="privacy.8.text">
        A Horta with César reserva-se o direito de atualizar esta política de privacidade sempre que necessário. Recomenda-se a consulta periódica desta página.
      </p>

      <h4 data-i18n="privacy.9.title">9. Contacto</h4>
      <p data-i18n="privacy.9.text">
        Para qualquer questão sobre esta política, contacte-nos em:
        <a href="mailto:hortawithcesar@gmail.com">hortawithcesar@gmail.com</a>.
      </p>
    </div>

    <div class="actions">
      <button class="btn btn-ghost" type="button" id="close-privacy-footer" data-i18n="modal.close">Fechar</button>
    </div> 
  </div>
</div>

  <!-- 🇵🇹 / 🇬🇧 Traduções base -->
  <script>
    const I18N = {
      pt: {
         // HEAD
    "head.title": "Horta with César-Walking tours & Trilhos no Faial, Açores",
    "head.description": "Walking tours e trilhos no Faial com guia local. City tour Horta, Entre Montes, Caldeira e mais. Reserve já!",

    // HEADER / NAV
    "header.location": "Faial • Açores",
    "nav.about": "Sobre mim",
    "nav.tours": "Trilhos",
    "nav.booking": "Reservas",
    "nav.contact": "Contactos",

    // SOBRE MIM
    "about.title": "Sobre mim",
"about.p1": "Sou o César, guia local e criador do projeto Horta with César. Desde cedo aprendi a valorizar as pequenas coisas, o som do vento na Caldeira, o cheiro da terra molhada e o sorriso de quem vive com o mar à porta.",
"about.p2": "Comecei na restauração, onde descobri o prazer de trabalhar com produtos locais e partilhar sabores genuínos. Foi ali que aprendi a valorizar a essência desta ilha atlântica, onde cada trilho conta uma história celebrando a natureza e as suas paisagens, que fazem dos Açores em geral, e do Faial em particular, um lugar único. Hoje, levo esse mesmo espírito para os trilhos e para cada história que conto.",
"about.p3": "Acredito que guiar é mais do que mostrar paisagens: é criar experiências autênticas que liguem pessoas e natureza.",
"about.p4": "Nos meus passeios, não há pressas. Caminha-se com tempo, conversa-se com naturalidade e ri-se com frequência. Se te juntares a mim, prometo-te uma experiência simples, sincera e cheia de alma, como a própria ilha.",


      "tours.title": "Trilhos & Walking Tours",
      "tours.cta": "Escolhe o trilho ideal para ti",
"trail.btn.reserve": "Reservar",
"trail.btn.conditions": "Ver condições",

"trail.city.title": "City Walk • Horta a pé",
"trail.city.meta1": "~3 km",
"trail.city.meta2": "~2h",
"trail.city.meta3": "Dificuldade: Fácil",
"trail.city.desc": "Centro histórico, colónias, igrejas antigas... paragens fotográficas e comércio local.",

"trail.entre.title": "Entre Montes (Horta)",
"trail.entre.meta1": "~3.5 km",
"trail.entre.meta2": "▲ +120 m",
"trail.entre.meta3": "~2h30",
"trail.entre.meta4": "Dificuldade: Fácil / Moderado",
"trail.entre.desc": "Ideal para Natureza e História. Preço base para 1 pessoa. Ponto de encontro Peter Cafe Sport.",

"trail.neptuno.title": "Miradouro do Neptuno",
"trail.neptuno.meta1": "~3 km",
"trail.neptuno.meta2": "▲ +50 m",
"trail.neptuno.meta3": "~1h30",
"trail.neptuno.meta4": "Dificuldade: Fácil",
"trail.neptuno.desc": "Passeio ideal para fotografia e vistas costeiras.",

"trail.per.title": "Caldeira — perímetro",
"trail.per.meta1": "~8 km",
"trail.per.meta2": "▲ +200 m",
"trail.per.meta3": "~3h",
"trail.per.meta4": "Dificuldade: Fácil / Moderado",
"trail.per.desc": "Trilho icónico com vistas 360º, fauna e flora endémica.",

"trail.desc.title": "Caldeira Descida • Santuário da fauna local",
"trail.desc.meta1": "~3 km",
"trail.desc.meta2": "~3h30",
"trail.desc.meta3": "Dificuldade: Moderado / Difícil",
"trail.desc.desc": "Zona protegida. Requer guia certificado. Paisagens fantásticas.",

"trail.capelinhos.title": "Capelo → Capelinhos",
"trail.capelinhos.meta1": "5.5 km",
"trail.capelinhos.meta2": "▲ +400 m",
"trail.capelinhos.meta3": "~3h",
"trail.capelinhos.meta4": "Dificuldade: Moderado / Difícil",
"trail.capelinhos.desc": "Trilho icónico que termina no Vulcão dos Capelinhos, com paragem no Farol dos Capelinhos. Paisagens áridas com uma história única.",

"trail.rocha.title": "Rocha da Fajã",
"trail.rocha.difficulty": "Dificuldade: Moderado",
"trail.rocha.desc": "Trilho circular entre formações vulcânicas e falésias, com vistas sobre a areia negra e vegetação costeira do Faial",

"trail.farol.title": "Farol da Ribeirinha",
"trail.farol.difficulty": "Dificuldade: Difícil",
"trail.farol.desc": "Subidas exigentes até ao antigo farol destruído pelo sismo de 1998.",

"trail.braca.title": "Miradouro da Braça",
"trail.braca.difficulty": "Dificuldade: Fácil / Moderado",
"trail.braca.desc": "Trilho circular com vistas magníficas sobre a ilha e oceano.",

"trail.levada.title": "Levada • Cabeço dos Trinta",
"trail.levada.difficulty": "Dificuldade: Fácil / Moderado",
"trail.levada.desc": "Trilho que segue a antiga levada que distribuía água pela ilha.",

      "booking.title": "Efetuar reserva",
"booking.subtitle": "Preenche o pedido abaixo. O trilho selecionado aparece em 'Trilho'.",

"booking.label.name": "Nome",
"booking.label.country": "País",
"booking.ph.country": "Seleciona o teu país",
"booking.label.email": "E-mail",
"booking.label.date": "Data",
"booking.label.people": "Número de pessoas",
"booking.label.trail": "Trilho",
"booking.label.period": "Período do dia",
"booking.label.notes": "Observações",
"booking.label.availability": "Disponibilidade",
"booking.availability.unknown": "—",
"booking.ph.period": "Selecionar...",
"booking.period.morning": "Manhã",
"booking.period.afternoon": "Tarde",
"booking.period.other": "Outro",

"booking.groups.note": "Para grupos acima de 8 pessoas, contacte antes de efetuar a reserva.",

"booking.btn.submit": "Enviar pedido",
"contact.title": "Contactos",

"contact.phone.label": "Telefone",
"contact.email.label": "E-mail",
"contact.whatsapp.label": "WhatsApp",
"contact.instagram.label": "Instagram",
"contact.base.label": "Base",
"contact.hours.label": "Horário",

"contact.hours.value": "Todos os dias · 08:00 — 20:00",

"contact.btn.reserve-site": "Reservar no site",

"contact.privacy.note": "Contactos usados apenas para responder e gerir marcações.",
"contact.privacy.link": "Política de Privacidade.",

"contact.photo.main": "Horta with César",
"contact.photo.pico": "O paraíso tem nome....",
"cond.title": "Condições — Trilho",
"cond.subtitle": "Preços, seguros e termos",

"cond.note.price": "💬 O preço por pessoa pode mudar consoante o número de pessoas, época e logística. Para grupos e parcerias, pede orçamento.",

"cond.legal.title": "Informação legal & condições",
"cond.legal.transport.not.included": "Preços não incluem transporte até ao trilho nem regresso.",
"cond.legal.transport": "Se precisares de transporte, posso tratar disso, mas o custo é diferente. Devem contactar previamente para confirmação de disponibilidade. Utilize o WhatsApp ou o formulário de reserva.",
"cond.legal.equipment": "Equipamento & cuidados: usar roupa e calçado adequados ao trilho; aplicar protetor solar; levar chapéu e/ou capa de chuva conforme a previsão meteorológica. Recomenda-se ainda água suficiente, pequeno snack e telemóvel carregado.",
"cond.legal.insurance": "Seguros: atividade coberta por Seguro de Responsabilidade Civil e Seguro de Acidentes Pessoais durante o passeio.",
"cond.legal.payment": "Reserva & Pagamento: Taxa de Reserva no ato da reserva (deduzido ao valor final). Restante no dia do passeio, antes do início.",
"cond.legal.cancel.client": "Cancelamentos do cliente: reembolso total até 48h antes. Após esse prazo, não há reembolso.",
"cond.legal.cancel.guide": "Cancelamentos pelo guia/força maior: reembolso integral da Taxa de Reserva ou remarcação, à escolha do cliente.",
"cond.legal.complaints": "Livro de Reclamações: disponível online em www.livroreclamacoes.pt.",
"cond.legal.rgpd": "Dados pessoais (RGPD): usados apenas para gerir reservas e executar o serviço (base legal: contrato); conservação até 12 meses após o passeio; direitos: acesso, retificação, apagamento, limitação e oposição via hortawithcesar@gmail.com; sem cedência a terceiros salvo obrigação legal.",

"cond.whatsapp": "Fale comigo!",
"modal.close": "Fechar",
"cancel.title": "Política de Cancelamento",

"cancel.p1": "• A Taxa de Reserva é reembolsável em cancelamentos feitos até 48h antes do início do trilho.",
"cancel.p2": "• Em cancelamentos com menos de 48h, ou em caso de não comparência, a Taxa de Reserva não é devolvida.",
"cancel.p3": "• Caso o passeio seja cancelado por motivos de segurança, condições meteorológicas adversas ou outra decisão do guia, a Taxa de Reserva será reembolsada na totalidade ou poderá ser reagendado, conforme a tua preferência e disponibilidade.",
"cancel.p4": "• Alterações de data e horário estão sempre sujeitas à disponibilidade do calendário.",

"cancel.link": "Política de Cancelamento",
"privacy.title": "Política de Privacidade",

"privacy.1.title": "1. Introdução",
"privacy.1.text": "A Horta with César respeita a sua privacidade e está empenhada em proteger os seus dados pessoais. Esta política explica como recolhemos, usamos e salvaguardamos as suas informações.",

"privacy.2.title": "2. Dados Recolhidos",
"privacy.2.text": "Recolhemos apenas os dados essenciais ao funcionamento dos nossos serviços, nomeadamente: nome, contacto (telefone/e-mail) e dados relacionados com a reserva. Não partilhamos informações pessoais com terceiros sem o seu consentimento.",

"privacy.3.title": "3. Finalidade do Tratamento",
"privacy.3.text": "Os dados são utilizados apenas para gerir reservas, prestar informações sobre os serviços e cumprir obrigações legais.",

"privacy.4.title": "4. Conservação dos Dados",
"privacy.4.text": "Os dados pessoais são conservados apenas pelo tempo necessário à finalidade que motivou a recolha, ou conforme exigido por lei.",

"privacy.5.title": "5. Direitos do Titular",
"privacy.5.text": "Pode, a qualquer momento, solicitar o acesso, retificação, eliminação, limitação ou portabilidade dos seus dados pessoais, através do e-mail: hortawithcesar@gmail.com.",

"privacy.6.title": "6. Segurança",
"privacy.6.text": "Implementamos medidas técnicas e organizativas adequadas para proteger os seus dados contra acesso não autorizado, perda ou destruição.",

"privacy.7.title": "7. Cookies",
"privacy.7.text": "Este site utiliza cookies apenas para melhorar a experiência do utilizador. Pode desativar os cookies nas definições do seu navegador.",

"privacy.8.title": "8. Alterações",
"privacy.8.text": "A Horta with César reserva-se o direito de atualizar esta política de privacidade sempre que necessário. Recomenda-se a consulta periódica desta página.",

"privacy.9.title": "9. Contacto",
"privacy.9.text": "Para qualquer questão sobre esta política, contacte-nos em: hortawithcesar@gmail.com.",

"privacy.link": "Política de Privacidade",
"footer.complaints": "Livro de Reclamações",
"footer.cancel": "Política de Cancelamento",
"footer.privacy": "Política de Privacidade",
"booking.btn.send": "Enviar pedido",
"booking.btn.reserve": "Efetuar reserva",
"booking.subtitle.default": "Preenche o pedido abaixo. O trilho selecionado aparece em \"Trilho\".",
"booking.subtitle.noTrail": "Seleciona um trilho abaixo.",
"booking.subtitle.prefix": "Estás a reservar o trilho:",
"booking.avail.unavailable": "Indisponível",
"booking.avail.both": "Disponível: manhã e tarde",
"booking.avail.morning": "Disponível: manhã",
"booking.avail.afternoon": "Disponível: tarde",
"booking.avail.error": "Não foi possível verificar",
"booking.ph.trail": "Seleciona um trilho",
"booking.ph.name": "O teu nome completo",
"booking.ph.email": "nome@exemplo.com",
"booking.ph.people": "1",
"booking.ph.date": "dd/mm/aaaa",
"booking.ph.period": "Selecionar...",
"booking.ph.notes": "Preferências, restrições, horários...",
"cond.title": "Condições",
"cond.sub": "Preços, seguros e termos",
"cond.price.from": "Desde",
"contact.btn.open": "Abrir",
"contact.btn.map": "Ver no mapa",
"booking.warn.group8": "Para grupos de 8 ou mais pessoas, deve contactar primeiro através do botão "Enviar Pedido"",


        "rv.title": "Resumo da reserva",
        "rv.label.trail": "Trilho",
        "rv.label.people": "Nº de pessoas",
        "rv.label.date": "Data",
        "rv.label.period": "Período",
        "rv.label.total": "Total estimado",
        "rv.note.total": "Valor calculado com base no trilho e nº de pessoas. Poderá ajustar consoante logística.",
        "rv.label.deposit": "Taxa de Reserva",
        "rv.note.deposit.perPax": "A taxa de reserva é calculada com base no número de pessoas.",
        "rv.note.deposit.1": "Deduzido ao valor final.",
        "rv.note.deposit.cancel": "Política de Cancelamento",
        "rv.note.deposit.2": "Ao confirmar a reserva, assume que leu e concorda com as condições gerais do serviço e com a política de privacidade do site.",
        "rv.btn.confirm": "Confirmar reserva",
        "rv.btn.close": "Fechar",
      },

      en: {
         // HEAD
    "head.title": "Horta with César-Walking tours & Hiking trails in Faial, Azores",
    "head.description": "Walking tours and hikes in Faial with a local guide. Horta city tour, Entre Montes, Caldeira and more. Book now!",

    // HEADER / NAV
    "header.location": "Faial • Azores",
    "nav.about": "About me",
    "nav.tours": "Trails",
    "nav.booking": "Booking",
    "nav.contact": "Contacts",

    // ABOUT
    "about.title": "About me",
    "about.p1": "I'm César, a local guide and creator of the Horta with César project. Since I was young, I've learned to value the small things: the sound of the wind in the Caldeira, the smell of wet earth and the smile of those who live with the ocean at their doorstep.",
"about.p2": "I started in restaurants, where I discovered the joy of working with local products and sharing genuine flavours. That’s where I learned to value the essence of this Atlantic island, where every trail tells a story that celebrates nature and its landscapes, which make the Azores in general, and Faial in particular, such a unique place. Today, I bring that same spirit to the trails and to every story I tell.",
"about.p3": "I believe guiding is more than showing landscapes: it’s about creating authentic experiences that connect people and nature.",
"about.p4": "On my walks, there is no rush. We walk with time, talk naturally and laugh often. If you decide to join me, I promise you a simple, honest experience, full of soul – just like the island itself.",

        "tours.title": "Trails & Walking Tours",
        "tours.cta": "Choose the ideal trail for you",
"trail.btn.reserve": "Book now",
"trail.btn.conditions": "See conditions",

"trail.city.title": "City Walk • Horta on foot",
"trail.city.meta1": "~3 km",
"trail.city.meta2": "~2h",
"trail.city.meta3": "Difficulty: Easy",
"trail.city.desc": "Historic center, colonies, old churches, marina… with photo stops and local shops.",

"trail.entre.title": "Entre Montes (Horta)",
"trail.entre.meta1": "~3.5 km",
"trail.entre.meta2": "▲ +120 m",
"trail.entre.meta3": "~2h30",
"trail.entre.meta4": "Difficulty: Easy / Moderate",
"trail.entre.desc": "Ideal for Nature and History lovers. Base price for 1 person. Meeting point: Peter Café Sport.",

"trail.neptuno.title": "Neptuno Viewpoint",
"trail.neptuno.meta1": "~3 km",
"trail.neptuno.meta2": "▲ +50 m",
"trail.neptuno.meta3": "~1h30",
"trail.neptuno.meta4": "Difficulty: Easy",
"trail.neptuno.desc": "Perfect for photography and coastal views.",

"trail.per.title": "Caldeira — perimeter",
"trail.per.meta1": "~8 km",
"trail.per.meta2": "▲ +200 m",
"trail.per.meta3": "~3h",
"trail.per.meta4": "Difficulty: Easy / Moderate",
"trail.per.desc": "Iconic trail with 360º views, endemic fauna and flora.",

"trail.desc.title": "Caldeira Descent • Local wildlife sanctuary",
"trail.desc.meta1": "~3 km",
"trail.desc.meta2": "~3h30",
"trail.desc.meta3": "Difficulty: Moderate / Hard",
"trail.desc.desc": "Protected area. Requires certified guide. Stunning scenery.",

"trail.capelinhos.title": "Capelo → Capelinhos",
"trail.capelinhos.meta1": "5.5 km",
"trail.capelinhos.meta2": "▲ +400 m",
"trail.capelinhos.meta3": "~3h",
"trail.capelinhos.meta4": "Difficulty: Moderate / Hard",
"trail.capelinhos.desc":  "Iconic trail that ends at the Capelinhos Volcano, with a stop at the Capelinhos Lighthouse. Arid landscapes with a unique history.",

"trail.rocha.title": "Rocha da Fajã",
"trail.rocha.difficulty": "Difficulty: Moderate",
"trail.rocha.desc": "Circular trail between volcanic formations and cliffs.",

"trail.farol.title": "Farol da Ribeirinha",
"trail.farol.difficulty": "Difficulty: Hard",
"trail.farol.desc": "Steep ascents up to the lighthouse destroyed in the 1998 earthquake.",

"trail.braca.title": "Braça Viewpoint",
"trail.braca.difficulty": "Difficulty: Easy / Moderate",
"trail.braca.desc": "Circular trail with stunning views of the island and ocean.",

"trail.levada.title": "Levada • Cabeço dos Trinta",
"trail.levada.difficulty": "Difficulty: Easy / Moderate",
"trail.levada.desc": "Trail following the old levada that carried water across the island.",

          "booking.title": "Book a tour",
"booking.subtitle": "Fill in the form below. The selected trail appears in 'Trail'.",

"booking.label.name": "Name",
"booking.label.country": "Country",
"booking.ph.country": "Select your country",        
"booking.label.email": "E-mail",
"booking.label.date": "Date",
"booking.label.people": "Number of people",
"booking.label.trail": "Trail",
"booking.label.period": "Time of day",
"booking.label.notes": "Notes",
"booking.label.availability": "Availability",
"booking.availability.unknown": "—",
"booking.period.morning": "Morning",
"booking.period.afternoon": "Afternoon",
"booking.period.other": "Other",

"booking.groups.note": "For groups over 8 people, please contact us before booking.",

"booking.btn.submit": "Send request",

        "contact.title": "Contacts",

"contact.phone.label": "Phone",
"contact.email.label": "E-mail",
"contact.whatsapp.label": "WhatsApp",
"contact.instagram.label": "Instagram",
"contact.base.label": "Base",
"contact.hours.label": "Hours",

"contact.hours.value": "Every day · 08:00 — 20:00",

"contact.btn.reserve-site": "Book on the website",

"contact.privacy.note": "Your contact details are used only to reply and manage bookings.",
"contact.privacy.link": "Privacy Policy.",

"contact.photo.main": "Horta with César",
"contact.photo.pico": "Paradise has a name....",
"cond.title": "Conditions — Trail",
"cond.subtitle": "Prices, insurance and terms",

"cond.note.price": "💬 The price per person may change depending on group size, season and logistics. For groups and partnerships, ask for a quote.",

"cond.legal.title": "Legal information & conditions",
"cond.legal.transport.not.included": "Prices do not include transport to the trail or return.",
"cond.legal.transport": "Please get in touch in advance to confirm availability for transport, WhatsApp or booking form both work",
"cond.legal.equipment": "Equipment & care: wear suitable clothing and footwear for the trail; use sunscreen; bring a hat and/or rain jacket according to the forecast. We also recommend enough water, a small snack and a charged phone.",
"cond.legal.insurance": "Insurance: activity covered by Civil Liability Insurance and Personal Accident Insurance during the tour.",
"cond.legal.payment": "Booking & Payment: Reservation Fee when booking (deducted from the final price). Remaining amount on the day of the tour, before starting.",
"cond.legal.cancel.client": "Client cancellations: full refund up to 48h before the start. After that, no refund.",
"cond.legal.cancel.guide": "Cancellations by the guide / force majeure: full refund of the deposit or rescheduling, as you prefer.",
"cond.legal.complaints": "Complaints Book: available online at www.livroreclamacoes.pt.",
"cond.legal.rgpd": "Personal data (GDPR): used only to manage bookings and provide the service (legal basis: contract); stored up to 12 months after the tour; rights: access, rectification, erasure, restriction and objection via hortawithcesar@gmail.com; no sharing with third parties except when legally required.",

"cond.whatsapp": "Chat with me!",
"modal.close": "Close",
"cancel.title": "Cancellation Policy",

"cancel.p1": "• The Reservation Fee is refundable for cancellations made up to 48h before the start of the trail.",
"cancel.p2": "• For cancellations with less than 48h notice, or in case of no-show, the deposit is not refunded.",
"cancel.p3": "• If the tour is cancelled for safety reasons, bad weather or any decision by the guide, the deposit will be fully refunded or the tour may be rescheduled, according to your preference and availability.",
"cancel.p4": "• Changes to date and time are always subject to calendar availability.",

"cancel.link": "Cancellation Policy",
"privacy.title": "Privacy Policy",

"privacy.1.title": "1. Introduction",
"privacy.1.text": "Horta with César respects your privacy and is committed to protecting your personal data. This policy explains how we collect, use and safeguard your information.",

"privacy.2.title": "2. Data Collected",
"privacy.2.text": "We only collect data essential for providing our services, namely: name, contact details (phone/e-mail) and information related to the booking. We do not share personal information with third parties without your consent.",

"privacy.3.title": "3. Purpose of Processing",
"privacy.3.text": "Your data is used only to manage bookings, provide information about the services and comply with legal obligations.",

"privacy.4.title": "4. Data Retention",
"privacy.4.text": "Personal data is kept only for as long as necessary for the purpose for which it was collected, or as required by law.",

"privacy.5.title": "5. Data Subject Rights",
"privacy.5.text": "You may, at any time, request access, rectification, erasure, restriction or portability of your personal data by e-mailing: hortawithcesar@gmail.com.",

"privacy.6.title": "6. Security",
"privacy.6.text": "We implement appropriate technical and organisational measures to protect your data against unauthorised access, loss or destruction.",

"privacy.7.title": "7. Cookies",
"privacy.7.text": "This website uses cookies only to improve the user experience. You can disable cookies in your browser settings.",

"privacy.8.title": "8. Changes",
"privacy.8.text": "Horta with César reserves the right to update this privacy policy whenever necessary. You are advised to review this page periodically.",

"privacy.9.title": "9. Contact",
"privacy.9.text": "For any questions about this policy, please contact us at: hortawithcesar@gmail.com.",

"privacy.link": "Privacy Policy",
"footer.complaints": "Complaints Book",
"footer.cancel": "Cancellation Policy",
"footer.privacy": "Privacy Policy",
"booking.btn.send": "Send request",
"booking.btn.reserve": "Confirm reservation",
"booking.subtitle.default": "Fill in the form below. The selected trail appears in \"Trail\".",
"booking.subtitle.noTrail": "Select a trail below.",
"booking.subtitle.prefix": "You are booking the trail:",
"booking.avail.unavailable": "Unavailable",
"booking.avail.both": "Available: morning and afternoon",
"booking.avail.morning": "Available: morning",
"booking.avail.afternoon": "Available: afternoon",
"booking.avail.error": "Could not check availability",
"booking.ph.trail": "Select a trail",
"booking.ph.name": "Your full name",
"booking.ph.email": "name@example.com",
"booking.ph.people": "1",
"booking.ph.date": "dd/mm/yyyy",
"booking.ph.period": "Select...",
"booking.ph.notes": "Preferences, restrictions, schedule...",
"cond.title": "Conditions",
"cond.sub": "Prices, insurance and terms",
"cond.price.from": "From",
"contact.btn.open": "Open",
"contact.btn.map": "View on map",
"booking.warn.group8": "For groups of 8 or more people, please contact me first using the "Send Request"",


        "rv.title": "Reservation summary",
        "rv.label.trail": "Trail",
        "rv.label.people": "Number of people",
        "rv.label.date": "Date",
        "rv.label.period": "Time of day",
        "rv.label.total": "Estimated total",
        "rv.note.total": "Amount calculated based on the trail and number of people. May vary depending on logistics.",
        "rv.label.deposit": "Reservation Fee",
        "rv.note.deposit.perPax": "The reservation fee is calculated based on the number of people.",
        "rv.note.deposit.1": "Deducted from the final price.",
        "rv.note.deposit.cancel": "Cancellation Policy",
        "rv.note.deposit.2": "By confirming the reservation, you agree to the general service conditions and the website's privacy policy.",
        "rv.btn.confirm": "Confirm reservation",
        "rv.btn.close": "Close",
      }
    };
    window.I18N = I18N;

    function setLang(lang) {
      const dict = I18N[lang] || I18N.pt;
      document.documentElement.lang = lang;
      localStorage.setItem('hwc_lang', lang);

      // elementos de texto
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) {
          el.textContent = dict[key];
        }
        // placeholders
document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
  const key = el.getAttribute('data-i18n-placeholder');
  if (dict[key]) el.setAttribute('placeholder', dict[key]);
});

      });

      // metas / content
      document.querySelectorAll('[data-i18n-content]').forEach(el => {
        const key = el.getAttribute('data-i18n-content');
        if (dict[key]) {
          el.setAttribute('content', dict[key]);
        }
      });

      // botões PT / EN ativos
      document.getElementById('btn-pt')?.classList.toggle('active', lang === 'pt');
      document.getElementById('btn-en')?.classList.toggle('active', lang === 'en');
    }

  
    // aplica a língua guardada ou PT por defeito, depois de a página estar toda carregada
const savedLang = localStorage.getItem('hwc_lang') || 'pt';
window.addEventListener('DOMContentLoaded', () => {
  setLang(savedLang);
});

  </script>

        
  <script>
  // reveal on scroll
  const els = document.querySelectorAll('.reveal');
  const obs = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target); }
    });
  },{ threshold:.2 });
  els.forEach(el=>obs.observe(el));
</script>
        
<script>
  // Smooth-scroll para reservas + preencher o "Trilho"
  const reserveButtons = document.querySelectorAll('.js-reserve');
  const bookingSection = document.querySelector('#booking');
  const trailInput = document.querySelector('#trail');
  const subtitle = document.querySelector('#booking-subtitle');

  reserveButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const trailName = btn.getAttribute('data-trail') || 'Trilho';
      if (trailInput) {
        trailInput.value = trailName;
      }
      if (subtitle) {
        subtitle.textContent = `Trilho selecionado: ${trailName}`;
      }
      bookingSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // foca o "Nome" após o scroll
      setTimeout(() => {
        document.querySelector('#name')?.focus();
      }, 500);
    });
  });

  // Ajusta a data mínima para hoje
  const today = new Date().toISOString().split('T')[0];
  document.querySelector('#date_from')?.setAttribute('min', today);
  document.querySelector('#date_to')?.setAttribute('min', today);

  // Validar que fim >= início (se preenchido)
  const dateFrom = document.querySelector('#date_from');
  const dateTo = document.querySelector('#date_to');

  function syncDateLimits(){
    if (!dateFrom || !dateTo) return;
    dateTo.min = dateFrom.value || today;
    if (dateTo.value && dateTo.value < dateTo.min) {
      dateTo.value = dateTo.min;
    }
  }
  dateFrom?.addEventListener('change', syncDateLimits);
  syncDateLimits();
</script>

<script>
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 20) header.classList.add('scrolled');
    else header.classList.remove('scrolled');
  });
</script>


  <script>
(function(){
  const modal   = document.getElementById('cond-modal');
  const close1  = document.getElementById('cond-close');
  const close2  = document.getElementById('cond-close-2');
  const title   = document.getElementById('cond-title');
  const sub     = document.getElementById('cond-sub');
  const trailEl = document.getElementById('cond-trail');
  const priceEl = document.getElementById('cond-price');
  const briefEl = document.getElementById('cond-brief');
  const waBtn   = document.getElementById('cond-whatsapp');

  // abrir modal de condições
  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('.btn-conditions');
    if (!btn) return;
    e.preventDefault();

    const card      = btn.closest('.trail-card');
    const trail     = card?.dataset.trail     || 'Trilho';
    const priceFrom = card?.dataset.priceFrom || 'sob consulta';

    // idioma atual
    const lang = localStorage.getItem('hwc_lang') || 'pt';
    let brief  = card?.dataset.brief || 'Preço base para 1 pessoa. Para grupos, pede cotação.';
    if (lang === 'en' && card?.dataset.briefEn) {
      brief = card.dataset.briefEn;
    }

    const root = window.I18N || {};
    const dict = root[lang] || root.pt || {};

    // título (mantém o nome do trilho em PT)
    title.textContent = `${dict["cond.title"] || "Condições"} — ${trail}`;

    // subtítulo
    sub.textContent = dict["cond.sub"] || "Preços, seguros e termos";

    // nome do trilho (sem tradução)
    trailEl.textContent = trail;

    // "Desde / From"
    const priceFromLabel = dict["cond.price.from"] || "Desde";
    priceEl.textContent = `${priceFromLabel} ${priceFrom}`;

    // texto de detalhe
    briefEl.textContent = brief;

    // link do WhatsApp
    const msg = encodeURIComponent(`Olá César! Quero saber as condições/preço para: ${trail}.`);
    waBtn.href = `https://wa.me/351964616199?text=${msg}`;

    modal.classList.add('open');
    document.body.classList.add('modal-open');
   
    // força abrir no topo no iPhone
    modal.scrollTop = 0;
    const inner = modal.querySelector('.modal');
    if (inner) inner.scrollTop = 0;
  });

  function closeModal(){
    modal.classList.remove('open');
    document.body.classList.remove('modal-open');
  }

  [close1, close2].forEach(b => b && b.addEventListener('click', closeModal));

  // clicar fora fecha
  modal.addEventListener('click', (e)=>{
    if (e.target === modal) closeModal();
  });

  // tecla ESC fecha
  document.addEventListener('keydown', (e)=>{
    if (e.key === 'Escape' && modal.classList.contains('open')) {
      closeModal();
    }
  });
})();
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TouristInformationCenter",
  "name": "Horta with César",
  "areaServed": "Faial, Açores",
  "address": { "@type": "PostalAddress", "addressLocality": "Horta", "addressRegion": "Açores", "addressCountry": "PT" },
  "telephone": "+351964616199",
  "email": "hortawithcesar@gmail.com",
  "url": "https://hortawithcesar.github.io/",
  "sameAs": []
}
</script>

<script>
/* ===== Tabela de Preços Trilhos 2026 =====
   (conforme .data-trail e documento oficial) */

const PRICE_TABLE = {
  "City Walk • Horta a pé":             { type: "perPerson", tiers: [ { max:4, price:30 },  ] },
  "Entre Montes (Horta)":               { type: "perPerson", tiers: [ { max:4, price:40 }, { max:99, price:45 } ] },
  "Caldeira Descida • Santuário da fauna local": { type: "perGroup", tiers: [ { max:4, price:130 }, { max:99, price:90 } ] },
  "Caldeira — perímetro":               { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] },
  "Rocha da Fajã":                      { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] },
  "Farol da Ribeirinha":                { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:85 } ] },
  "Levadas ao Cabeço dos Trinta":       { type: "perPerson", tiers: [ { max:4, price:150 }, { max:99, price:120 } ] },
  "Capelo → Capelinhos ":               { type: "perPerson", tiers: [ { max:4, price:100 }, { max:99, price:90 } ] },
  "Miradouro do Neptuno":               { type: "perPerson", tiers: [ { max:4, price:35 }, { max:99, price:35 } ] },
  "Miradouro da Braça":                 { type: "perPerson", tiers: [ { max:4, price:90 }, { max:99, price:75 } ] }
};

const MIN_PAX = 1;         // mínimo de pessoas para reservar
const MAX_PAX = 7;         // máximo de possoas para reservar
  
function getPrice(trail, people) {
  const data = PRICE_TABLE[trail];
  if (!data) {
    return { onRequest: true };
  }

  // Encontrar a tier correta
  const t = data.tiers.find(x => people <= x.max) || data.tiers.at(-1);

  // Calcular total
  const total = (data.type === "perGroup")
    ? t.price
    : (t.price * people);

  return {
    total,
    unit: t.price,
    onRequest: false
  };
}


function eur(v){ return v == null ? "—" : v.toLocaleString('pt-PT',{style:'currency',currency:'EUR'}); }


</script>

<script>
/* ===== Disponibilidade por blocos (manhã/tarde) via Google Calendar ===== */
/* Requer: calendário público (livre/ocupado) + API key restrita ao teu domínio */

const GCAL_ID  = 'hortawithcesar@gmail.com';        // teu calendário
const GCAL_KEY = 'AIzaSyBJ79Q2R7X7tpzr8XnY3VCBcu6i45Cujc8'; // <-- substitui pela nova chave

// elementos já existentes no teu formulário
const $date  = document.getElementById('bk-date') || document.getElementById('date_from') || document.getElementById('date');
const $avail = document.getElementById('rv-availability');   // <— novo ID
const $pay   = document.getElementById('bk-pay');            // podes deixar assim mesmo, não faz mal

// (ajusta aqui os teus horários de trabalho se quiseres)
const MORNING = { hStart: 8,  hEnd: 12 };  // 08:00–12:00
const AFTERNOON = { hStart: 14, hEnd: 18 }; // 14:00–18:00

function ymd(d){ const p=n=>String(n).padStart(2,'0'); return `${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())}`; }
function toISOAt(d, h=0, m=0, s=0){
  const x = new Date(d.getFullYear(), d.getMonth(), d.getDate(), h, m, s);
  return x.toISOString();
}

// verifica sobreposição entre [a1,a2) e [b1,b2)
function overlaps(aStart, aEnd, bStart, bEnd){
  return aStart < bEnd && bStart < aEnd;
}

async function fetchDayEvents(yyyy_mm_dd){
  // janela do dia: [00:00, 24:00) hora local
  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const timeMin = toISOAt(day, 0, 0, 0);
  const endDay = new Date(Y, M-1, D+1);
  const timeMax = endDay.toISOString();

  const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(GCAL_ID)}/events`
    + `?key=${encodeURIComponent(GCAL_KEY)}`
    + `&timeMin=${encodeURIComponent(timeMin)}`
    + `&timeMax=${encodeURIComponent(timeMax)}`
    + `&singleEvents=true&orderBy=startTime`;

  const res = await fetch(url);
  if(!res.ok){ console.error('Calendar API', await res.text()); return []; }
  const data = await res.json();
  return data.items || [];
}

// devolve { morningFree, afternoonFree, allDayBusy }
async function checkDaySlots(yyyy_mm_dd){
  const events = await fetchDayEvents(yyyy_mm_dd);

  // intervalos do dia alvo
  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const morningStart = new Date(Y, M-1, D, MORNING.hStart, 0, 0);
  const morningEnd   = new Date(Y, M-1, D, MORNING.hEnd,   0, 0);
  const afternoonStart = new Date(Y, M-1, D, AFTERNOON.hStart, 0, 0);
  const afternoonEnd   = new Date(Y, M-1, D, AFTERNOON.hEnd,   0, 0);

  let morningBusy = false;
  let afternoonBusy = false;
  let allDayBusy = false;

  for(const ev of events){
    const sISO = ev.start?.dateTime || ev.start?.date;
    const eISO = ev.end?.dateTime   || ev.end?.date;
    if(!sISO || !eISO) continue;

    // all-day: start/end em formato 'YYYY-MM-DD'
    const isAllDay = (ev.start?.date && ev.end?.date);
    if(isAllDay){
      allDayBusy = true; break; // o dia todo indisponível
    }

    const s = new Date(sISO);
    const e = new Date(eISO);

    if(overlaps(s, e, morningStart, morningEnd))   morningBusy = true;
    if(overlaps(s, e, afternoonStart, afternoonEnd)) afternoonBusy = true;

    if(morningBusy && afternoonBusy) break;
  }

  return {
    morningFree: !morningBusy && !allDayBusy,
    afternoonFree: !afternoonBusy && !allDayBusy,
    allDayBusy
  };
}

// devolve { morningFree, afternoonFree, allDayBusy }
async function checkDaySlots(yyyy_mm_dd){
  const events = await fetchDayEvents(yyyy_mm_dd);

  const [Y,M,D] = yyyy_mm_dd.split('-').map(Number);
  const day = new Date(Y, M-1, D);
  const morningStart   = new Date(Y, M-1, D, MORNING.hStart,   0, 0);
  const morningEnd     = new Date(Y, M-1, D, MORNING.hEnd,     0, 0);
  const afternoonStart = new Date(Y, M-1, D, AFTERNOON.hStart, 0, 0);
  const afternoonEnd   = new Date(Y, M-1, D, AFTERNOON.hEnd,   0, 0);

  let morningBusy = false;
  let afternoonBusy = false;
  let allDayBusy = false;

  for (const ev of events){
    const sISO = ev.start?.dateTime || ev.start?.date;
    const eISO = ev.end?.dateTime   || ev.end?.date;
    if(!sISO || !eISO) continue;

    const isAllDay = (ev.start?.date && ev.end?.date);
    if(isAllDay){
      allDayBusy = true;
      break;
    }

    const s = new Date(sISO);
    const e = new Date(eISO);

    if (overlaps(s, e, morningStart,   morningEnd))   morningBusy   = true;
    if (overlaps(s, e, afternoonStart, afternoonEnd)) afternoonBusy = true;

    if (morningBusy && afternoonBusy) break;
  }

  return {
    morningFree:   !morningBusy   && !allDayBusy,
    afternoonFree: !afternoonBusy && !allDayBusy,
    allDayBusy
  };
}

// === Atualiza badge de disponibilidade ===
async function checkAvailability(){
  if (!$date || !$avail) return;

  const lang = localStorage.getItem('hwc_lang') || 'pt';
  const root = window.I18N || {};
  const dict = root[lang] || root.pt || {};

  const val = $date.value;
  if (!val){
    $avail.textContent = dict["booking.availability.unknown"] || '—';
    $avail.dataset.state = 'pending';
    $avail.setAttribute('data-i18n', 'booking.availability.unknown');
    $pay && ($pay.disabled = true);
    return;
  }

  try {
    const slots = await checkDaySlots(val);

    if (slots.allDayBusy) {
      $avail.textContent = dict["booking.avail.unavailable"] || 'Indisponível';
      $avail.dataset.state = 'busy';
      $avail.setAttribute('data-i18n', 'booking.avail.unavailable');
      $pay && ($pay.disabled = true);
      return;
    }

    if (slots.morningFree && slots.afternoonFree) {
      $avail.textContent = dict["booking.avail.both"] || 'Disponível: manhã e tarde';
      $avail.dataset.state = 'ok';
      $avail.setAttribute('data-i18n', 'booking.avail.both');
    } else if (slots.morningFree) {
      $avail.textContent = dict["booking.avail.morning"] || 'Disponível: manhã';
      $avail.dataset.state = 'ok';
      $avail.setAttribute('data-i18n', 'booking.avail.morning');
    } else if (slots.afternoonFree) {
      $avail.textContent = dict["booking.avail.afternoon"] || 'Disponível: tarde';
      $avail.dataset.state = 'ok';
      $avail.setAttribute('data-i18n', 'booking.avail.afternoon');
    } else {
      $avail.textContent = dict["booking.avail.unavailable"] || 'Indisponível';
      $avail.dataset.state = 'busy';
      $avail.setAttribute('data-i18n', 'booking.avail.unavailable');
    }
    } catch (err){
    console.error(err);
    $avail.textContent = dict["booking.avail.error"] || 'Não foi possível verificar';
    $avail.dataset.state = 'pending';
    $avail.setAttribute('data-i18n', 'booking.avail.error');
  }

  // Sempre que a disponibilidade muda, volta a validar o formulário
  if (typeof window.validateBooking === 'function') {
    window.validateBooking();
  }
}



$date && $date.addEventListener('change', checkAvailability);

</script>
<script>
(() => {
  // Controlo de Nº pax (+/-) no formulário principal
  const paxInput  = document.getElementById('people');
  const btnPaxDec = document.getElementById('pax-dec');
  const btnPaxInc = document.getElementById('pax-inc');

  function clampPax(value){
    if (!paxInput) return 1;
    const min = parseInt(paxInput.min || '1', 10);
    const max = parseInt(paxInput.max || '20', 10);
    return Math.min(max, Math.max(min, value || min));
  }
    function updateGroupWarning(pax) {
    const warn = document.getElementById('group-warning');
    if (!warn) return;
    warn.style.display = pax >= 8 ? 'block' : 'none';
  }

  function changePax(delta){
  if (!paxInput) return;

  const current = parseInt(
    paxInput.value || paxInput.placeholder || '1',
    10
  ) || 1;

  const next = clampPax(current + delta);
  paxInput.value = next;

  updateGroupWarning(next);

  // dispara eventos para o validateBooking voltar a correr
  paxInput.dispatchEvent(new Event('input', { bubbles: true }));
  paxInput.dispatchEvent(new Event('change', { bubbles: true }));
}


  if (btnPaxDec) btnPaxDec.addEventListener('click', () => changePax(-1));
  if (btnPaxInc) btnPaxInc.addEventListener('click', () => changePax(1));
  if (paxInput) { paxInput.addEventListener('input', () => {
  const v = parseInt(paxInput.value || paxInput.placeholder || '1', 10) || 1;
    updateGroupWarning(v);
    validateBooking();
  });

  // Estado inicial
  const start = parseInt(paxInput.value || paxInput.placeholder || '1', 10) || 1;
  updateGroupWarning(start);
}

})();
</script>

<!-- ===== Modal: Efectuar Reserva ===== -->
<div id="rv-modal" class="modal-backdrop" style="display:none">
  <div class="modal box" role="dialog" aria-modal="true" aria-labelledby="rv-title">
    <header class="modal__header">
      <h3 id="rv-title" class="h3" data-i18n="rv.title">Resumo da reserva</h3>
      <button id="rv-close" class="close-x" aria-label="Fechar">×</button>
    </header>

    <div class="modal__body rv-lock">
      <div class="reserve-grid">
        <div class="reserve-field">
          <label data-i18n="rv.label.trail">Trilho</label>
          <div id="rv-trail" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
          <label data-i18n="rv.label.people">Nº de pessoas</label>
          <div id="rv-people" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
          <label data-i18n="rv.label.date">Data</label>
          <div id="rv-date" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
          <label data-i18n="rv.label.period">Período</label>
          <div id="rv-period" class="rv-read">—</div>
        </div>

        <div class="reserve-field">
  <label data-i18n="rv.label.availability">Disponibilidade</label>
  <div id="rv-availability-m" class="rv-read">—</div>
</div>

        <div class="reserve-field reserve-field--full">
          <label data-i18n="rv.label.total">Total estimado</label>
          <div id="rv-total-m" class="amount">—</div>
          <small class="muted" data-i18n="rv.note.total">Valor calculado com base no trilho e nº de pessoas. Poderá ajustar consoante logística.</small>
        </div>

        <div class="reserve-field reserve-field--full">
          <label data-i18n="rv.label.deposit">Taxa de reserva</label>
          <div id="rv-deposit-m" class="amount amount-accent">—</div>
          <small class="muted">
            <span data-i18n="rv.note.deposit.perPax">
    A taxa de reserva é calculada com base no número de pessoas.</span>
            <span data-i18n="rv.note.deposit.1">Deduzido ao valor final.</span>
 <a href="#politica-cancelamento" class="link" id="open-cancel-policy" data-i18n="rv.note.deposit.cancel">
              Política de Cancelamento</a>.
            <span data-i18n="rv.note.deposit.2">
              Ao confirmar a reserva, assume que leu e concorda com as condições gerais do serviço e com a política de privacidade do site.
            </span>
        </div>
      </div>
    </div>

    <footer class="modal__footer actions">
      <a id="rv-pay-20" class="btn btn-primary" 
   target="_blank" rel="noopener" aria-disabled="true" data-i18n="rv.btn.confirm">
   Confirmar reserva
</a>


      <button id="rv-close-2" class="btn btn-ghost" type="button" data-i18n="rv.btn.close">Fechar</button>
    </footer>
  </div>
</div>

  <script>
(() => {
  // 1) LINKS SUMUP – um por nº de pessoas
  //    👉 Substitui cada URL pelo link que copias da app SumUp
  const SUMUP_LINKS = {
  1: "https://pay.sumup.com/b2c/QQVXB7N7",
  2: "https://pay.sumup.com/b2c/QCMFK19A",
  3: "https://pay.sumup.com/b2c/Q5ANRCGN",
  4: "https://pay.sumup.com/b2c/QOZBX4ER",
  5: "https://pay.sumup.com/b2c/QRMYCHDW",
  6: "https://pay.sumup.com/b2c/QQXYPV4S",
  7: "https://pay.sumup.com/b2c/QJLPXET3"
  };

  // 2) Valor fixo da taxa de reserva por pessoa (em €)
  const RES_FEE_PER_PAX = 15;

  const $    = (sel, ctx = document) => ctx.querySelector(sel);
  const text = el => ((el && el.textContent) || '').trim();

  

  // normaliza texto para comparar "disponivel" sem acentos
  function norm(s) {
    return (s || '')
      .toLowerCase()
      .normalize('NFD')
      .replace(/\p{Diacritic}/gu, '');
  }

  // "€ 123,45" -> 123.45
  function parseMoney(str) {
    if (!str || str === '—') return NaN;
    const s = String(str)
      .replace(/[^\d,.-]/g, '')
      .replace(/\.(?=\d{3}\b)/g, '')   // tira separadores de milhar
      .replace(',', '.');
    return parseFloat(s);
  }

  // Lê o formulário principal
    // Lê o formulário principal + calcula total/sinal
  function readBookingForm() {
    const trailEl   = $('#trail');
    const peopleEl  = $('#people');
    const dateEl    = $('#date_from');
    const periodSel = $('#period');

    const trail  = trailEl?.value || '—';
    const people = peopleEl?.value || '—';
    const date   = dateEl?.value || '—';
    const period = periodSel?.options?.[periodSel.selectedIndex]?.text || '—';

    // texto da badge de disponibilidade
    const availability = text($('#rv-availability')) || '—';

      // calcula total usando a PRICE_TABLE
  // e usa MIN_PAX como número mínimo de pessoas
  let totalStr = '—';
  let depositStr = '—';

  const peopleNum = parseInt(peopleEl?.value || '0', 10);
  if (trail && trail !== '—' && !isNaN(peopleNum) && peopleNum > 0 && PRICE_TABLE[trail]) {
    const priceInfo = getPrice(trail, peopleNum);
    if (!priceInfo.onRequest) {
      totalStr = eur(priceInfo.total);
      // aqui depositStr passa a significar "mínimo de pessoas"
      depositStr = String(MIN_PAX);
    }
  }

  return { trail, people, date, period, availability, totalStr, depositStr };
}


   // Disponibilidade ok se tiver data-state="ok" OU texto com “dispon”
  function isAvailabilityOK() {
    const badge = $('#rv-availability');
    if (!badge) return false;

    // se o calendário já marcou como OK
    if (badge.dataset.state === 'ok') return true;

    // fallback: se o texto contiver "disponível"
    return /dispon/i.test(norm(badge.textContent || ''));
  }

  // Helper para campos obrigatórios
  function fieldNotEmpty(sel) {
    const el = $(sel);
    return !!(el && String(el.value || '').trim());
  }

  // Valida campos para desbloquear o botão “Efetuar reserva”
  function validateBooking() {
    // ler directamente do formulário principal
    const trailVal  = $('#trail')?.value  || '';
    const peopleVal = $('#people')?.value || '';
    const dateVal   = $('#date_from')?.value || '';
    const periodVal = $('#period')?.value || '';

    const peopleNum = Number(peopleVal) || 0;

    const hasTrail   = trailVal.trim()  !== '';
    const hasDate    = dateVal.trim()   !== '';
    const hasPeriod  = periodVal.trim() !== '';
    const hasPeople  = peopleNum >= MIN_PAX && peopleNum <= 7; // >7 só “Enviar pedido”
    const hasAvail   = isAvailabilityOK();

    // novos obrigatórios
    const hasName    = fieldNotEmpty('#name');
    const hasEmail   = fieldNotEmpty('#email');
    const hasCountry = fieldNotEmpty('#country');

    // FINAL: todos obrigatórios excepto observações
    const ok = hasTrail && hasPeople && hasDate &&
               hasPeriod && hasAvail &&
               hasName && hasEmail && hasCountry;

    // botão "Efetuar reserva"
    const openBtn = $('#btn-open-reserve');
    if (openBtn) {
      // atributo disabled
      openBtn.disabled = !ok;

      // classes visuais
      openBtn.classList.toggle('btn-primary',  ok);
      openBtn.classList.toggle('btn-disabled', !ok);
      openBtn.classList.toggle('btn-ghost',    !ok);
    }

    // usado pelo openReserveModal()
    return { ok, hasTrail, hasPeople, hasDate, hasPeriod, hasAvail };
  }
  // Atualiza o resumo da reserva + botão de pagamento
  function syncReserveSummary() {
    const {
      trail,
      people,
      date,
      period,
      availability,
      totalStr
    } = readBookingForm();

    // Campos de texto no modal
    const elTrail  = $('#rv-trail');
    const elPeople = $('#rv-people');
    const elDate   = $('#rv-date');
    const elPeriod = $('#rv-period');
    const elAvail  = $('#rv-availability-m');
    const elTotal  = $('#rv-total-m');
    const elDep    = $('#rv-deposit-m');
    const btnPay   = $('#rv-pay-20');

    if (elTrail)  elTrail.textContent  = trail  || '—';
    if (elPeople) elPeople.textContent = people || '—';
    if (elDate)   elDate.textContent   = date   || '—';
    if (elPeriod) elPeriod.textContent = period || '—';
    if (elAvail)  elAvail.textContent  = availability || '—';
    if (elTotal)  elTotal.textContent  = totalStr;

    // Cálculo da taxa de reserva
    const peopleNum = parseInt(people || '0', 10);
    let depositValue = NaN;
    let sumupUrl = '';

    if (
      trail && trail !== '—' &&
      !isNaN(peopleNum) &&
      peopleNum >= MIN_PAX &&
      peopleNum <= MAX_PAX &&
      totalStr !== '—'
    ) {
      // nº de pessoas usado para a taxa e para o link
      const paxForDeposit = Math.min(Math.max(peopleNum, MIN_PAX), MAX_PAX);

      depositValue = paxForDeposit * RES_FEE_PER_PAX;
      sumupUrl = SUMUP_LINKS[paxForDeposit] || '';
    }

    // Atualiza texto da taxa de reserva
    if (elDep) {
      elDep.textContent = Number.isFinite(depositValue)
        ? eur(depositValue)
        : '—';
    }

    // Atualiza botão "Confirmar reserva" com o link SumUp
    if (btnPay) {
      if (sumupUrl && Number.isFinite(depositValue)) {
        btnPay.href = sumupUrl;
        btnPay.setAttribute('aria-disabled', 'false');
      } else {
        btnPay.removeAttribute('href');
        btnPay.setAttribute('aria-disabled', 'true');
      }
    }
  }

  
  // Modal
  function openReserveModal(e) {
    const { ok } = validateBooking();
    if (!ok) {
      e?.preventDefault?.();
      return;
    }

    syncReserveSummary();

    const modal = $('#rv-modal');
    if (modal) {
      modal.style.display = 'flex';
      document.body.classList.add('modal-open');
    }
  }

  function closeReserveModal() {
    const modal = $('#rv-modal');
    if (modal) {
      modal.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  }

  // Liga eventos aos campos do formulário para revalidar
  [
    '#trail',
    '#people',
    '#date_from',
    '#period',
    '#rv-availability',
    '#name',
    '#email',
    '#country'
  ].forEach(sel => {
    const el = $(sel);
    if (!el) return;
    ['change', 'input'].forEach(evt => {
      el.addEventListener(evt, validateBooking);
    });
  });

  // Disponibilidade: observar também mudanças de atributos (data-state)
  const availEl = $('#rv-availability');
  if (availEl) {
    const observer = new MutationObserver(() => validateBooking());
    observer.observe(availEl, {
      childList: true,
      characterData: true,
      subtree: true,
      attributes: true,
      attributeFilter: ['data-state', 'data-i18n']
    });
  }

  // Botões abrir / fechar modal
  $('#btn-open-reserve')?.addEventListener('click', openReserveModal);
  $('#rv-close')?.addEventListener('click', closeReserveModal);
  $('#rv-close-2')?.addEventListener('click', closeReserveModal);

  // Fecha ao clicar fora da caixa do modal
  $('#rv-modal')?.addEventListener('click', ev => {
    if (ev.target === ev.currentTarget) closeReserveModal();
  });

  // Botão "Enviar pedido" dentro do modal
  $('#rv-send')?.addEventListener('click', () => {
    $('#booking-form')?.requestSubmit?.();
    closeReserveModal();
  });

  // Validação inicial ao carregar a página
  validateBooking();


// Botões abrir / fechar modal
$('#btn-open-reserve')?.addEventListener('click', openReserveModal);
$('#rv-close')?.addEventListener('click', closeReserveModal);
$('#rv-close-2')?.addEventListener('click', closeReserveModal);

// Fecha ao clicar fora da caixa do modal
$('#rv-modal')?.addEventListener('click', ev => {
  if (ev.target === ev.currentTarget) closeReserveModal();
});

// Botão "Enviar pedido" dentro do modal
$('#rv-send')?.addEventListener('click', (e) => {
  // — HONEYPOT ANTI-BOT —
  const hp = document.getElementById('hp_field')?.value ?? "";
  if (hp.trim() !== "") {
    console.warn("BOT DETECTADO — submissão bloqueada.");
    e.preventDefault();
    return;
  }
  $('#booking-form')?.requestSubmit?.();
  closeReserveModal();
});

// Validação inicial ao carregar a página
validateBooking();

})();
</script>
  <script>
(() => {
  const $ = (sel, ctx = document) => ctx.querySelector(sel);

  const cancelModal   = $('#modal-cancel-policy');
  const openCancel    = $('#open-cancel-policy');   // link dentro do modal de reserva
  const closeCancel   = $('#cancel-modal-close');

  if (!cancelModal || !openCancel) return;

  function openCancelModal(ev) {
    ev.preventDefault();
    cancelModal.style.display = 'flex';
    document.body.classList.add('modal-open');
  }

  function closeCancelModal(ev) {
    ev && ev.preventDefault && ev.preventDefault();
    cancelModal.style.display = 'none';
    document.body.classList.remove('modal-open');
  }

  openCancel.addEventListener('click', openCancelModal);
  closeCancel?.addEventListener('click', closeCancelModal);

  cancelModal.addEventListener('click', (ev) => {
    if (ev.target === cancelModal) {
      closeCancelModal(ev);
    }
  });
})();
</script>

<!-- ===== Modal: Política de Cancelamento ===== -->
<section id="modal-cancel-policy" class="modal-backdrop" style="display:none;">
  <div class="modal modal-policy">
    <header class="modal__header">
      <h3 data-i18n="cancel.title">Política de Cancelamento</h3>
      <button type="button" class="close-x" id="cancel-modal-close" aria-label="Fechar">×</button>
    </header>

    <div class="modal__body">
      <p data-i18n="cancel.p1">
        • A taxa de Reserva é reembolsável em cancelamentos feitos até <strong>48h antes</strong> do início do trilho.
      </p>
      <p data-i18n="cancel.p2">
        • Em cancelamentos com menos de <strong>48h</strong>, ou em caso de <strong>não comparência</strong>,
        a taxa de reserva não é devolvida.
      </p>
      <p data-i18n="cancel.p3">
        • Caso o passeio seja cancelado por motivos de segurança, condições meteorológicas
        adversas ou outra decisão do guia, a taxa de reserva será <strong>reembolsado na totalidade</strong>
        ou poderá ser reagendado, conforme a tua preferência e disponibilidade.
      </p>
      <p data-i18n="cancel.p4">
        • Alterações de data e horário estão sempre sujeitas à disponibilidade do calendário.
      </p>
    </div>
  </div>
</section>
<script>
// abre modal de Política de Privacidade a partir de QUALQUER link com essa classe
document.querySelectorAll('.js-open-privacy').forEach(el => {
  el.addEventListener('click', function (e) {
    e.preventDefault();                 // evita o scroll por causa do href="#"
    const modal = document.getElementById('modal-privacy');
    if (!modal) return;
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
  });
});

// abre modal de Política de Cancelamento a partir de QUALQUER link com essa classe
document.querySelectorAll('.js-open-cancel').forEach(el => {
  el.addEventListener('click', function (e) {
    e.preventDefault();                 // também evita o scroll
    const modal = document.getElementById('modal-cancel-policy');
    if (!modal) return;
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
  });
});

// fecha modal de privacidade (ajusta os IDs de acordo com o teu HTML)
document.getElementById('close-privacy')?.addEventListener('click', () => {
  const m = document.getElementById('modal-privacy');
  if (m) {
    m.style.display = 'none';
    document.body.classList.remove('modal-open');
  }
});
document.getElementById('close-privacy-footer')?.addEventListener('click', () => {
  const m = document.getElementById('modal-privacy');
  if (m) {
    m.style.display = 'none';
    document.body.classList.remove('modal-open');
  }
});

// fecha modal de cancelamento (botão X + botão "Fechar")
['close-cancel-policy', 'close-cancel-policy-2'].forEach(id => {
  document.getElementById(id)?.addEventListener('click', () => {
    const m = document.getElementById('modal-cancel-policy');
    if (m) {
      m.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  });
});

// fechar se clicar fora da box (para os dois modais)
['modal-privacy', 'modal-cancel-policy'].forEach(id => {
  const m = document.getElementById(id);
  if (!m) return;
  m.addEventListener('click', ev => {
    if (ev.target === ev.currentTarget) {
      m.style.display = 'none';
      document.body.classList.remove('modal-open');
    }
  });
});

  // ===== Colorir dificuldade automaticamente =====
document.querySelectorAll('.pill').forEach(p => {
  const t = p.textContent.toLowerCase();

  if (t.includes('dificuldade')) {
    if (t.includes('fácil / moderado') || t.includes('fácil/moderado')) {
      p.classList.add('diff-easy-medium');
    }
    else if (t.includes('moderado / difícil') || t.includes('moderado/difícil')) {
      p.classList.add('diff-medium-hard');
    }
    else if (t.includes('fácil')) {
      p.classList.add('diff-easy');
    }
    else if (t.includes('moderado')) {
      p.classList.add('diff-medium');
    }
    else if (t.includes('difícil')) {
      p.classList.add('diff-hard');
    }
  }
});

</script>
<script>
// Slider City Walk (vídeo + 6 fotos)
(function(){
  const slider = document.querySelector('.city-slider');
  if (!slider) return;

  const main   = slider.querySelector('.city-main');
  const thumbs = Array.from(slider.querySelectorAll('.city-thumb'));

  function setActive(thumb){
    thumbs.forEach(t => t.classList.remove('is-active'));
    thumb.classList.add('is-active');

    const type = thumb.dataset.type;
    const src  = thumb.dataset.src;

    main.innerHTML = '';

    if (type === 'video'){
      const v = document.createElement('video');
      v.src = src;
      v.muted = true;
      v.loop = true;
      v.playsInline = true;
      v.playsInline = true; 
      main.appendChild(v);
    } else {
      const img = document.createElement('img');
      img.src = src;
      img.alt = 'City Walk Horta';
      main.appendChild(img);
    }
  }

  thumbs.forEach(thumb => {
    thumb.addEventListener('click', () => setActive(thumb));
  });

  // começa sempre no vídeo
  setActive(thumbs[0]);
})();
</script>
<!-- Modal de fotos -->
<div id="photoModal" class="photo-modal">
  <span class="photo-close">&times;</span>
  <img class="photo-modal-content" id="photoModalImg">
  <button class="photo-prev">❮</button>
  <button class="photo-next">❯</button>
</div>
  
<script>
/* ===========================================
   MODAL DE FOTOS – CITY WALK + TODOS OS TRILHOS
   =========================================== */
(function () {
  const modal    = document.getElementById("photoModal");
  if (!modal) return;

  const modalImg = document.getElementById("photoModalImg");
  const closeBtn = modal.querySelector(".photo-close");
  const nextBtn  = modal.querySelector(".photo-next");
  const prevBtn  = modal.querySelector(".photo-prev");

  let currentList = [];
  let index = 0;

  function openWithList(list, start) {
    if (!list.length) return;
    currentList = list;
    index = start || 0;
    modalImg.src = currentList[index];
    modal.style.display = "block";
  }

  /* ---- CITY WALK (thumbs) ---- */
  const cityThumbs = Array.from(
    document.querySelectorAll(".city-thumb[data-type='img']")
  );
  const cityImgs = cityThumbs.map(t => t.dataset.src);

  // duplo clique na thumb abre em grande
  cityThumbs.forEach((thumb, i) => {
    thumb.addEventListener("dblclick", () => {
      openWithList(cityImgs, i);
    });
  });

  /* ---- TODOS OS .loop-slider (Entre Montes, Neptuno, etc.) ---- */
  document.querySelectorAll(".loop-slider").forEach((slider) => {
    const imgs = Array.from(
      slider.querySelectorAll(".loop-items span[data-type='img']")
    ).map(el => el.dataset.src);

    if (!imgs.length) return;

    const main = slider.querySelector(".loop-main");
    if (!main) return;

    main.addEventListener("click", () => {
      // tenta começar na foto que está visível
      const currentImg = main.querySelector("img");
      let startIdx = 0;

      if (currentImg) {
        const src = currentImg.getAttribute("src");
        const found = imgs.findIndex(s => s === src);
        if (found >= 0) startIdx = found;
      }

      openWithList(imgs, startIdx);
    });
  });

  /* ---- Navegação Next / Prev ---- */
  function showNext(step) {
    if (!currentList.length) return;
    index = (index + step + currentList.length) % currentList.length;
    modalImg.src = currentList[index];
  }

  nextBtn.onclick = () => showNext(+1);
  prevBtn.onclick = () => showNext(-1);

  /* ---- Fechar modal ---- */
  closeBtn.onclick = () => modal.style.display = "none";

  modal.addEventListener("click", (e) => {
    if (e.target === modal) modal.style.display = "none";
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape")     modal.style.display = "none";
    if (e.key === "ArrowRight") showNext(+1);
    if (e.key === "ArrowLeft")  showNext(-1);
  });
})();
</script>

<script>
(() => {
  const $ = (sel, ctx = document) => ctx.querySelector(sel);

  const bookingModal   = $('#booking-modal');
  const bookingSection = $('#booking');
  const trailInput     = $('#trail');
  const subtitle       = $('#booking-subtitle');

  if (!bookingModal || !bookingSection) return;

  // 1) Mover a secção #booking para dentro do backdrop → deixa de ocupar espaço na página
  bookingModal.appendChild(bookingSection);

  // 2) Dar-lhe estilos de modal
  bookingSection.classList.remove('wrap', 'about');
  bookingSection.classList.add('modal', 'booking-modal');

  function openBooking(trailName = '') {
    // novo campo oficial
    const trailPicker = document.getElementById('trail');

    // preencher o select
    if (trailPicker) {
        trailPicker.value = trailName || '';
    }

    // texto animado do topo (i18n)
if (subtitle) {
  const lang = localStorage.getItem('hwc_lang') || 'pt';
  const root = window.I18N || {};              // ← seguro
  const dict = root[lang] || root.pt || {};    // ← se não houver, fica {}

  if (trailName) {
    const prefix = dict["booking.subtitle.prefix"] || "Estás a reservar o trilho:";
    subtitle.textContent = `${prefix} ${trailName}`;
  } else {
    subtitle.textContent = dict["booking.subtitle.noTrail"] || "Seleciona um trilho abaixo.";
  }
}



    bookingModal.style.display = "flex";
    document.body.classList.add("modal-open");
}


  function closeBooking() {
    bookingModal.style.display = 'none';
    document.body.classList.remove('modal-open');
  }

  // Botão X do modal
  $('#booking-close')?.addEventListener('click', closeBooking);

  // Fechar ao clicar fora da caixa
  bookingModal.addEventListener('click', (ev) => {
    if (ev.target === bookingModal) closeBooking();
  });

  // Botão flutuante "Reservar" (abre sem trilho definido)
  document.querySelectorAll('.js-open-booking').forEach(btn => {
    btn.addEventListener('click', (ev) => {
      ev.preventDefault();
      openBooking('');
    });
  });

  // Botões "Reservar" dos cartões de trilho (já tens a classe js-reserve)
  document.querySelectorAll('.js-reserve').forEach(btn => {
    btn.addEventListener('click', (ev) => {
      ev.preventDefault();
      const trailName = btn.getAttribute('data-trail') || '';
      openBooking(trailName);
    });
  });
})();
</script>
<script> 
/* ============================
   LOOP AUTOMÁTICO – TODOS OS TRILHOS COM .loop-slider
   ============================ */
(function () {
  const sliders = document.querySelectorAll(".loop-slider");
  if (!sliders.length) return;

  sliders.forEach((slider) => {
    const main  = slider.querySelector(".loop-main");
    const items = Array.from(slider.querySelectorAll(".loop-items span"));
    if (!main || !items.length) return;

    function render(i) {
      const item = items[i];
      if (!item) return;

      main.innerHTML = "";

      const type = item.dataset.type;
      const src  = item.dataset.src;

            if (type === "video") {
        const v = document.createElement("video");

        // propriedades
        v.src = src;
        v.muted = true;
        v.playsInline = true;
        v.loop = false; // vídeo só no início

        // atributos (alguns browsers só respeitam assim)
        v.setAttribute("muted", "");
        v.setAttribute("playsinline", "");
        // sem autoplay aqui

        main.appendChild(v);
      } else {

        const img = document.createElement("img");
        img.src = src;
        img.alt = "Trail photo";
        main.appendChild(img);
      }
    }

    // começa sempre no vídeo (índice 0)
    render(0);

    // depois entra num loop que inclui o vídeo outra vez
function startLoop() {
  let idx = 1;                       // começa na primeira foto
  if (items.length <= 1) return;

  setInterval(() => {
    render(idx);
    idx++;
    if (idx >= items.length) {
      idx = 0;                       // 👈 volta ao 0, ou seja, ao vídeo
    }
  }, 4000);
}

    setTimeout(startLoop, 13000);
  });
})();


</script>

  <script>
  // Controlar quando os vídeos arrancam:
  // - Desktop: só ao passar o rato
  // - Telemóvel/tablet: quando o bloco entra em vista
  (function () {
    const mains = document.querySelectorAll('.city-main, .loop-main');
    if (!mains.length) return;

    const isTouch =
      'ontouchstart' in window || navigator.maxTouchPoints > 0;

    function playIn(el) {
      const v = el.querySelector('video');
      if (v) {
        v.play().catch(() => {});
      }
    }

    function pauseIn(el) {
      const v = el.querySelector('video');
      if (v) {
        v.pause();
      }
    }

    // Desktop: hover
    mains.forEach((main) => {
      if (!main) return;
      if (!isTouch) {
        main.addEventListener('mouseenter', () => playIn(main));
        main.addEventListener('mouseleave', () => pauseIn(main));
      }
    });

    // Telemóveis/tablets: quando entra/sai do viewport
    if (isTouch && 'IntersectionObserver' in window) {
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const el = entry.target;
            if (entry.isIntersecting) {
              playIn(el);
            } else {
              pauseIn(el);
            }
          });
        },
        { threshold: 0.6 } // tem de estar ~60% visível
      );

      mains.forEach((main) => io.observe(main));
    }
  })();
</script>

<script>
(function(){
  const trailPicker = document.getElementById('trail');


  if (!trailInput || !trailPicker) return;

  // 1) quando o utilizador escolhe no select → copiar para o input
  trailPicker.addEventListener('change', () => {
    trailInput.value = trailPicker.value;
  });

  // 2) integrar com a função openBooking se já a tens
  //    (se não tiveres, ignora esta parte)
  const originalOpen = window.openBooking;
  if (typeof originalOpen === 'function') {
    window.openBooking = function(trailName){
      // chama a função original
      originalOpen(trailName);

      // sincroniza select com o trilho vindo do botão
      if (trailName) {
        let matched = false;
        Array.from(trailPicker.options).forEach(opt => {
          if (opt.value.trim() === trailName.trim()) {
            trailPicker.value = opt.value;
            matched = true;
          }
        });
        if (!matched) {
          trailPicker.value = '';
        }
      } else {
        // chamado a partir do botão fixo / barra → limpa tudo
        trailPicker.value = '';
        trailInput.value  = '';
      }
    };
  }
})();
</script>



</body>
</html>
